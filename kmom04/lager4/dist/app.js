/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/config/config.js":
/*!*****************************!*\
  !*** ./js/config/config.js ***!
  \*****************************/
/*! exports provided: config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n\n\n//import m from \"mithril\";\n\nlet config = {\n    api: \"7c80cd3c03b77624d1856cc19b0693b1\"\n    //api: \"9605e96d5bbf42aba652df700ad01e69\"\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9jb25maWcvY29uZmlnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvY29uZmlnL2NvbmZpZy5qcz80YzIwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vL2ltcG9ydCBtIGZyb20gXCJtaXRocmlsXCI7XG5cbmxldCBjb25maWcgPSB7XG4gICAgYXBpOiBcIjdjODBjZDNjMDNiNzc2MjRkMTg1NmNjMTliMDY5M2IxXCJcbiAgICAvL2FwaTogXCI5NjA1ZTk2ZDViYmY0MmFiYTY1MmRmNzAwYWQwMWU2OVwiXG59O1xuXG5leHBvcnQgeyBjb25maWcgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/config/config.js\n");

/***/ }),

/***/ "./js/index.js":
/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_access_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models/access.js */ \"./js/models/access.js\");\n/* harmony import */ var _views_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/layout */ \"./js/views/layout.js\");\n/* harmony import */ var _views_home__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/home */ \"./js/views/home.js\");\n/* harmony import */ var _views_view_stock__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./views/view-stock */ \"./js/views/view-stock.js\");\n/* harmony import */ var _views_view_product__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views/view-product */ \"./js/views/view-product.js\");\n/* harmony import */ var _views_view_order__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./views/view-order */ \"./js/views/view-order.js\");\n/* harmony import */ var _views_view_picklist__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./views/view-picklist */ \"./js/views/view-picklist.js\");\n/* harmony import */ var _views_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./views/list */ \"./js/views/list.js\");\n/* harmony import */ var _views_add_delivery__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./views/add-delivery */ \"./js/views/add-delivery.js\");\n/* harmony import */ var _views_add_product__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./views/add-product */ \"./js/views/add-product.js\");\n/* harmony import */ var _views_register__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./views/register */ \"./js/views/register.js\");\n/* harmony import */ var _views_login__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./views/login */ \"./js/views/login.js\");\n/* harmony import */ var _views_invoice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./views/invoice */ \"./js/views/invoice.js\");\n/* harmony import */ var _views_view_invoice__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./views/view-invoice */ \"./js/views/view-invoice.js\");\n/* harmony import */ var _views_create_invoice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./views/create-invoice */ \"./js/views/create-invoice.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route(document.body, \"/\", {\n    \"/\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_home__WEBPACK_IMPORTED_MODULE_3__[\"home\"]));\n        }\n    },\n    \"/view-stock\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_view_stock__WEBPACK_IMPORTED_MODULE_4__[\"stockView\"]));\n        }\n    },\n    \"/view-product/:id\": {\n        render: function(vnode) {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_view_product__WEBPACK_IMPORTED_MODULE_5__[\"productView\"], vnode.attrs));\n        }\n    },\n    \"/view-order\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_view_order__WEBPACK_IMPORTED_MODULE_6__[\"orderView\"]));\n        }\n    },\n    \"/view-picklist/:id\": {\n        render: function(vnode) {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_view_picklist__WEBPACK_IMPORTED_MODULE_7__[\"picklistView\"], vnode.attrs));\n        }\n    },\n    \"/delivery\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_list__WEBPACK_IMPORTED_MODULE_8__[\"list\"]));\n        }\n    },\n    \"/add-delivery\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_add_delivery__WEBPACK_IMPORTED_MODULE_9__[\"addDelivery\"]));\n        }\n    },\n    \"/add-product\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_add_product__WEBPACK_IMPORTED_MODULE_10__[\"addProduct\"]));\n        }\n    },\n    \"/register\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_register__WEBPACK_IMPORTED_MODULE_11__[\"registerUser\"]));\n        }\n    },\n    \"/login\": {\n        render: function() {\n            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_login__WEBPACK_IMPORTED_MODULE_12__[\"loginUser\"]));\n        }\n    },\n    \"/invoice\": {\n        render: function() {\n            if (_models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].token.value) {\n                return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_invoice__WEBPACK_IMPORTED_MODULE_13__[\"invoiceView\"]));\n            } else {\n                return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/login\");\n            }\n        }\n    },\n    \"/view-invoice/:id\": {\n        render: function(vnode) {\n            if (_models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].token.value) {\n                return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_view_invoice__WEBPACK_IMPORTED_MODULE_14__[\"invoiceDetails\"], vnode.attrs));\n            } else {\n                return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/login\");\n            }\n        }\n    },\n    \"/create-invoice\": {\n        render: function() {\n            if (_models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].token.value) {\n                return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_layout__WEBPACK_IMPORTED_MODULE_2__[\"layout\"], Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_views_create_invoice__WEBPACK_IMPORTED_MODULE_15__[\"invoiceCreate\"]));\n            } else {\n                return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/login\");\n            }\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2luZGV4LmpzP2VlMWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgbSBmcm9tICdtaXRocmlsJztcblxuaW1wb3J0IHsgYWNjZXNzIH0gZnJvbSBcIi4vbW9kZWxzL2FjY2Vzcy5qc1wiO1xuaW1wb3J0IHsgbGF5b3V0IH0gZnJvbSAnLi92aWV3cy9sYXlvdXQnO1xuaW1wb3J0IHsgaG9tZSB9IGZyb20gJy4vdmlld3MvaG9tZSc7XG5pbXBvcnQgeyBzdG9ja1ZpZXcgfSBmcm9tICcuL3ZpZXdzL3ZpZXctc3RvY2snO1xuaW1wb3J0IHsgcHJvZHVjdFZpZXcgfSBmcm9tICcuL3ZpZXdzL3ZpZXctcHJvZHVjdCc7XG5pbXBvcnQgeyBvcmRlclZpZXcgfSBmcm9tICcuL3ZpZXdzL3ZpZXctb3JkZXInO1xuaW1wb3J0IHsgcGlja2xpc3RWaWV3IH0gZnJvbSAnLi92aWV3cy92aWV3LXBpY2tsaXN0JztcbmltcG9ydCB7IGxpc3QgfSBmcm9tICcuL3ZpZXdzL2xpc3QnO1xuaW1wb3J0IHsgYWRkRGVsaXZlcnkgfSBmcm9tICcuL3ZpZXdzL2FkZC1kZWxpdmVyeSc7XG5pbXBvcnQgeyBhZGRQcm9kdWN0IH0gZnJvbSAnLi92aWV3cy9hZGQtcHJvZHVjdCc7XG5pbXBvcnQgeyByZWdpc3RlclVzZXIgfSBmcm9tICcuL3ZpZXdzL3JlZ2lzdGVyJztcbmltcG9ydCB7IGxvZ2luVXNlciB9IGZyb20gJy4vdmlld3MvbG9naW4nO1xuaW1wb3J0IHsgaW52b2ljZVZpZXcgfSBmcm9tICcuL3ZpZXdzL2ludm9pY2UnO1xuaW1wb3J0IHsgaW52b2ljZURldGFpbHMgfSBmcm9tICcuL3ZpZXdzL3ZpZXctaW52b2ljZSc7XG5pbXBvcnQgeyBpbnZvaWNlQ3JlYXRlIH0gZnJvbSAnLi92aWV3cy9jcmVhdGUtaW52b2ljZSc7XG5cbm0ucm91dGUoZG9jdW1lbnQuYm9keSwgXCIvXCIsIHtcbiAgICBcIi9cIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG0obGF5b3V0LCBtKGhvbWUpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIvdmlldy1zdG9ja1wiOiB7XG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbShsYXlvdXQsIG0oc3RvY2tWaWV3KSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL3ZpZXctcHJvZHVjdC86aWRcIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbShsYXlvdXQsIG0ocHJvZHVjdFZpZXcsIHZub2RlLmF0dHJzKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL3ZpZXctb3JkZXJcIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG0obGF5b3V0LCBtKG9yZGVyVmlldykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi92aWV3LXBpY2tsaXN0LzppZFwiOiB7XG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odm5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtKGxheW91dCwgbShwaWNrbGlzdFZpZXcsIHZub2RlLmF0dHJzKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL2RlbGl2ZXJ5XCI6IHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtKGxheW91dCwgbShsaXN0KSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL2FkZC1kZWxpdmVyeVwiOiB7XG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbShsYXlvdXQsIG0oYWRkRGVsaXZlcnkpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIvYWRkLXByb2R1Y3RcIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG0obGF5b3V0LCBtKGFkZFByb2R1Y3QpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIvcmVnaXN0ZXJcIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG0obGF5b3V0LCBtKHJlZ2lzdGVyVXNlcikpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi9sb2dpblwiOiB7XG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbShsYXlvdXQsIG0obG9naW5Vc2VyKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL2ludm9pY2VcIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFjY2Vzcy50b2tlbi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtKGxheW91dCwgbShpbnZvaWNlVmlldykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5yb3V0ZS5zZXQoXCIvbG9naW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL3ZpZXctaW52b2ljZS86aWRcIjoge1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZub2RlKSB7XG4gICAgICAgICAgICBpZiAoYWNjZXNzLnRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0obGF5b3V0LCBtKGludm9pY2VEZXRhaWxzLCB2bm9kZS5hdHRycykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5yb3V0ZS5zZXQoXCIvbG9naW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiL2NyZWF0ZS1pbnZvaWNlXCI6IHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhY2Nlc3MudG9rZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbShsYXlvdXQsIG0oaW52b2ljZUNyZWF0ZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5yb3V0ZS5zZXQoXCIvbG9naW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/index.js\n");

/***/ }),

/***/ "./js/models/access.js":
/*!*****************************!*\
  !*** ./js/models/access.js ***!
  \*****************************/
/*! exports provided: access */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"access\", function() { return access; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config.js */ \"./js/config/config.js\");\n\n\n\n\n\nlet access = {\n    current: { data: [] },\n    loggedin: { data: [] },\n    load: function() {\n        var currentUser = {\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api,\n            email: access.current.email,\n            password: access.current.pass\n        };\n\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"POST\",\n            url: \"https://lager.emilfolino.se/v2/auth/login\",\n            data: currentUser\n        }).then(function(result) {\n            access.loggedin = result;\n            access.token.value = access.loggedin.data.token;\n            mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/invoice\");\n        }).catch(function() {\n            mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/register\");\n        });\n    },\n    save: function() {\n        var newUser = {\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api,\n            email: access.current.email,\n            password: access.current.pass\n        };\n\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"POST\",\n            url: \"https://lager.emilfolino.se/v2/auth/register\",\n            data: newUser\n        }).then(function(result) {\n            console.log(result);\n            access.load();\n        });\n    },\n    token: {\n        value: \"\"\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tb2RlbHMvYWNjZXNzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvbW9kZWxzL2FjY2Vzcy5qcz84OGMyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgbSBmcm9tIFwibWl0aHJpbFwiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWcuanNcIjtcblxubGV0IGFjY2VzcyA9IHtcbiAgICBjdXJyZW50OiB7IGRhdGE6IFtdIH0sXG4gICAgbG9nZ2VkaW46IHsgZGF0YTogW10gfSxcbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0ge1xuICAgICAgICAgICAgYXBpX2tleTogY29uZmlnLmFwaSxcbiAgICAgICAgICAgIGVtYWlsOiBhY2Nlc3MuY3VycmVudC5lbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBhY2Nlc3MuY3VycmVudC5wYXNzXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vbGFnZXIuZW1pbGZvbGluby5zZS92Mi9hdXRoL2xvZ2luXCIsXG4gICAgICAgICAgICBkYXRhOiBjdXJyZW50VXNlclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgYWNjZXNzLmxvZ2dlZGluID0gcmVzdWx0O1xuICAgICAgICAgICAgYWNjZXNzLnRva2VuLnZhbHVlID0gYWNjZXNzLmxvZ2dlZGluLmRhdGEudG9rZW47XG4gICAgICAgICAgICBtLnJvdXRlLnNldChcIi9pbnZvaWNlXCIpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG0ucm91dGUuc2V0KFwiL3JlZ2lzdGVyXCIpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmV3VXNlciA9IHtcbiAgICAgICAgICAgIGFwaV9rZXk6IGNvbmZpZy5hcGksXG4gICAgICAgICAgICBlbWFpbDogYWNjZXNzLmN1cnJlbnQuZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogYWNjZXNzLmN1cnJlbnQucGFzc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvYXV0aC9yZWdpc3RlclwiLFxuICAgICAgICAgICAgZGF0YTogbmV3VXNlclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgIGFjY2Vzcy5sb2FkKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdG9rZW46IHtcbiAgICAgICAgdmFsdWU6IFwiXCJcbiAgICB9XG59O1xuXG5leHBvcnQgeyBhY2Nlc3MgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/models/access.js\n");

/***/ }),

/***/ "./js/models/delivery.js":
/*!*******************************!*\
  !*** ./js/models/delivery.js ***!
  \*******************************/
/*! exports provided: delivery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delivery\", function() { return delivery; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config.js */ \"./js/config/config.js\");\n/* harmony import */ var _models_product_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/product.js */ \"./js/models/product.js\");\n\n\n\n\n\n\nlet delivery = {\n    current: { data: [] },\n    load: function() {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/deliveries?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`\n        }).then(function(result) {\n            delivery.current = result;\n            console.log(result);\n        });\n    },\n    save: function() {\n        var newDelivery = {\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api,\n            product_id: delivery.current.product_id,\n            amount: delivery.current.amount,\n            delivery_date: delivery.current.delivery_date,\n            comment: delivery.current.comment\n        };\n\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"POST\",\n            url: \"https://lager.emilfolino.se/v2/deliveries\",\n            data: newDelivery\n        }).then(function() {\n            _models_product_js__WEBPACK_IMPORTED_MODULE_2__[\"product\"].addStock(newDelivery.product_id, newDelivery.amount);\n            mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/delivery\");\n        });\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tb2RlbHMvZGVsaXZlcnkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tb2RlbHMvZGVsaXZlcnkuanM/YmFmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IG0gZnJvbSBcIm1pdGhyaWxcIjtcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBwcm9kdWN0IH0gZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0LmpzXCI7XG5cbmxldCBkZWxpdmVyeSA9IHtcbiAgICBjdXJyZW50OiB7IGRhdGE6IFtdIH0sXG4gICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9sYWdlci5lbWlsZm9saW5vLnNlL3YyL2RlbGl2ZXJpZXM/YXBpX2tleT0ke2NvbmZpZy5hcGl9YFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgZGVsaXZlcnkuY3VycmVudCA9IHJlc3VsdDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXdEZWxpdmVyeSA9IHtcbiAgICAgICAgICAgIGFwaV9rZXk6IGNvbmZpZy5hcGksXG4gICAgICAgICAgICBwcm9kdWN0X2lkOiBkZWxpdmVyeS5jdXJyZW50LnByb2R1Y3RfaWQsXG4gICAgICAgICAgICBhbW91bnQ6IGRlbGl2ZXJ5LmN1cnJlbnQuYW1vdW50LFxuICAgICAgICAgICAgZGVsaXZlcnlfZGF0ZTogZGVsaXZlcnkuY3VycmVudC5kZWxpdmVyeV9kYXRlLFxuICAgICAgICAgICAgY29tbWVudDogZGVsaXZlcnkuY3VycmVudC5jb21tZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vbGFnZXIuZW1pbGZvbGluby5zZS92Mi9kZWxpdmVyaWVzXCIsXG4gICAgICAgICAgICBkYXRhOiBuZXdEZWxpdmVyeVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvZHVjdC5hZGRTdG9jayhuZXdEZWxpdmVyeS5wcm9kdWN0X2lkLCBuZXdEZWxpdmVyeS5hbW91bnQpO1xuICAgICAgICAgICAgbS5yb3V0ZS5zZXQoXCIvZGVsaXZlcnlcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IGRlbGl2ZXJ5IH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/models/delivery.js\n");

/***/ }),

/***/ "./js/models/invoice.js":
/*!******************************!*\
  !*** ./js/models/invoice.js ***!
  \******************************/
/*! exports provided: invoice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"invoice\", function() { return invoice; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config.js */ \"./js/config/config.js\");\n/* harmony import */ var _models_access_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/access.js */ \"./js/models/access.js\");\n/* harmony import */ var _models_order_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/order.js */ \"./js/models/order.js\");\n/* harmony import */ var _models_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/utils.js */ \"./js/models/utils.js\");\n\n\n\n\n\n\n\n\nlet invoice = {\n    current: { data: [] },\n    show: [],\n    load: function() {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/invoices?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`,\n            headers: {\n                \"x-access-token\": _models_access_js__WEBPACK_IMPORTED_MODULE_2__[\"access\"].token.value\n            }\n        }).then(function(result) {\n            invoice.current = result;\n            console.log(result);\n        });\n    },\n    save: async function() {\n        var total = 0;\n\n        await _models_order_js__WEBPACK_IMPORTED_MODULE_3__[\"order\"].loadPicklist(invoice.current.order_id);\n\n        _models_order_js__WEBPACK_IMPORTED_MODULE_3__[\"order\"].picklist.forEach(function(row) {\n            total += parseInt(row.amount) * parseInt(row.price);\n        });\n        var newInvoice = {\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api,\n            order_id: invoice.current.order_id,\n            total_price: total,\n            creation_date: _models_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].getToday(),\n            due_date: _models_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].getDate(30)\n        };\n\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"POST\",\n            url: \"https://lager.emilfolino.se/v2/invoices\",\n            headers: {\n                \"x-access-token\": _models_access_js__WEBPACK_IMPORTED_MODULE_2__[\"access\"].token.value\n            },\n            data: newInvoice\n        }).then(function() {\n            _models_order_js__WEBPACK_IMPORTED_MODULE_3__[\"order\"].updateStatus(600);\n            mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/invoice\");\n        });\n    },\n    loadDetails: async function(id) {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/invoices/${id}?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`,\n            headers: {\n                \"x-access-token\": _models_access_js__WEBPACK_IMPORTED_MODULE_2__[\"access\"].token.value\n            }\n        }).then(function(result) {\n            invoice.show = result.data;\n            console.log(result);\n        });\n    },\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tb2RlbHMvaW52b2ljZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL21vZGVscy9pbnZvaWNlLmpzPzIzYjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBtIGZyb20gXCJtaXRocmlsXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vY29uZmlnL2NvbmZpZy5qc1wiO1xuaW1wb3J0IHsgYWNjZXNzIH0gZnJvbSBcIi4uL21vZGVscy9hY2Nlc3MuanNcIjtcbmltcG9ydCB7IG9yZGVyIH0gZnJvbSBcIi4uL21vZGVscy9vcmRlci5qc1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vbW9kZWxzL3V0aWxzLmpzXCI7XG5cbmxldCBpbnZvaWNlID0ge1xuICAgIGN1cnJlbnQ6IHsgZGF0YTogW10gfSxcbiAgICBzaG93OiBbXSxcbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6IGBodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvaW52b2ljZXM/YXBpX2tleT0ke2NvbmZpZy5hcGl9YCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIngtYWNjZXNzLXRva2VuXCI6IGFjY2Vzcy50b2tlbi52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgaW52b2ljZS5jdXJyZW50ID0gcmVzdWx0O1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzYXZlOiBhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcblxuICAgICAgICBhd2FpdCBvcmRlci5sb2FkUGlja2xpc3QoaW52b2ljZS5jdXJyZW50Lm9yZGVyX2lkKTtcblxuICAgICAgICBvcmRlci5waWNrbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgdG90YWwgKz0gcGFyc2VJbnQocm93LmFtb3VudCkgKiBwYXJzZUludChyb3cucHJpY2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG5ld0ludm9pY2UgPSB7XG4gICAgICAgICAgICBhcGlfa2V5OiBjb25maWcuYXBpLFxuICAgICAgICAgICAgb3JkZXJfaWQ6IGludm9pY2UuY3VycmVudC5vcmRlcl9pZCxcbiAgICAgICAgICAgIHRvdGFsX3ByaWNlOiB0b3RhbCxcbiAgICAgICAgICAgIGNyZWF0aW9uX2RhdGU6IHV0aWxzLmdldFRvZGF5KCksXG4gICAgICAgICAgICBkdWVfZGF0ZTogdXRpbHMuZ2V0RGF0ZSgzMClcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbS5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9sYWdlci5lbWlsZm9saW5vLnNlL3YyL2ludm9pY2VzXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiBhY2Nlc3MudG9rZW4udmFsdWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiBuZXdJbnZvaWNlXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBvcmRlci51cGRhdGVTdGF0dXMoNjAwKTtcbiAgICAgICAgICAgIG0ucm91dGUuc2V0KFwiL2ludm9pY2VcIik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbG9hZERldGFpbHM6IGFzeW5jIGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9sYWdlci5lbWlsZm9saW5vLnNlL3YyL2ludm9pY2VzLyR7aWR9P2FwaV9rZXk9JHtjb25maWcuYXBpfWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiBhY2Nlc3MudG9rZW4udmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIGludm9pY2Uuc2hvdyA9IHJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGludm9pY2UgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/models/invoice.js\n");

/***/ }),

/***/ "./js/models/order.js":
/*!****************************!*\
  !*** ./js/models/order.js ***!
  \****************************/
/*! exports provided: order */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"order\", function() { return order; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config.js */ \"./js/config/config.js\");\n/* harmony import */ var _models_product_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/product.js */ \"./js/models/product.js\");\n\n\n\n\n\n\nlet order = {\n    current: { data: [] },\n    show: { data: [] },\n    picklist: [],\n    load: function() {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/orders?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`\n        }).then(function(result) {\n            order.current = result;\n            console.log(result);\n        });\n    },\n    loadPicklist: function(id) {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/orders/${id}?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`\n        }).then(function(result) {\n            order.show = result;\n            order.picklist = result.data.order_items;\n            console.log(result);\n        });\n    },\n    packOrder: function () {\n        order.updateStatus(200);\n        order.picklist.forEach(function(row) {\n            _models_product_js__WEBPACK_IMPORTED_MODULE_2__[\"product\"].removeStock(row);\n        });\n        mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/view-order\");\n        console.log(\"Order Packed\");\n    },\n    updateStatus: function(code) {\n        var updatedOrder = {\n            id: order.show.data.id,\n            name: order.show.data.name,\n            address: order.show.data.address,\n            zip: order.show.data.zip,\n            city: order.show.data.city,\n            country: order.show.data.country,\n            status_id: code,\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api\n        };\n\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"PUT\",\n            url: \"https://lager.emilfolino.se/v2/orders\",\n            data: updatedOrder\n        }).then(function() {\n            console.log(\"Order status updated\");\n        });\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tb2RlbHMvb3JkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tb2RlbHMvb3JkZXIuanM/NGY2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IG0gZnJvbSBcIm1pdGhyaWxcIjtcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBwcm9kdWN0IH0gZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0LmpzXCI7XG5cbmxldCBvcmRlciA9IHtcbiAgICBjdXJyZW50OiB7IGRhdGE6IFtdIH0sXG4gICAgc2hvdzogeyBkYXRhOiBbXSB9LFxuICAgIHBpY2tsaXN0OiBbXSxcbiAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6IGBodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvb3JkZXJzP2FwaV9rZXk9JHtjb25maWcuYXBpfWBcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIG9yZGVyLmN1cnJlbnQgPSByZXN1bHQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGxvYWRQaWNrbGlzdDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6IGBodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvb3JkZXJzLyR7aWR9P2FwaV9rZXk9JHtjb25maWcuYXBpfWBcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIG9yZGVyLnNob3cgPSByZXN1bHQ7XG4gICAgICAgICAgICBvcmRlci5waWNrbGlzdCA9IHJlc3VsdC5kYXRhLm9yZGVyX2l0ZW1zO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwYWNrT3JkZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3JkZXIudXBkYXRlU3RhdHVzKDIwMCk7XG4gICAgICAgIG9yZGVyLnBpY2tsaXN0LmZvckVhY2goZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICBwcm9kdWN0LnJlbW92ZVN0b2NrKHJvdyk7XG4gICAgICAgIH0pO1xuICAgICAgICBtLnJvdXRlLnNldChcIi92aWV3LW9yZGVyXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9yZGVyIFBhY2tlZFwiKTtcbiAgICB9LFxuICAgIHVwZGF0ZVN0YXR1czogZnVuY3Rpb24oY29kZSkge1xuICAgICAgICB2YXIgdXBkYXRlZE9yZGVyID0ge1xuICAgICAgICAgICAgaWQ6IG9yZGVyLnNob3cuZGF0YS5pZCxcbiAgICAgICAgICAgIG5hbWU6IG9yZGVyLnNob3cuZGF0YS5uYW1lLFxuICAgICAgICAgICAgYWRkcmVzczogb3JkZXIuc2hvdy5kYXRhLmFkZHJlc3MsXG4gICAgICAgICAgICB6aXA6IG9yZGVyLnNob3cuZGF0YS56aXAsXG4gICAgICAgICAgICBjaXR5OiBvcmRlci5zaG93LmRhdGEuY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IG9yZGVyLnNob3cuZGF0YS5jb3VudHJ5LFxuICAgICAgICAgICAgc3RhdHVzX2lkOiBjb2RlLFxuICAgICAgICAgICAgYXBpX2tleTogY29uZmlnLmFwaVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vbGFnZXIuZW1pbGZvbGluby5zZS92Mi9vcmRlcnNcIixcbiAgICAgICAgICAgIGRhdGE6IHVwZGF0ZWRPcmRlclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPcmRlciBzdGF0dXMgdXBkYXRlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgb3JkZXIgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/models/order.js\n");

/***/ }),

/***/ "./js/models/product.js":
/*!******************************!*\
  !*** ./js/models/product.js ***!
  \******************************/
/*! exports provided: product */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"product\", function() { return product; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config.js */ \"./js/config/config.js\");\n\n\n\n\n\nlet product = {\n    current: { data: [] },\n    show: [],\n    load: function() {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/products?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`\n        }).then(function(result) {\n            product.current = result;\n            console.log(result);\n        });\n    },\n    save: function() {\n        var newProduct = {\n            article_number: product.current.article_number,\n            name: product.current.name,\n            description: product.current.description,\n            specifiers: product.current.specifiers,\n            stock: product.current.stock,\n            location: product.current.location,\n            price: product.current.price,\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api\n        };\n\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"POST\",\n            url: \"https://lager.emilfolino.se/v2/products\",\n            data: newProduct\n        }).then(function() {\n            mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.set(\"/add-delivery\");\n        });\n    },\n    loadDetails: function(id) {\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"GET\",\n            url: `https://lager.emilfolino.se/v2/products/${id}?api_key=${_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api}`\n        }).then(function(result) {\n            product.show = result.data;\n            console.log(result);\n        });\n    },\n    addStock: async function(id, amount) {\n        let productToUpdate;\n\n        product.current.data.forEach(function(row) {\n            if (row.id == id) {\n                productToUpdate = row;\n            }\n        });\n\n        var updateProduct = {\n            id: productToUpdate.id,\n            article_number: productToUpdate.article_number,\n            name: productToUpdate.name,\n            description: productToUpdate.description,\n            specifiers: productToUpdate.specifiers,\n            stock: parseInt(productToUpdate.stock) + parseInt(amount),\n            location: productToUpdate.location,\n            price: productToUpdate.price,\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api\n        };\n\n        console.log(updateProduct);\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"PUT\",\n            url: \"https://lager.emilfolino.se/v2/products\",\n            data: updateProduct\n        }).then(function() {\n            console.log(\"Delivery added\");\n        });\n    },\n    removeStock: async function(item) {\n        var updateProduct = {\n            id: item.product_id,\n            article_number: item.article_number,\n            name: item.name,\n            description: item.description,\n            specifiers: item.specifiers,\n            stock: parseInt(item.stock) - parseInt(item.amount),\n            location: item.location,\n            price: item.price,\n            api_key: _config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"config\"].api\n        };\n\n        console.log(updateProduct);\n        return mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].request({\n            method: \"PUT\",\n            url: \"https://lager.emilfolino.se/v2/products\",\n            data: updateProduct\n        }).then(function() {\n            console.log(\"Stock updated\");\n        });\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tb2RlbHMvcHJvZHVjdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL21vZGVscy9wcm9kdWN0LmpzP2RhMmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBtIGZyb20gXCJtaXRocmlsXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vY29uZmlnL2NvbmZpZy5qc1wiO1xuXG5sZXQgcHJvZHVjdCA9IHtcbiAgICBjdXJyZW50OiB7IGRhdGE6IFtdIH0sXG4gICAgc2hvdzogW10sXG4gICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9sYWdlci5lbWlsZm9saW5vLnNlL3YyL3Byb2R1Y3RzP2FwaV9rZXk9JHtjb25maWcuYXBpfWBcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIHByb2R1Y3QuY3VycmVudCA9IHJlc3VsdDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXdQcm9kdWN0ID0ge1xuICAgICAgICAgICAgYXJ0aWNsZV9udW1iZXI6IHByb2R1Y3QuY3VycmVudC5hcnRpY2xlX251bWJlcixcbiAgICAgICAgICAgIG5hbWU6IHByb2R1Y3QuY3VycmVudC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2R1Y3QuY3VycmVudC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNwZWNpZmllcnM6IHByb2R1Y3QuY3VycmVudC5zcGVjaWZpZXJzLFxuICAgICAgICAgICAgc3RvY2s6IHByb2R1Y3QuY3VycmVudC5zdG9jayxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBwcm9kdWN0LmN1cnJlbnQubG9jYXRpb24sXG4gICAgICAgICAgICBwcmljZTogcHJvZHVjdC5jdXJyZW50LnByaWNlLFxuICAgICAgICAgICAgYXBpX2tleTogY29uZmlnLmFwaVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvcHJvZHVjdHNcIixcbiAgICAgICAgICAgIGRhdGE6IG5ld1Byb2R1Y3RcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG0ucm91dGUuc2V0KFwiL2FkZC1kZWxpdmVyeVwiKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkRGV0YWlsczogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICB1cmw6IGBodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvcHJvZHVjdHMvJHtpZH0/YXBpX2tleT0ke2NvbmZpZy5hcGl9YFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgcHJvZHVjdC5zaG93ID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFkZFN0b2NrOiBhc3luYyBmdW5jdGlvbihpZCwgYW1vdW50KSB7XG4gICAgICAgIGxldCBwcm9kdWN0VG9VcGRhdGU7XG5cbiAgICAgICAgcHJvZHVjdC5jdXJyZW50LmRhdGEuZm9yRWFjaChmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cuaWQgPT0gaWQpIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0VG9VcGRhdGUgPSByb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB1cGRhdGVQcm9kdWN0ID0ge1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3RUb1VwZGF0ZS5pZCxcbiAgICAgICAgICAgIGFydGljbGVfbnVtYmVyOiBwcm9kdWN0VG9VcGRhdGUuYXJ0aWNsZV9udW1iZXIsXG4gICAgICAgICAgICBuYW1lOiBwcm9kdWN0VG9VcGRhdGUubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0VG9VcGRhdGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBzcGVjaWZpZXJzOiBwcm9kdWN0VG9VcGRhdGUuc3BlY2lmaWVycyxcbiAgICAgICAgICAgIHN0b2NrOiBwYXJzZUludChwcm9kdWN0VG9VcGRhdGUuc3RvY2spICsgcGFyc2VJbnQoYW1vdW50KSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBwcm9kdWN0VG9VcGRhdGUubG9jYXRpb24sXG4gICAgICAgICAgICBwcmljZTogcHJvZHVjdFRvVXBkYXRlLnByaWNlLFxuICAgICAgICAgICAgYXBpX2tleTogY29uZmlnLmFwaVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZVByb2R1Y3QpO1xuICAgICAgICByZXR1cm4gbS5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2xhZ2VyLmVtaWxmb2xpbm8uc2UvdjIvcHJvZHVjdHNcIixcbiAgICAgICAgICAgIGRhdGE6IHVwZGF0ZVByb2R1Y3RcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGVsaXZlcnkgYWRkZWRcIik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVtb3ZlU3RvY2s6IGFzeW5jIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHVwZGF0ZVByb2R1Y3QgPSB7XG4gICAgICAgICAgICBpZDogaXRlbS5wcm9kdWN0X2lkLFxuICAgICAgICAgICAgYXJ0aWNsZV9udW1iZXI6IGl0ZW0uYXJ0aWNsZV9udW1iZXIsXG4gICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNwZWNpZmllcnM6IGl0ZW0uc3BlY2lmaWVycyxcbiAgICAgICAgICAgIHN0b2NrOiBwYXJzZUludChpdGVtLnN0b2NrKSAtIHBhcnNlSW50KGl0ZW0uYW1vdW50KSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBpdGVtLmxvY2F0aW9uLFxuICAgICAgICAgICAgcHJpY2U6IGl0ZW0ucHJpY2UsXG4gICAgICAgICAgICBhcGlfa2V5OiBjb25maWcuYXBpXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2codXBkYXRlUHJvZHVjdCk7XG4gICAgICAgIHJldHVybiBtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vbGFnZXIuZW1pbGZvbGluby5zZS92Mi9wcm9kdWN0c1wiLFxuICAgICAgICAgICAgZGF0YTogdXBkYXRlUHJvZHVjdFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdG9jayB1cGRhdGVkXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBwcm9kdWN0IH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/models/product.js\n");

/***/ }),

/***/ "./js/models/utils.js":
/*!****************************!*\
  !*** ./js/models/utils.js ***!
  \****************************/
/*! exports provided: utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"utils\", function() { return utils; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n\n\n\n\nlet utils = {\n    getToday: function() {\n        var d = new Date();\n        var year = d.getFullYear();\n        var mth =  (d.getMonth() < 10 ? \"0\" + (d.getMonth() + 1): (d.getMonth() + 1));\n        var day =  (d.getDate() < 10 ? \"0\" + d.getDate() : d.getDate());\n\n        return year + \"-\" + mth + \"-\" + day;\n    },\n    getDate: function(days) {\n        var d = new Date();\n\n        d.setDate(d.getDate() + days);\n        var year = d.getFullYear();\n        var mth =  (d.getMonth() < 10 ? \"0\" + (d.getMonth() + 1): (d.getMonth() + 1));\n        var day =  (d.getDate() < 10 ? \"0\" + d.getDate() : d.getDate());\n\n        return year + \"-\" + mth + \"-\" + day;\n    },\n    backButton: function(link) {\n        var back = Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.back\", {\n            href: link,\n            oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n        }, [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"i.material-icons\", \"arrow_back\")\n        ]);\n\n        return back;\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tb2RlbHMvdXRpbHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tb2RlbHMvdXRpbHMuanM/YTQ2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IG0gZnJvbSBcIm1pdGhyaWxcIjtcblxubGV0IHV0aWxzID0ge1xuICAgIGdldFRvZGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIG10aCA9ICAoZC5nZXRNb250aCgpIDwgMTAgPyBcIjBcIiArIChkLmdldE1vbnRoKCkgKyAxKTogKGQuZ2V0TW9udGgoKSArIDEpKTtcbiAgICAgICAgdmFyIGRheSA9ICAoZC5nZXREYXRlKCkgPCAxMCA/IFwiMFwiICsgZC5nZXREYXRlKCkgOiBkLmdldERhdGUoKSk7XG5cbiAgICAgICAgcmV0dXJuIHllYXIgKyBcIi1cIiArIG10aCArIFwiLVwiICsgZGF5O1xuICAgIH0sXG4gICAgZ2V0RGF0ZTogZnVuY3Rpb24oZGF5cykge1xuICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgZC5zZXREYXRlKGQuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gICAgICAgIHZhciB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICB2YXIgbXRoID0gIChkLmdldE1vbnRoKCkgPCAxMCA/IFwiMFwiICsgKGQuZ2V0TW9udGgoKSArIDEpOiAoZC5nZXRNb250aCgpICsgMSkpO1xuICAgICAgICB2YXIgZGF5ID0gIChkLmdldERhdGUoKSA8IDEwID8gXCIwXCIgKyBkLmdldERhdGUoKSA6IGQuZ2V0RGF0ZSgpKTtcblxuICAgICAgICByZXR1cm4geWVhciArIFwiLVwiICsgbXRoICsgXCItXCIgKyBkYXk7XG4gICAgfSxcbiAgICBiYWNrQnV0dG9uOiBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgIHZhciBiYWNrID0gbShcImJ1dHRvbi5idXR0b24uYmFja1wiLCB7XG4gICAgICAgICAgICBocmVmOiBsaW5rLFxuICAgICAgICAgICAgb25jcmVhdGU6IG0ucm91dGUubGlua1xuICAgICAgICB9LCBbXG4gICAgICAgICAgICBtKFwiaS5tYXRlcmlhbC1pY29uc1wiLCBcImFycm93X2JhY2tcIilcbiAgICAgICAgXSk7XG5cbiAgICAgICAgcmV0dXJuIGJhY2s7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgdXRpbHMgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/models/utils.js\n");

/***/ }),

/***/ "./js/views/add-delivery.js":
/*!**********************************!*\
  !*** ./js/views/add-delivery.js ***!
  \**********************************/
/*! exports provided: addDelivery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addDelivery\", function() { return addDelivery; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/delivery.js */ \"./js/models/delivery.js\");\n/* harmony import */ var _models_product_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/product.js */ \"./js/models/product.js\");\n/* harmony import */ var _models_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/utils.js */ \"./js/models/utils.js\");\n\n\n\n\n\n\nlet addDelivery = {\n    oninit: function() {\n        _models_product_js__WEBPACK_IMPORTED_MODULE_2__[\"product\"].load();\n    },\n    view: function() {\n        return [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", \"Add new delivery\"),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.add-delivery-container\", [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"form.add-delivery\", {\n                    onsubmit: function(event) {\n                        event.preventDefault();\n                        _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].save();\n                    }\n                }, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add-product[href=/add-product]\", {\n                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                    }, \"New product\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Product ID\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"select.input\", {\n                        onchange: function (e) {\n                            _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.product_id = e.target.value;\n                        },\n                        value: _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.product_id\n                    }, [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"option[hidden]\", \"Please select below\"),\n                        _models_product_js__WEBPACK_IMPORTED_MODULE_2__[\"product\"].current.data.map(function(row) {\n                            return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`option[value=${row.id}]`, `${row.id}: ${row.name}`);\n                        })\n                    ]),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Amount\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=number][required][placeholder=amount]\", {\n                        oninput: function (e) {\n                            _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.amount = e.target.value;\n                        }\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Date\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=date][placeholder=yyyy-mm-dd]\", {\n                        oncreate: function () {\n                            _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.delivery_date = _models_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].getToday();\n                        },\n                        oninput: function (e) {\n                            _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.delivery_date = e.target.value;\n                        },\n                        value: _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.delivery_date\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Comment\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"textarea.input.text-input[placeholder=optional]\", {\n                        oncreate: function () {\n                            _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.comment = \"New delivery\";\n                        },\n                        oninput: function (e) {\n                            _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.comment = e.target.value;\n                        },\n                        value: _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.comment\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input[type=submit][value=Save].button.add\", \"Save\")\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9hZGQtZGVsaXZlcnkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy92aWV3cy9hZGQtZGVsaXZlcnkuanM/MTJjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCBtIGZyb20gJ21pdGhyaWwnO1xuaW1wb3J0IHsgZGVsaXZlcnkgfSBmcm9tIFwiLi4vbW9kZWxzL2RlbGl2ZXJ5LmpzXCI7XG5pbXBvcnQgeyBwcm9kdWN0IH0gZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0LmpzXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi9tb2RlbHMvdXRpbHMuanNcIjtcblxubGV0IGFkZERlbGl2ZXJ5ID0ge1xuICAgIG9uaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2R1Y3QubG9hZCgpO1xuICAgIH0sXG4gICAgdmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBtKFwiaDFcIiwgXCJBZGQgbmV3IGRlbGl2ZXJ5XCIpLFxuICAgICAgICAgICAgbShcImRpdi5hZGQtZGVsaXZlcnktY29udGFpbmVyXCIsIFtcbiAgICAgICAgICAgICAgICBtKFwiZm9ybS5hZGQtZGVsaXZlcnlcIiwge1xuICAgICAgICAgICAgICAgICAgICBvbnN1Ym1pdDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeS5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIG0oXCJidXR0b24uYnV0dG9uLmFkZC1wcm9kdWN0W2hyZWY9L2FkZC1wcm9kdWN0XVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNyZWF0ZTogbS5yb3V0ZS5saW5rXG4gICAgICAgICAgICAgICAgICAgIH0sIFwiTmV3IHByb2R1Y3RcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJsYWJlbC5pbnB1dC1sYWJlbFwiLCBcIlByb2R1Y3QgSURcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJzZWxlY3QuaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnkuY3VycmVudC5wcm9kdWN0X2lkID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRlbGl2ZXJ5LmN1cnJlbnQucHJvZHVjdF9pZFxuICAgICAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBtKFwib3B0aW9uW2hpZGRlbl1cIiwgXCJQbGVhc2Ugc2VsZWN0IGJlbG93XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5jdXJyZW50LmRhdGEubWFwKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtKGBvcHRpb25bdmFsdWU9JHtyb3cuaWR9XWAsIGAke3Jvdy5pZH06ICR7cm93Lm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImxhYmVsLmlucHV0LWxhYmVsXCIsIFwiQW1vdW50XCIpLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXQuaW5wdXRbdHlwZT1udW1iZXJdW3JlcXVpcmVkXVtwbGFjZWhvbGRlcj1hbW91bnRdXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uaW5wdXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnkuY3VycmVudC5hbW91bnQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJsYWJlbC5pbnB1dC1sYWJlbFwiLCBcIkRhdGVcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJpbnB1dC5pbnB1dFt0eXBlPWRhdGVdW3BsYWNlaG9sZGVyPXl5eXktbW0tZGRdXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY3JlYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnkuY3VycmVudC5kZWxpdmVyeV9kYXRlID0gdXRpbHMuZ2V0VG9kYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmlucHV0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5LmN1cnJlbnQuZGVsaXZlcnlfZGF0ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkZWxpdmVyeS5jdXJyZW50LmRlbGl2ZXJ5X2RhdGVcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJsYWJlbC5pbnB1dC1sYWJlbFwiLCBcIkNvbW1lbnRcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJ0ZXh0YXJlYS5pbnB1dC50ZXh0LWlucHV0W3BsYWNlaG9sZGVyPW9wdGlvbmFsXVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNyZWF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGl2ZXJ5LmN1cnJlbnQuY29tbWVudCA9IFwiTmV3IGRlbGl2ZXJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25pbnB1dDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeS5jdXJyZW50LmNvbW1lbnQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVsaXZlcnkuY3VycmVudC5jb21tZW50XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXRbdHlwZT1zdWJtaXRdW3ZhbHVlPVNhdmVdLmJ1dHRvbi5hZGRcIiwgXCJTYXZlXCIpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF07XG4gICAgfVxufTtcblxuZXhwb3J0IHsgYWRkRGVsaXZlcnkgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/views/add-delivery.js\n");

/***/ }),

/***/ "./js/views/add-product.js":
/*!*********************************!*\
  !*** ./js/views/add-product.js ***!
  \*********************************/
/*! exports provided: addProduct */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addProduct\", function() { return addProduct; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/product.js */ \"./js/models/product.js\");\n\n\n\n\nlet addProduct = {\n    oninit: function() {\n        _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].load();\n    },\n    view: function() {\n        return [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", \"Add new product\"),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.add-product-container\", [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"form.add-product\", {\n                    onsubmit: function(event) {\n                        event.preventDefault();\n                        _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].save();\n                    }\n                }, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Article number\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=text][required][placeholder=article number]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.article_number = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.article_number\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Name\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=text][required][placeholder=name]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.name = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.name\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Description\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"textarea.input.text-input[required][placeholder=desciption]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.description = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.description\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Specifiers\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=text][required][placeholder=specifiers]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.specifiers = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.specifiers\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Stock\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=number][required][placeholder=stock]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.stock = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.stock\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Location\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=text][required][placeholder=location]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.location = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.location\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Price\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=number][required][placeholder=price]\", {\n                        oninput: function (e) {\n                            _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.price = e.target.value;\n                        },\n                        value: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.price\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input[type=submit][value=Save].button.add\", \"Save\")\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9hZGQtcHJvZHVjdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3ZpZXdzL2FkZC1wcm9kdWN0LmpzPzM0OTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgbSBmcm9tICdtaXRocmlsJztcbmltcG9ydCB7IHByb2R1Y3QgfSBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3QuanNcIjtcblxubGV0IGFkZFByb2R1Y3QgPSB7XG4gICAgb25pbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvZHVjdC5sb2FkKCk7XG4gICAgfSxcbiAgICB2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG0oXCJoMVwiLCBcIkFkZCBuZXcgcHJvZHVjdFwiKSxcbiAgICAgICAgICAgIG0oXCJkaXYuYWRkLXByb2R1Y3QtY29udGFpbmVyXCIsIFtcbiAgICAgICAgICAgICAgICBtKFwiZm9ybS5hZGQtcHJvZHVjdFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIG9uc3VibWl0OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Quc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBtKFwibGFiZWwuaW5wdXQtbGFiZWxcIiwgXCJBcnRpY2xlIG51bWJlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImlucHV0LmlucHV0W3R5cGU9dGV4dF1bcmVxdWlyZWRdW3BsYWNlaG9sZGVyPWFydGljbGUgbnVtYmVyXVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmlucHV0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3QuY3VycmVudC5hcnRpY2xlX251bWJlciA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9kdWN0LmN1cnJlbnQuYXJ0aWNsZV9udW1iZXJcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJsYWJlbC5pbnB1dC1sYWJlbFwiLCBcIk5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJpbnB1dC5pbnB1dFt0eXBlPXRleHRdW3JlcXVpcmVkXVtwbGFjZWhvbGRlcj1uYW1lXVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmlucHV0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3QuY3VycmVudC5uYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHByb2R1Y3QuY3VycmVudC5uYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBtKFwibGFiZWwuaW5wdXQtbGFiZWxcIiwgXCJEZXNjcmlwdGlvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgbShcInRleHRhcmVhLmlucHV0LnRleHQtaW5wdXRbcmVxdWlyZWRdW3BsYWNlaG9sZGVyPWRlc2NpcHRpb25dXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uaW5wdXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5jdXJyZW50LmRlc2NyaXB0aW9uID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHByb2R1Y3QuY3VycmVudC5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgbShcImxhYmVsLmlucHV0LWxhYmVsXCIsIFwiU3BlY2lmaWVyc1wiKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImlucHV0LmlucHV0W3R5cGU9dGV4dF1bcmVxdWlyZWRdW3BsYWNlaG9sZGVyPXNwZWNpZmllcnNdXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uaW5wdXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5jdXJyZW50LnNwZWNpZmllcnMgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvZHVjdC5jdXJyZW50LnNwZWNpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJsYWJlbC5pbnB1dC1sYWJlbFwiLCBcIlN0b2NrXCIpLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXQuaW5wdXRbdHlwZT1udW1iZXJdW3JlcXVpcmVkXVtwbGFjZWhvbGRlcj1zdG9ja11cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25pbnB1dDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0LmN1cnJlbnQuc3RvY2sgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvZHVjdC5jdXJyZW50LnN0b2NrXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBtKFwibGFiZWwuaW5wdXQtbGFiZWxcIiwgXCJMb2NhdGlvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImlucHV0LmlucHV0W3R5cGU9dGV4dF1bcmVxdWlyZWRdW3BsYWNlaG9sZGVyPWxvY2F0aW9uXVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmlucHV0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3QuY3VycmVudC5sb2NhdGlvbiA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9kdWN0LmN1cnJlbnQubG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJsYWJlbC5pbnB1dC1sYWJlbFwiLCBcIlByaWNlXCIpLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXQuaW5wdXRbdHlwZT1udW1iZXJdW3JlcXVpcmVkXVtwbGFjZWhvbGRlcj1wcmljZV1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25pbnB1dDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0LmN1cnJlbnQucHJpY2UgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvZHVjdC5jdXJyZW50LnByaWNlXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXRbdHlwZT1zdWJtaXRdW3ZhbHVlPVNhdmVdLmJ1dHRvbi5hZGRcIiwgXCJTYXZlXCIpXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF07XG4gICAgfVxufTtcblxuZXhwb3J0IHsgYWRkUHJvZHVjdCB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/views/add-product.js\n");

/***/ }),

/***/ "./js/views/create-invoice.js":
/*!************************************!*\
  !*** ./js/views/create-invoice.js ***!
  \************************************/
/*! exports provided: invoiceCreate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"invoiceCreate\", function() { return invoiceCreate; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/invoice.js */ \"./js/models/invoice.js\");\n/* harmony import */ var _models_order_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/order.js */ \"./js/models/order.js\");\n/* harmony import */ var _models_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/utils.js */ \"./js/models/utils.js\");\n\n\n\n\n\n\nlet invoiceCreate = {\n    oninit: function() {\n        _models_order_js__WEBPACK_IMPORTED_MODULE_2__[\"order\"].load();\n    },\n    titleText: \"Create invoice\",\n    container: \"create-invoice-container\",\n    view: function() {\n        return [\n            _models_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].backButton(\"/invoice\"),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", invoiceCreate.titleText),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${invoiceCreate.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"form.create-invoice\", {\n                    onsubmit: function(event) {\n                        event.preventDefault();\n                        _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].save();\n                    }\n                }, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Order\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"select.input\", {\n                        onchange: function (e) {\n                            _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].current.order_id = e.target.value;\n                        },\n                        value: _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].current.order_id\n                    }, [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"option[hidden]\", \"Please select below\"),\n                        _models_order_js__WEBPACK_IMPORTED_MODULE_2__[\"order\"].current.data.map(function(row) {\n                            if (row.status_id != 600) {\n                                return Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`option[value=${row.id}]`, `${row.id}: ${row.name}`);\n                            }\n                        })\n                    ]),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input[type=submit][value=Create].button.add\", \"Create\")\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9jcmVhdGUtaW52b2ljZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3ZpZXdzL2NyZWF0ZS1pbnZvaWNlLmpzP2JiMDgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgbSBmcm9tICdtaXRocmlsJztcbmltcG9ydCB7IGludm9pY2UgfSBmcm9tIFwiLi4vbW9kZWxzL2ludm9pY2UuanNcIjtcbmltcG9ydCB7IG9yZGVyIH0gZnJvbSBcIi4uL21vZGVscy9vcmRlci5qc1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vbW9kZWxzL3V0aWxzLmpzXCI7XG5cbmxldCBpbnZvaWNlQ3JlYXRlID0ge1xuICAgIG9uaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yZGVyLmxvYWQoKTtcbiAgICB9LFxuICAgIHRpdGxlVGV4dDogXCJDcmVhdGUgaW52b2ljZVwiLFxuICAgIGNvbnRhaW5lcjogXCJjcmVhdGUtaW52b2ljZS1jb250YWluZXJcIixcbiAgICB2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHV0aWxzLmJhY2tCdXR0b24oXCIvaW52b2ljZVwiKSxcbiAgICAgICAgICAgIG0oXCJoMVwiLCBpbnZvaWNlQ3JlYXRlLnRpdGxlVGV4dCksXG4gICAgICAgICAgICBtKGBkaXYuJHtpbnZvaWNlQ3JlYXRlLmNvbnRhaW5lcn1gLCBbXG4gICAgICAgICAgICAgICAgbShcImZvcm0uY3JlYXRlLWludm9pY2VcIiwge1xuICAgICAgICAgICAgICAgICAgICBvbnN1Ym1pdDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlLnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgbShcImxhYmVsLmlucHV0LWxhYmVsXCIsIFwiT3JkZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJzZWxlY3QuaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5jdXJyZW50Lm9yZGVyX2lkID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGludm9pY2UuY3VycmVudC5vcmRlcl9pZFxuICAgICAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBtKFwib3B0aW9uW2hpZGRlbl1cIiwgXCJQbGVhc2Ugc2VsZWN0IGJlbG93XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIuY3VycmVudC5kYXRhLm1hcChmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93LnN0YXR1c19pZCAhPSA2MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0oYG9wdGlvblt2YWx1ZT0ke3Jvdy5pZH1dYCwgYCR7cm93LmlkfTogJHtyb3cubmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImlucHV0W3R5cGU9c3VibWl0XVt2YWx1ZT1DcmVhdGVdLmJ1dHRvbi5hZGRcIiwgXCJDcmVhdGVcIilcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBpbnZvaWNlQ3JlYXRlIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/views/create-invoice.js\n");

/***/ }),

/***/ "./js/views/home.js":
/*!**************************!*\
  !*** ./js/views/home.js ***!
  \**************************/
/*! exports provided: home */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"home\", function() { return home; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n\n\n\nlet home = {\n    titleText: \"Welcome!\",\n    container: \"home-container\",\n    greeting: (function() {\n        var timeOfDayGreeting = \"Hello\";\n        var now = new Date();\n\n        if (now.getHours() <= 10) {\n            timeOfDayGreeting = \"Good morning\";\n        } else if (now.getHours() >= 17) {\n            timeOfDayGreeting = \"Good evening\";\n        }\n        return timeOfDayGreeting + \", welcome to the Infinity Warehouses app.\";\n    })(),\n    view: function() {\n        return [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${home.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1.title\", home.titleText),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.center\", home.greeting),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.loginreg\", [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.login\",\n                        {\n                            href: \"/login\",\n                            oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                        },\n                        \"Login\"\n                    ),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.login\",\n                        {\n                            href: \"/register\",\n                            oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                        },\n                        \"Register\"\n                    )\n                ]),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.warehouse\", [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"img[src=img/warehouse.jpg]\", {\n                        alt: \"warehouse\" })\n                ]),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.center\", \"Please use this app to keep our warehouse\" +\n                    \"stock up to date and correct.\")\n            ]),\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9ob21lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdmlld3MvaG9tZS5qcz84OWE3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IG0gZnJvbSAnbWl0aHJpbCc7XG5cbmxldCBob21lID0ge1xuICAgIHRpdGxlVGV4dDogXCJXZWxjb21lIVwiLFxuICAgIGNvbnRhaW5lcjogXCJob21lLWNvbnRhaW5lclwiLFxuICAgIGdyZWV0aW5nOiAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aW1lT2ZEYXlHcmVldGluZyA9IFwiSGVsbG9cIjtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKG5vdy5nZXRIb3VycygpIDw9IDEwKSB7XG4gICAgICAgICAgICB0aW1lT2ZEYXlHcmVldGluZyA9IFwiR29vZCBtb3JuaW5nXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobm93LmdldEhvdXJzKCkgPj0gMTcpIHtcbiAgICAgICAgICAgIHRpbWVPZkRheUdyZWV0aW5nID0gXCJHb29kIGV2ZW5pbmdcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZU9mRGF5R3JlZXRpbmcgKyBcIiwgd2VsY29tZSB0byB0aGUgSW5maW5pdHkgV2FyZWhvdXNlcyBhcHAuXCI7XG4gICAgfSkoKSxcbiAgICB2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG0oYGRpdi4ke2hvbWUuY29udGFpbmVyfWAsIFtcbiAgICAgICAgICAgICAgICBtKFwiaDEudGl0bGVcIiwgaG9tZS50aXRsZVRleHQpLFxuICAgICAgICAgICAgICAgIG0oXCJwLmNlbnRlclwiLCBob21lLmdyZWV0aW5nKSxcbiAgICAgICAgICAgICAgICBtKFwiZGl2LmxvZ2lucmVnXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgbShcImJ1dHRvbi5idXR0b24ubG9naW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIi9sb2dpblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY3JlYXRlOiBtLnJvdXRlLmxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkxvZ2luXCJcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImJ1dHRvbi5idXR0b24ubG9naW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIi9yZWdpc3RlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY3JlYXRlOiBtLnJvdXRlLmxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlJlZ2lzdGVyXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIG0oXCJkaXYud2FyZWhvdXNlXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgbShcImltZ1tzcmM9aW1nL3dhcmVob3VzZS5qcGddXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdDogXCJ3YXJlaG91c2VcIiB9KVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIG0oXCJwLmNlbnRlclwiLCBcIlBsZWFzZSB1c2UgdGhpcyBhcHAgdG8ga2VlcCBvdXIgd2FyZWhvdXNlXCIgK1xuICAgICAgICAgICAgICAgICAgICBcInN0b2NrIHVwIHRvIGRhdGUgYW5kIGNvcnJlY3QuXCIpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBob21lIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/views/home.js\n");

/***/ }),

/***/ "./js/views/invoice.js":
/*!*****************************!*\
  !*** ./js/views/invoice.js ***!
  \*****************************/
/*! exports provided: invoiceView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"invoiceView\", function() { return invoiceView; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/invoice.js */ \"./js/models/invoice.js\");\n\n\n\n\nlet invoiceView = {\n    oninit: function() {\n        _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].load();\n    },\n    titleText: \"Invoices\",\n    container: \"invoice-container\",\n    view: function() {\n        if (_models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].current.data.length === 0) {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h2\", \"Sorry, no invoices available!\"),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add\",\n                    {\n                        href: \"/create-invoice\",\n                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                    },\n                    \"Create invoice\"\n                )\n            ];\n        } else {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", invoiceView.titleText),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${invoiceView.container}`, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add\",\n                        {\n                            href: \"/create-invoice\",\n                            oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                        },\n                        \"Create invoice\"\n                    ),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"br\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"table.results\", [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"thead\", [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Name\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Invoice ID\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Order ID\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"View\")\n                            ])\n                        ]),\n                        _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].current.data.map(function(row) {\n                            return [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Name]\", row.name),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Invoice ID]\", row.id),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Order ID]\", row.order_id),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = View]\", [\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"a\", {\n                                            href: \"/view-invoice/\" + row.id,\n                                            oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                                        }, [\n                                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"i.material-icons\", \"list\")\n                                        ])\n                                    ])\n                                ])\n                            ];\n                        })\n                    ])\n                ])\n            ];\n        }\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9pbnZvaWNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdmlld3MvaW52b2ljZS5qcz81OGY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IG0gZnJvbSAnbWl0aHJpbCc7XG5pbXBvcnQgeyBpbnZvaWNlIH0gZnJvbSBcIi4uL21vZGVscy9pbnZvaWNlLmpzXCI7XG5cbmxldCBpbnZvaWNlVmlldyA9IHtcbiAgICBvbmluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnZvaWNlLmxvYWQoKTtcbiAgICB9LFxuICAgIHRpdGxlVGV4dDogXCJJbnZvaWNlc1wiLFxuICAgIGNvbnRhaW5lcjogXCJpbnZvaWNlLWNvbnRhaW5lclwiLFxuICAgIHZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaW52b2ljZS5jdXJyZW50LmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG0oXCJoMlwiLCBcIlNvcnJ5LCBubyBpbnZvaWNlcyBhdmFpbGFibGUhXCIpLFxuICAgICAgICAgICAgICAgIG0oXCJidXR0b24uYnV0dG9uLmFkZFwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIi9jcmVhdGUtaW52b2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25jcmVhdGU6IG0ucm91dGUubGlua1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZSBpbnZvaWNlXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBtKFwiaDFcIiwgaW52b2ljZVZpZXcudGl0bGVUZXh0KSxcbiAgICAgICAgICAgICAgICBtKGBkaXYuJHtpbnZvaWNlVmlldy5jb250YWluZXJ9YCwgW1xuICAgICAgICAgICAgICAgICAgICBtKFwiYnV0dG9uLmJ1dHRvbi5hZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIi9jcmVhdGUtaW52b2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY3JlYXRlOiBtLnJvdXRlLmxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNyZWF0ZSBpbnZvaWNlXCJcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImJyXCIpLFxuICAgICAgICAgICAgICAgICAgICBtKFwidGFibGUucmVzdWx0c1wiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBtKFwidGhlYWRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0clwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIk5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIkludm9pY2UgSURcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIk9yZGVyIElEXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGhcIiwgXCJWaWV3XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZS5jdXJyZW50LmRhdGEubWFwKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0clwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IE5hbWVdXCIsIHJvdy5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0ZFtkYXRhLXRpdGxlID0gSW52b2ljZSBJRF1cIiwgcm93LmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0ZFtkYXRhLXRpdGxlID0gT3JkZXIgSURdXCIsIHJvdy5vcmRlcl9pZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFZpZXddXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwiYVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiL3ZpZXctaW52b2ljZS9cIiArIHJvdy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jcmVhdGU6IG0ucm91dGUubGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcImkubWF0ZXJpYWwtaWNvbnNcIiwgXCJsaXN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgeyBpbnZvaWNlVmlldyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/views/invoice.js\n");

/***/ }),

/***/ "./js/views/layout.js":
/*!****************************!*\
  !*** ./js/views/layout.js ***!
  \****************************/
/*! exports provided: layout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout\", function() { return layout; });\n/* harmony import */ var _models_access_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/access.js */ \"./js/models/access.js\");\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n\n\n\n\n\nvar layout = {\n    view: function (vnode) {\n        var invoiceView = (function() {\n            if (_models_access_js__WEBPACK_IMPORTED_MODULE_0__[\"access\"].token.value) {\n                return {\n                    name: \"Invoices\",\n                    class: \"folder\",\n                    nav: [\"/invoice\", \"/view-invoice\", \"/create-invoice\"]\n                };\n            }\n        })();\n        var navElements = [\n            {name: \"Home\", class: \"home\", nav: [\"/\", \"/login\", \"/register\"]},\n            {name: \"Stock\", class: \"folder\", nav: [\"/view-stock\", \"/view-product\"]},\n            {name: \"New orders\", class: \"shopping_cart\", nav: [\"/view-order\", \"/view-picklist\"]},\n            {name: \"Deliveries\", class: \"archive\", nav: [\"/delivery\"]},\n            {name: \"Add Delivery\", class: \"add_box\", nav: [\"/add-delivery\"]},\n            {name: \"Add Product\", class: \"add_box\", nav: [\"/add-product\"]},\n            invoiceView\n        ];\n        var navbar = (function() {\n            var n = [];\n\n            navElements.forEach(function (element) {\n                var splitLink = \"/\" + mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"].route.get().split(\"/\")[1];\n\n                if (element) {\n                    n.push(\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(`a[href=${element.nav[0]}]`, {\n                            oncreate: mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"].route.link,\n                            className: (element.nav.includes(splitLink) ? \"active\" : null)\n                        }, [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"i.material-icons\", {textContent: element.class}),\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"span.icon-text\", element.name)\n                        ]));\n                }\n            });\n\n            return n;\n        })();\n\n        return  [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"header.site-header\", [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"p.header-title\", {textContent: \"Infinity Warehouses\"})\n            ]),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"nav.bottom-nav\", navbar),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\"main.container\", vnode.children)\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9sYXlvdXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy92aWV3cy9sYXlvdXQuanM/Nzg2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGFjY2VzcyB9IGZyb20gXCIuLi9tb2RlbHMvYWNjZXNzLmpzXCI7XG5cbmltcG9ydCBtIGZyb20gJ21pdGhyaWwnO1xuXG52YXIgbGF5b3V0ID0ge1xuICAgIHZpZXc6IGZ1bmN0aW9uICh2bm9kZSkge1xuICAgICAgICB2YXIgaW52b2ljZVZpZXcgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoYWNjZXNzLnRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJJbnZvaWNlc1wiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJmb2xkZXJcIixcbiAgICAgICAgICAgICAgICAgICAgbmF2OiBbXCIvaW52b2ljZVwiLCBcIi92aWV3LWludm9pY2VcIiwgXCIvY3JlYXRlLWludm9pY2VcIl1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgICAgICB2YXIgbmF2RWxlbWVudHMgPSBbXG4gICAgICAgICAgICB7bmFtZTogXCJIb21lXCIsIGNsYXNzOiBcImhvbWVcIiwgbmF2OiBbXCIvXCIsIFwiL2xvZ2luXCIsIFwiL3JlZ2lzdGVyXCJdfSxcbiAgICAgICAgICAgIHtuYW1lOiBcIlN0b2NrXCIsIGNsYXNzOiBcImZvbGRlclwiLCBuYXY6IFtcIi92aWV3LXN0b2NrXCIsIFwiL3ZpZXctcHJvZHVjdFwiXX0sXG4gICAgICAgICAgICB7bmFtZTogXCJOZXcgb3JkZXJzXCIsIGNsYXNzOiBcInNob3BwaW5nX2NhcnRcIiwgbmF2OiBbXCIvdmlldy1vcmRlclwiLCBcIi92aWV3LXBpY2tsaXN0XCJdfSxcbiAgICAgICAgICAgIHtuYW1lOiBcIkRlbGl2ZXJpZXNcIiwgY2xhc3M6IFwiYXJjaGl2ZVwiLCBuYXY6IFtcIi9kZWxpdmVyeVwiXX0sXG4gICAgICAgICAgICB7bmFtZTogXCJBZGQgRGVsaXZlcnlcIiwgY2xhc3M6IFwiYWRkX2JveFwiLCBuYXY6IFtcIi9hZGQtZGVsaXZlcnlcIl19LFxuICAgICAgICAgICAge25hbWU6IFwiQWRkIFByb2R1Y3RcIiwgY2xhc3M6IFwiYWRkX2JveFwiLCBuYXY6IFtcIi9hZGQtcHJvZHVjdFwiXX0sXG4gICAgICAgICAgICBpbnZvaWNlVmlld1xuICAgICAgICBdO1xuICAgICAgICB2YXIgbmF2YmFyID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG4gPSBbXTtcblxuICAgICAgICAgICAgbmF2RWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdExpbmsgPSBcIi9cIiArIG0ucm91dGUuZ2V0KCkuc3BsaXQoXCIvXCIpWzFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbi5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgbShgYVtocmVmPSR7ZWxlbWVudC5uYXZbMF19XWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNyZWF0ZTogbS5yb3V0ZS5saW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogKGVsZW1lbnQubmF2LmluY2x1ZGVzKHNwbGl0TGluaykgPyBcImFjdGl2ZVwiIDogbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwiaS5tYXRlcmlhbC1pY29uc1wiLCB7dGV4dENvbnRlbnQ6IGVsZW1lbnQuY2xhc3N9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwic3Bhbi5pY29uLXRleHRcIiwgZWxlbWVudC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSkoKTtcblxuICAgICAgICByZXR1cm4gIFtcbiAgICAgICAgICAgIG0oXCJoZWFkZXIuc2l0ZS1oZWFkZXJcIiwgW1xuICAgICAgICAgICAgICAgIG0oXCJwLmhlYWRlci10aXRsZVwiLCB7dGV4dENvbnRlbnQ6IFwiSW5maW5pdHkgV2FyZWhvdXNlc1wifSlcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgbShcIm5hdi5ib3R0b20tbmF2XCIsIG5hdmJhciksXG4gICAgICAgICAgICBtKFwibWFpbi5jb250YWluZXJcIiwgdm5vZGUuY2hpbGRyZW4pXG4gICAgICAgIF07XG4gICAgfVxufTtcblxuZXhwb3J0IHsgbGF5b3V0IH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/views/layout.js\n");

/***/ }),

/***/ "./js/views/list.js":
/*!**************************!*\
  !*** ./js/views/list.js ***!
  \**************************/
/*! exports provided: list */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"list\", function() { return list; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/delivery.js */ \"./js/models/delivery.js\");\n\n\n\n\nlet list = {\n    oninit: function() {\n        _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].load();\n    },\n    view: function() {\n        if (_models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.data.length === 0) {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h2\", \"Sorry, no deliveries available!\"),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add\",\n                    {\n                        href: \"/add-delivery\",\n                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                    },\n                    \"Add Delivery\"\n                )\n            ];\n        } else {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", \"Deliveries\"),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.delivery-container\", [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"table.results\", [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"thead\", [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Delivery ID\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Date\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Product\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Amount\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Comment\"),\n                            ])\n                        ]),\n                        _models_delivery_js__WEBPACK_IMPORTED_MODULE_1__[\"delivery\"].current.data.map(function(row) {\n                            return [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Delivery ID]\", row.id),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Date]\", row.delivery_date),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Product]\", row.product_name),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Amount]\", row.amount),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Comment]\", row.comment)\n                                ])\n                            ];\n                        })\n                    ])\n                ]),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add\",\n                    {\n                        href: \"/add-delivery\",\n                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                    },\n                    \"New delivery\"\n                )\n            ];\n        }\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9saXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdmlld3MvbGlzdC5qcz8xODgwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IG0gZnJvbSAnbWl0aHJpbCc7XG5pbXBvcnQgeyBkZWxpdmVyeSB9IGZyb20gXCIuLi9tb2RlbHMvZGVsaXZlcnkuanNcIjtcblxubGV0IGxpc3QgPSB7XG4gICAgb25pbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgZGVsaXZlcnkubG9hZCgpO1xuICAgIH0sXG4gICAgdmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChkZWxpdmVyeS5jdXJyZW50LmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG0oXCJoMlwiLCBcIlNvcnJ5LCBubyBkZWxpdmVyaWVzIGF2YWlsYWJsZSFcIiksXG4gICAgICAgICAgICAgICAgbShcImJ1dHRvbi5idXR0b24uYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiL2FkZC1kZWxpdmVyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25jcmVhdGU6IG0ucm91dGUubGlua1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIkFkZCBEZWxpdmVyeVwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbShcImgxXCIsIFwiRGVsaXZlcmllc1wiKSxcbiAgICAgICAgICAgICAgICBtKFwiZGl2LmRlbGl2ZXJ5LWNvbnRhaW5lclwiLCBbXG4gICAgICAgICAgICAgICAgICAgIG0oXCJ0YWJsZS5yZXN1bHRzXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aGVhZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRyXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiRGVsaXZlcnkgSURcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIkRhdGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIlByb2R1Y3RcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIkFtb3VudFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiQ29tbWVudFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeS5jdXJyZW50LmRhdGEubWFwKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0clwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IERlbGl2ZXJ5IElEXVwiLCByb3cuaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBEYXRlXVwiLCByb3cuZGVsaXZlcnlfZGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFByb2R1Y3RdXCIsIHJvdy5wcm9kdWN0X25hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBBbW91bnRdXCIsIHJvdy5hbW91bnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBDb21tZW50XVwiLCByb3cuY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBtKFwiYnV0dG9uLmJ1dHRvbi5hZGRcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIvYWRkLWRlbGl2ZXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNyZWF0ZTogbS5yb3V0ZS5saW5rXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiTmV3IGRlbGl2ZXJ5XCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IHsgbGlzdCB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/views/list.js\n");

/***/ }),

/***/ "./js/views/login.js":
/*!***************************!*\
  !*** ./js/views/login.js ***!
  \***************************/
/*! exports provided: loginUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loginUser\", function() { return loginUser; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_access_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/access.js */ \"./js/models/access.js\");\n\n\n\n\nlet loginUser = {\n    titleText: \"Login\",\n    container: \"login-container\",\n    view: function() {\n        return [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", loginUser.titleText),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${loginUser.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"form.login\", {\n                    onsubmit: function(event) {\n                        _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].load(),\n                        event.preventDefault();\n                    }\n                }, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Email\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=email][required][placeholder=me@email.se]\", {\n                        oninput: function (e) {\n                            _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.email = e.target.value;\n                        },\n                        value: _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.email\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Password\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=password][required][placeholder=password]\", {\n                        oninput: function (e) {\n                            _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.pass = e.target.value;\n                        },\n                        value: _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.pass\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input[type=submit][value=Login].button.add\", \"Login\")\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9sb2dpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3ZpZXdzL2xvZ2luLmpzPzMwMTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgbSBmcm9tICdtaXRocmlsJztcbmltcG9ydCB7IGFjY2VzcyB9IGZyb20gXCIuLi9tb2RlbHMvYWNjZXNzLmpzXCI7XG5cbmxldCBsb2dpblVzZXIgPSB7XG4gICAgdGl0bGVUZXh0OiBcIkxvZ2luXCIsXG4gICAgY29udGFpbmVyOiBcImxvZ2luLWNvbnRhaW5lclwiLFxuICAgIHZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbShcImgxXCIsIGxvZ2luVXNlci50aXRsZVRleHQpLFxuICAgICAgICAgICAgbShgZGl2LiR7bG9naW5Vc2VyLmNvbnRhaW5lcn1gLCBbXG4gICAgICAgICAgICAgICAgbShcImZvcm0ubG9naW5cIiwge1xuICAgICAgICAgICAgICAgICAgICBvbnN1Ym1pdDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzcy5sb2FkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBtKFwibGFiZWwuaW5wdXQtbGFiZWxcIiwgXCJFbWFpbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImlucHV0LmlucHV0W3R5cGU9ZW1haWxdW3JlcXVpcmVkXVtwbGFjZWhvbGRlcj1tZUBlbWFpbC5zZV1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25pbnB1dDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3MuY3VycmVudC5lbWFpbCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhY2Nlc3MuY3VycmVudC5lbWFpbFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgbShcImxhYmVsLmlucHV0LWxhYmVsXCIsIFwiUGFzc3dvcmRcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJpbnB1dC5pbnB1dFt0eXBlPXBhc3N3b3JkXVtyZXF1aXJlZF1bcGxhY2Vob2xkZXI9cGFzc3dvcmRdXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uaW5wdXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzLmN1cnJlbnQucGFzcyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhY2Nlc3MuY3VycmVudC5wYXNzXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXRbdHlwZT1zdWJtaXRdW3ZhbHVlPUxvZ2luXS5idXR0b24uYWRkXCIsIFwiTG9naW5cIilcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBsb2dpblVzZXIgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/views/login.js\n");

/***/ }),

/***/ "./js/views/register.js":
/*!******************************!*\
  !*** ./js/views/register.js ***!
  \******************************/
/*! exports provided: registerUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerUser\", function() { return registerUser; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_access_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/access.js */ \"./js/models/access.js\");\n\n\n\n\nlet registerUser = {\n    titleText: \"Register\",\n    container: \"register-container\",\n    view: function() {\n        return [\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", registerUser.titleText),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${registerUser.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"form.login\", {\n                    onsubmit: function(event) {\n                        _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].save(),\n                        event.preventDefault();\n                    }\n                }, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Email\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=email][required][placeholder=me@email.se]\", {\n                        oninput: function (e) {\n                            _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.email = e.target.value;\n                        },\n                        value: _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.email\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"label.input-label\", \"Password\"),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input.input[type=password][required][placeholder=password]\", {\n                        oninput: function (e) {\n                            _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.pass = e.target.value;\n                        },\n                        value: _models_access_js__WEBPACK_IMPORTED_MODULE_1__[\"access\"].current.pass\n                    }),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"input[type=submit][value=Register].button.add\", \"Register\")\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy9yZWdpc3Rlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3ZpZXdzL3JlZ2lzdGVyLmpzP2RhMzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgbSBmcm9tICdtaXRocmlsJztcbmltcG9ydCB7IGFjY2VzcyB9IGZyb20gXCIuLi9tb2RlbHMvYWNjZXNzLmpzXCI7XG5cbmxldCByZWdpc3RlclVzZXIgPSB7XG4gICAgdGl0bGVUZXh0OiBcIlJlZ2lzdGVyXCIsXG4gICAgY29udGFpbmVyOiBcInJlZ2lzdGVyLWNvbnRhaW5lclwiLFxuICAgIHZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbShcImgxXCIsIHJlZ2lzdGVyVXNlci50aXRsZVRleHQpLFxuICAgICAgICAgICAgbShgZGl2LiR7cmVnaXN0ZXJVc2VyLmNvbnRhaW5lcn1gLCBbXG4gICAgICAgICAgICAgICAgbShcImZvcm0ubG9naW5cIiwge1xuICAgICAgICAgICAgICAgICAgICBvbnN1Ym1pdDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzcy5zYXZlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBtKFwibGFiZWwuaW5wdXQtbGFiZWxcIiwgXCJFbWFpbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgbShcImlucHV0LmlucHV0W3R5cGU9ZW1haWxdW3JlcXVpcmVkXVtwbGFjZWhvbGRlcj1tZUBlbWFpbC5zZV1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25pbnB1dDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3MuY3VycmVudC5lbWFpbCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhY2Nlc3MuY3VycmVudC5lbWFpbFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgbShcImxhYmVsLmlucHV0LWxhYmVsXCIsIFwiUGFzc3dvcmRcIiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJpbnB1dC5pbnB1dFt0eXBlPXBhc3N3b3JkXVtyZXF1aXJlZF1bcGxhY2Vob2xkZXI9cGFzc3dvcmRdXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uaW5wdXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzLmN1cnJlbnQucGFzcyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhY2Nlc3MuY3VycmVudC5wYXNzXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBtKFwiaW5wdXRbdHlwZT1zdWJtaXRdW3ZhbHVlPVJlZ2lzdGVyXS5idXR0b24uYWRkXCIsIFwiUmVnaXN0ZXJcIilcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyByZWdpc3RlclVzZXIgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/views/register.js\n");

/***/ }),

/***/ "./js/views/view-invoice.js":
/*!**********************************!*\
  !*** ./js/views/view-invoice.js ***!
  \**********************************/
/*! exports provided: invoiceDetails */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"invoiceDetails\", function() { return invoiceDetails; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/invoice.js */ \"./js/models/invoice.js\");\n/* harmony import */ var _models_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/utils.js */ \"./js/models/utils.js\");\n\n\n\n\n\nlet invoiceDetails = {\n    oninit: function(vnode) {\n        _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].loadDetails(vnode.attrs.id);\n    },\n    container: \"order-container\",\n    view: function() {\n        return [\n            _models_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].backButton(\"/invoice\"),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", `Invoice for ${_models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.name}`),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${invoiceDetails.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.invoice-details\", [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"ID: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.id),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Order ID: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.order_id),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Name: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.name),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Address: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.address),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Zip: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.zip),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"City: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.city),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Country: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.country),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.price\", \"Total price: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.total_price),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Creation Date: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.creation_date),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Due Date: \" + _models_invoice_js__WEBPACK_IMPORTED_MODULE_1__[\"invoice\"].show.due_date)\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy92aWV3LWludm9pY2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy92aWV3cy92aWV3LWludm9pY2UuanM/NGZiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCBtIGZyb20gJ21pdGhyaWwnO1xuaW1wb3J0IHsgaW52b2ljZSB9IGZyb20gXCIuLi9tb2RlbHMvaW52b2ljZS5qc1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vbW9kZWxzL3V0aWxzLmpzXCI7XG5cbmxldCBpbnZvaWNlRGV0YWlscyA9IHtcbiAgICBvbmluaXQ6IGZ1bmN0aW9uKHZub2RlKSB7XG4gICAgICAgIGludm9pY2UubG9hZERldGFpbHModm5vZGUuYXR0cnMuaWQpO1xuICAgIH0sXG4gICAgY29udGFpbmVyOiBcIm9yZGVyLWNvbnRhaW5lclwiLFxuICAgIHZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdXRpbHMuYmFja0J1dHRvbihcIi9pbnZvaWNlXCIpLFxuICAgICAgICAgICAgbShcImgxXCIsIGBJbnZvaWNlIGZvciAke2ludm9pY2Uuc2hvdy5uYW1lfWApLFxuICAgICAgICAgICAgbShgZGl2LiR7aW52b2ljZURldGFpbHMuY29udGFpbmVyfWAsIFtcbiAgICAgICAgICAgICAgICBtKFwiZGl2Lmludm9pY2UtZGV0YWlsc1wiLCBbXG4gICAgICAgICAgICAgICAgICAgIG0oXCJwXCIsIFwiSUQ6IFwiICsgaW52b2ljZS5zaG93LmlkKSxcbiAgICAgICAgICAgICAgICAgICAgbShcInBcIiwgXCJPcmRlciBJRDogXCIgKyBpbnZvaWNlLnNob3cub3JkZXJfaWQpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIk5hbWU6IFwiICsgaW52b2ljZS5zaG93Lm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIkFkZHJlc3M6IFwiICsgaW52b2ljZS5zaG93LmFkZHJlc3MpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIlppcDogXCIgKyBpbnZvaWNlLnNob3cuemlwKSxcbiAgICAgICAgICAgICAgICAgICAgbShcInBcIiwgXCJDaXR5OiBcIiArIGludm9pY2Uuc2hvdy5jaXR5KSxcbiAgICAgICAgICAgICAgICAgICAgbShcInBcIiwgXCJDb3VudHJ5OiBcIiArIGludm9pY2Uuc2hvdy5jb3VudHJ5KSxcbiAgICAgICAgICAgICAgICAgICAgbShcInAucHJpY2VcIiwgXCJUb3RhbCBwcmljZTogXCIgKyBpbnZvaWNlLnNob3cudG90YWxfcHJpY2UpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIkNyZWF0aW9uIERhdGU6IFwiICsgaW52b2ljZS5zaG93LmNyZWF0aW9uX2RhdGUpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIkR1ZSBEYXRlOiBcIiArIGludm9pY2Uuc2hvdy5kdWVfZGF0ZSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBpbnZvaWNlRGV0YWlscyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/views/view-invoice.js\n");

/***/ }),

/***/ "./js/views/view-order.js":
/*!********************************!*\
  !*** ./js/views/view-order.js ***!
  \********************************/
/*! exports provided: orderView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"orderView\", function() { return orderView; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_order_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/order.js */ \"./js/models/order.js\");\n\n\n\n\nlet orderView = {\n    oninit: function() {\n        _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].load();\n    },\n    titleText: \"New orders\",\n    container: \"order-container\",\n    view: function() {\n        if (_models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].current.data.length === 0) {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h2\", \"Sorry, no orders available!\")\n            ];\n        } else {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", orderView.titleText),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${orderView.container}`, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"table.results\", [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"thead\", [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Order ID\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Name\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Rows\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Status\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Pick list\"),\n                            ])\n                        ]),\n                        _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].current.data.map(function(row) {\n                            if (row.status_id == 100) {\n                                return [\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Order ID]\", row.id),\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Name]\", row.name),\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Rows]\", row.order_items.length),\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Status]\", row.status),\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Pick list]\", [\n                                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"a\", {\n                                                href: \"/view-picklist/\" + row.id,\n                                                oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                                            }, [\n                                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"i.material-icons\", \"list\")\n                                            ])\n                                        ])\n                                    ])\n                                ];\n                            }\n                        })\n                    ])\n                ])\n            ];\n        }\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy92aWV3LW9yZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdmlld3Mvdmlldy1vcmRlci5qcz83NDJjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IG0gZnJvbSAnbWl0aHJpbCc7XG5pbXBvcnQgeyBvcmRlciB9IGZyb20gXCIuLi9tb2RlbHMvb3JkZXIuanNcIjtcblxubGV0IG9yZGVyVmlldyA9IHtcbiAgICBvbmluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBvcmRlci5sb2FkKCk7XG4gICAgfSxcbiAgICB0aXRsZVRleHQ6IFwiTmV3IG9yZGVyc1wiLFxuICAgIGNvbnRhaW5lcjogXCJvcmRlci1jb250YWluZXJcIixcbiAgICB2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKG9yZGVyLmN1cnJlbnQuZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbShcImgyXCIsIFwiU29ycnksIG5vIG9yZGVycyBhdmFpbGFibGUhXCIpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBtKFwiaDFcIiwgb3JkZXJWaWV3LnRpdGxlVGV4dCksXG4gICAgICAgICAgICAgICAgbShgZGl2LiR7b3JkZXJWaWV3LmNvbnRhaW5lcn1gLCBbXG4gICAgICAgICAgICAgICAgICAgIG0oXCJ0YWJsZS5yZXN1bHRzXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aGVhZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRyXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiT3JkZXIgSURcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIk5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIlJvd3NcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIlN0YXR1c1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiUGljayBsaXN0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyLmN1cnJlbnQuZGF0YS5tYXAoZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5zdGF0dXNfaWQgPT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidHJcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0ZFtkYXRhLXRpdGxlID0gT3JkZXIgSURdXCIsIHJvdy5pZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBOYW1lXVwiLCByb3cubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBSb3dzXVwiLCByb3cub3JkZXJfaXRlbXMubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFN0YXR1c11cIiwgcm93LnN0YXR1cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBQaWNrIGxpc3RdXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcImFcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIvdmlldy1waWNrbGlzdC9cIiArIHJvdy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY3JlYXRlOiBtLnJvdXRlLmxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcImkubWF0ZXJpYWwtaWNvbnNcIiwgXCJsaXN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCB7IG9yZGVyVmlldyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/views/view-order.js\n");

/***/ }),

/***/ "./js/views/view-picklist.js":
/*!***********************************!*\
  !*** ./js/views/view-picklist.js ***!
  \***********************************/
/*! exports provided: picklistView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"picklistView\", function() { return picklistView; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_order_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/order.js */ \"./js/models/order.js\");\n/* harmony import */ var _models_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/utils.js */ \"./js/models/utils.js\");\n\n\n\n\n\nlet picklistView = {\n    oninit: function(vnode) {\n        _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].loadPicklist(vnode.attrs.id);\n    },\n    titleText: \"Pick list\",\n    container: \"picklist-container\",\n    view: function() {\n        var packedButton = Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.packed\", {\n            onclick: _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].packOrder\n        }, \"Mark as Packed\");\n        var message = Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.center\", \"To continue all products must be checked!\");\n        var check = pickListCheck();\n\n        function pickable(productID, stock, amount) {\n            var p;\n\n            if (stock - amount >= 0) {\n                p = Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`input[type=checkbox][name=${productID}]`);\n            } else {\n                p = Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"i.material-icons\", \"warning\");\n            }\n            return p;\n        }\n        function pickListCheck() {\n            var countCheck = document.querySelectorAll(\n                'input[type=\"checkbox\"]:checked').length;\n\n            if (_models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].picklist.length == countCheck) {\n                return packedButton;\n            } else {\n                return message;\n            }\n        }\n        return [\n            _models_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].backButton(\"/view-order\"),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", picklistView.titleText),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${picklistView.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.center\", \"Order ID: \" + _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].show.data.id),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.center\", \"Customer: \" + _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].show.data.name),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"table.results\", [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"thead\", [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Pick\"),\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Product ID\"),\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Name\"),\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Amount\"),\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Stock\"),\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Location\"),\n                        ])\n                    ]),\n                    _models_order_js__WEBPACK_IMPORTED_MODULE_1__[\"order\"].picklist.map(function(row) {\n                        var pick = pickable(row.product_id, row.stock, row.amount);\n\n                        return [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Pick]\", {\n                                    onclick: check = pickListCheck()\n                                }, pick),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Product ID]\", row.product_id),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Name]\", row.name),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Amount]\", row.amount),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Stock]\", row.stock),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Location]\", row.location)\n                            ])\n                        ];\n                    })\n                ]),\n                check\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy92aWV3LXBpY2tsaXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdmlld3Mvdmlldy1waWNrbGlzdC5qcz9iZWZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IG0gZnJvbSAnbWl0aHJpbCc7XG5pbXBvcnQgeyBvcmRlciB9IGZyb20gXCIuLi9tb2RlbHMvb3JkZXIuanNcIjtcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSBcIi4uL21vZGVscy91dGlscy5qc1wiO1xuXG5sZXQgcGlja2xpc3RWaWV3ID0ge1xuICAgIG9uaW5pdDogZnVuY3Rpb24odm5vZGUpIHtcbiAgICAgICAgb3JkZXIubG9hZFBpY2tsaXN0KHZub2RlLmF0dHJzLmlkKTtcbiAgICB9LFxuICAgIHRpdGxlVGV4dDogXCJQaWNrIGxpc3RcIixcbiAgICBjb250YWluZXI6IFwicGlja2xpc3QtY29udGFpbmVyXCIsXG4gICAgdmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYWNrZWRCdXR0b24gPSBtKFwiYnV0dG9uLmJ1dHRvbi5wYWNrZWRcIiwge1xuICAgICAgICAgICAgb25jbGljazogb3JkZXIucGFja09yZGVyXG4gICAgICAgIH0sIFwiTWFyayBhcyBQYWNrZWRcIik7XG4gICAgICAgIHZhciBtZXNzYWdlID0gbShcInAuY2VudGVyXCIsIFwiVG8gY29udGludWUgYWxsIHByb2R1Y3RzIG11c3QgYmUgY2hlY2tlZCFcIik7XG4gICAgICAgIHZhciBjaGVjayA9IHBpY2tMaXN0Q2hlY2soKTtcblxuICAgICAgICBmdW5jdGlvbiBwaWNrYWJsZShwcm9kdWN0SUQsIHN0b2NrLCBhbW91bnQpIHtcbiAgICAgICAgICAgIHZhciBwO1xuXG4gICAgICAgICAgICBpZiAoc3RvY2sgLSBhbW91bnQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHAgPSBtKGBpbnB1dFt0eXBlPWNoZWNrYm94XVtuYW1lPSR7cHJvZHVjdElEfV1gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcCA9IG0oXCJpLm1hdGVyaWFsLWljb25zXCIsIFwid2FybmluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHBpY2tMaXN0Q2hlY2soKSB7XG4gICAgICAgICAgICB2YXIgY291bnRDaGVjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkJykubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAob3JkZXIucGlja2xpc3QubGVuZ3RoID09IGNvdW50Q2hlY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFja2VkQnV0dG9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdXRpbHMuYmFja0J1dHRvbihcIi92aWV3LW9yZGVyXCIpLFxuICAgICAgICAgICAgbShcImgxXCIsIHBpY2tsaXN0Vmlldy50aXRsZVRleHQpLFxuICAgICAgICAgICAgbShgZGl2LiR7cGlja2xpc3RWaWV3LmNvbnRhaW5lcn1gLCBbXG4gICAgICAgICAgICAgICAgbShcInAuY2VudGVyXCIsIFwiT3JkZXIgSUQ6IFwiICsgb3JkZXIuc2hvdy5kYXRhLmlkKSxcbiAgICAgICAgICAgICAgICBtKFwicC5jZW50ZXJcIiwgXCJDdXN0b21lcjogXCIgKyBvcmRlci5zaG93LmRhdGEubmFtZSksXG4gICAgICAgICAgICAgICAgbShcInRhYmxlLnJlc3VsdHNcIiwgW1xuICAgICAgICAgICAgICAgICAgICBtKFwidGhlYWRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgbShcInRyXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGhcIiwgXCJQaWNrXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0aFwiLCBcIlByb2R1Y3QgSURcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiTmFtZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGhcIiwgXCJBbW91bnRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiU3RvY2tcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoXCIsIFwiTG9jYXRpb25cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIucGlja2xpc3QubWFwKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpY2sgPSBwaWNrYWJsZShyb3cucHJvZHVjdF9pZCwgcm93LnN0b2NrLCByb3cuYW1vdW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidHJcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFBpY2tdXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGNoZWNrID0gcGlja0xpc3RDaGVjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHBpY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFByb2R1Y3QgSURdXCIsIHJvdy5wcm9kdWN0X2lkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBOYW1lXVwiLCByb3cubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJ0ZFtkYXRhLXRpdGxlID0gQW1vdW50XVwiLCByb3cuYW1vdW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBTdG9ja11cIiwgcm93LnN0b2NrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRkW2RhdGEtdGl0bGUgPSBMb2NhdGlvbl1cIiwgcm93LmxvY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGNoZWNrXG4gICAgICAgICAgICBdKVxuICAgICAgICBdO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IHBpY2tsaXN0VmlldyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/views/view-picklist.js\n");

/***/ }),

/***/ "./js/views/view-product.js":
/*!**********************************!*\
  !*** ./js/views/view-product.js ***!
  \**********************************/
/*! exports provided: productView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"productView\", function() { return productView; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/product.js */ \"./js/models/product.js\");\n/* harmony import */ var _models_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/utils.js */ \"./js/models/utils.js\");\n\n\n\n\n\nlet productView = {\n    oninit: function(vnode) {\n        _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].loadDetails(vnode.attrs.id);\n    },\n    titleText: _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.name,\n    container: \"product-container\",\n    view: function() {\n        return [\n            _models_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].backButton(\"/view-stock\"),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", productView.titleText),\n            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${productView.container}`, [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"div.product-details\", [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"ID: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.id),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Article number: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.article_number),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Name: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.name),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Description: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.description),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Specifiers: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.specifiers),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Stock: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.stock),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p\", \"Location: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.location),\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"p.price\", \"Price: \" + _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].show.price)\n                ])\n            ])\n        ];\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy92aWV3LXByb2R1Y3QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy92aWV3cy92aWV3LXByb2R1Y3QuanM/MDI1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCBtIGZyb20gJ21pdGhyaWwnO1xuaW1wb3J0IHsgcHJvZHVjdCB9IGZyb20gXCIuLi9tb2RlbHMvcHJvZHVjdC5qc1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vbW9kZWxzL3V0aWxzLmpzXCI7XG5cbmxldCBwcm9kdWN0VmlldyA9IHtcbiAgICBvbmluaXQ6IGZ1bmN0aW9uKHZub2RlKSB7XG4gICAgICAgIHByb2R1Y3QubG9hZERldGFpbHModm5vZGUuYXR0cnMuaWQpO1xuICAgIH0sXG4gICAgdGl0bGVUZXh0OiBwcm9kdWN0LnNob3cubmFtZSxcbiAgICBjb250YWluZXI6IFwicHJvZHVjdC1jb250YWluZXJcIixcbiAgICB2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHV0aWxzLmJhY2tCdXR0b24oXCIvdmlldy1zdG9ja1wiKSxcbiAgICAgICAgICAgIG0oXCJoMVwiLCBwcm9kdWN0Vmlldy50aXRsZVRleHQpLFxuICAgICAgICAgICAgbShgZGl2LiR7cHJvZHVjdFZpZXcuY29udGFpbmVyfWAsIFtcbiAgICAgICAgICAgICAgICBtKFwiZGl2LnByb2R1Y3QtZGV0YWlsc1wiLCBbXG4gICAgICAgICAgICAgICAgICAgIG0oXCJwXCIsIFwiSUQ6IFwiICsgcHJvZHVjdC5zaG93LmlkKSxcbiAgICAgICAgICAgICAgICAgICAgbShcInBcIiwgXCJBcnRpY2xlIG51bWJlcjogXCIgKyBwcm9kdWN0LnNob3cuYXJ0aWNsZV9udW1iZXIpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIk5hbWU6IFwiICsgcHJvZHVjdC5zaG93Lm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICBtKFwicFwiLCBcIkRlc2NyaXB0aW9uOiBcIiArIHByb2R1Y3Quc2hvdy5kZXNjcmlwdGlvbiksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJwXCIsIFwiU3BlY2lmaWVyczogXCIgKyBwcm9kdWN0LnNob3cuc3BlY2lmaWVycyksXG4gICAgICAgICAgICAgICAgICAgIG0oXCJwXCIsIFwiU3RvY2s6IFwiICsgcHJvZHVjdC5zaG93LnN0b2NrKSxcbiAgICAgICAgICAgICAgICAgICAgbShcInBcIiwgXCJMb2NhdGlvbjogXCIgKyBwcm9kdWN0LnNob3cubG9jYXRpb24pLFxuICAgICAgICAgICAgICAgICAgICBtKFwicC5wcmljZVwiLCBcIlByaWNlOiBcIiArIHByb2R1Y3Quc2hvdy5wcmljZSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBwcm9kdWN0VmlldyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/views/view-product.js\n");

/***/ }),

/***/ "./js/views/view-stock.js":
/*!********************************!*\
  !*** ./js/views/view-stock.js ***!
  \********************************/
/*! exports provided: stockView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stockView\", function() { return stockView; });\n/* harmony import */ var mithril__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mithril */ \"./node_modules/mithril/mithril.mjs\");\n/* harmony import */ var _models_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/product.js */ \"./js/models/product.js\");\n\n\n\n\nlet stockView = {\n    oninit: function() {\n        _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].load();\n    },\n    titleText: \"Stock\",\n    container: \"stock-container\",\n    view: function() {\n        if (_models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.data.length === 0) {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h2\", \"Sorry, no products available!\"),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add\",\n                    {\n                        href: \"/add-product\",\n                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                    },\n                    \"Add Product\"\n                )\n            ];\n        } else {\n            return [\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"h1\", stockView.titleText),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(`div.${stockView.container}`, [\n                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"table.results\", [\n                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"thead\", [\n                            Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Product\"),\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"th\", \"Stock\"),\n                            ])\n                        ]),\n                        _models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"product\"].current.data.map(function(row) {\n                            return [\n                                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"tr\", [\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"a\", {\n                                        href: \"/view-product/\" + row.id,\n                                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                                    },\n                                    [\n                                        Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Product]\", row.name)\n                                    ]),\n                                    Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"td[data-title = Stock]\", row.stock)\n                                ])\n                            ];\n                        })\n                    ])\n                ]),\n                Object(mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"button.button.add\",\n                    {\n                        href: \"/add-product\",\n                        oncreate: mithril__WEBPACK_IMPORTED_MODULE_0__[\"default\"].route.link\n                    },\n                    \"Add product\"\n                )\n            ];\n        }\n    }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy92aWV3cy92aWV3LXN0b2NrLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdmlld3Mvdmlldy1zdG9jay5qcz8yNzU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IG0gZnJvbSAnbWl0aHJpbCc7XG5pbXBvcnQgeyBwcm9kdWN0IH0gZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0LmpzXCI7XG5cbmxldCBzdG9ja1ZpZXcgPSB7XG4gICAgb25pbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvZHVjdC5sb2FkKCk7XG4gICAgfSxcbiAgICB0aXRsZVRleHQ6IFwiU3RvY2tcIixcbiAgICBjb250YWluZXI6IFwic3RvY2stY29udGFpbmVyXCIsXG4gICAgdmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwcm9kdWN0LmN1cnJlbnQuZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbShcImgyXCIsIFwiU29ycnksIG5vIHByb2R1Y3RzIGF2YWlsYWJsZSFcIiksXG4gICAgICAgICAgICAgICAgbShcImJ1dHRvbi5idXR0b24uYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiL2FkZC1wcm9kdWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNyZWF0ZTogbS5yb3V0ZS5saW5rXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiQWRkIFByb2R1Y3RcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG0oXCJoMVwiLCBzdG9ja1ZpZXcudGl0bGVUZXh0KSxcbiAgICAgICAgICAgICAgICBtKGBkaXYuJHtzdG9ja1ZpZXcuY29udGFpbmVyfWAsIFtcbiAgICAgICAgICAgICAgICAgICAgbShcInRhYmxlLnJlc3VsdHNcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgbShcInRoZWFkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidHJcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGhcIiwgXCJQcm9kdWN0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGhcIiwgXCJTdG9ja1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0LmN1cnJlbnQuZGF0YS5tYXAoZnVuY3Rpb24ocm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbShcInRyXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0oXCJhXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIi92aWV3LXByb2R1Y3QvXCIgKyByb3cuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jcmVhdGU6IG0ucm91dGUubGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFByb2R1Y3RdXCIsIHJvdy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKFwidGRbZGF0YS10aXRsZSA9IFN0b2NrXVwiLCByb3cuc3RvY2spXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgbShcImJ1dHRvbi5idXR0b24uYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiL2FkZC1wcm9kdWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNyZWF0ZTogbS5yb3V0ZS5saW5rXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiQWRkIHByb2R1Y3RcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgeyBzdG9ja1ZpZXcgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/views/view-stock.js\n");

/***/ }),

/***/ "./node_modules/mithril/mithril.mjs":
/*!******************************************!*\
  !*** ./node_modules/mithril/mithril.mjs ***!
  \******************************************/
/*! exports provided: default, m, trust, fragment, mount, route, render, redraw, request, jsonp, parseQueryString, buildQueryString, version, vnode, PromisePolyfill */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return _m; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trust\", function() { return _trust; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fragment\", function() { return _fragment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mount\", function() { return _mount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"route\", function() { return _route; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"redraw\", function() { return _redraw; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"request\", function() { return _request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jsonp\", function() { return _jsonp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseQueryString\", function() { return _parseQueryString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildQueryString\", function() { return _buildQueryString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"version\", function() { return _version; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vnode\", function() { return _vnode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PromisePolyfill\", function() { return _PromisePolyfill; });\nfunction Vnode(tag, key, attrs0, children0, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children0, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function(input) {\n\tvar children0 = []\n\tfor (var i = 0; i < input.length; i++) {\n\t\tchildren0[i] = Vnode.normalize(input[i])\n\t}\n\treturn children0\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children1) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children1.length === 1 && Array.isArray(children1[0])) children1 = children1[0]\n//     } else {\n//         children1 = children1.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children1]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children1)\n// }\nvar hyperscriptVnode = function() {\n\tvar attrs1 = arguments[this], start = this + 1, children1\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren1 = arguments[start]\n\t\tif (!Array.isArray(children1)) children1 = [children1]\n\t} else {\n\t\tchildren1 = []\n\t\twhile (start < arguments.length) children1.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children1)\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\treturn vnode\n}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\t\n\tvnode.tag = selector\n\treturn vnode\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function() {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar _12 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(url, args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise0\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\t\t\treturn wrap(promise0)\n\t\t\tfunction wrap(promise0) {\n\t\t\t\tvar then0 = promise0.then\n\t\t\t\tpromise0.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise0\n\t\t\t}\n\t\t}\n\t}\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\tfunction interpolate(url, data, assemble) {\n\t\tif (data == null) return url\n\t\turl = url.replace(/:([^\\/]+)/gi, function (m0, key) {\n\t\t\treturn data[key] != null ? data[key] : m0\n\t\t})\n\t\tif (assemble && data != null) {\n\t\t\tvar querystring = buildQueryString(data)\n\t\t\tif (querystring) url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + querystring\n\t\t}\n\t\treturn url\n\t}\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar useBody = method !== \"GET\" && method !== \"TRACE\" &&\n\t\t\t\t(typeof args.useBody !== \"boolean\" || args.useBody)\n\t\t\tvar data = args.data\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(data instanceof $window.FormData)\n\t\t\tif (useBody) {\n\t\t\t\tif (typeof args.serialize === \"function\") data = args.serialize(data)\n\t\t\t\telse if (!(data instanceof $window.FormData)) data = JSON.stringify(data)\n\t\t\t}\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(method, interpolate(url, args.data, !useBody), typeof args.async !== \"boolean\" || args.async, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (assumeJSON && useBody && !hasHeader(args, /^content-type0$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\tif (args.responseType) xhr.responseType = args.responseType\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\tvar response = xhr.responseText\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(xhr, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {response = response ? JSON.parse(response) : null}\n\t\t\t\t\t\t\tcatch (e) {throw new Error(\"Invalid JSON: \" + response)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\terror.code = xhr.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && data != null) xhr.send(data)\n\t\t\telse xhr.send()\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\turl = interpolate(url, args.data, true)\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t\tsetCompletionCallback: function(callback) {\n\t\t\toncompletion = callback\n\t\t},\n\t}\n}\nvar requestService = _12(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar redraw0\n\tfunction setRedraw(callback) {return redraw0 = callback}\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error1, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode3, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode3, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode3, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children3 = vnode3.children\n\t\t\tcreateNodes(fragment, children3, 0, children3.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (attrs2 != null && attrs2.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse {\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tif (vnode3.text !== \"\") element.textContent = vnode3.text\n\t\t\t\telse vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children3 = vnode3.children\n\t\t\t\tcreateNodes(element, children3, 0, children3.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next0 DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index0 (for the old list), then1 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next0 sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index0, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next0 sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next0 sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(old, 0, old.length)\n\t\telse {\n\t\t\tvar start = 0, oldStart = 0, isOldKeyed = null, isKeyed = null\n\t\t\tfor (; oldStart < old.length; oldStart++) {\n\t\t\t\tif (old[oldStart] != null) {\n\t\t\t\t\tisOldKeyed = old[oldStart].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (; start < vnodes.length; start++) {\n\t\t\t\tif (vnodes[start] != null) {\n\t\t\t\t\tisKeyed = vnodes[start].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index0 past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index0 on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\toldStart++, start++\n\t\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (start === end) break\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\t\tinsertNode(parent, toFragment(oe), topSibling)\n\t\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\t\tif (++start <= --end) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tif (ve != null) {\n\t\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse insertNode(parent, toFragment(v), nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode3); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode3, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode3, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t}\n\t\telse vnode3.dom = old.dom, vnode3.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children3 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children3 != null) {\n\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\tvar child = children3[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tvnode3.attrs.value = vnode3.text //FIXME handle0 multiple children3\n\t\t\t\tvnode3.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (vnode3.attrs != null && vnode3.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse if (old.text != null && vnode3.text != null && vnode3.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode3.text.toString()) old.dom.firstChild.nodeValue = vnode3.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode3.text != null) vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tfunction makeLisIndices(a) {\n\t\tvar p = a.slice()\n\t\tvar result = []\n\t\tresult.push(0)\n\t\tvar u\n\t\tvar v\n\t\tfor (var i = 0, il = a.length; i < il; ++i) {\n\t\t\tif (a[i] === -1) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\tvar c = ((u + v) / 2) | 0 // eslint-disable-line no-bitwise\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) {\n\t\t\t\t\tp[i] = result[u - 1]\n\t\t\t\t}\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = p[v]\n\t\t}\n\t\treturn result\n\t}\n\tfunction toFragment(vnode3) {\n\t\tvar count0 = vnode3.domSize\n\t\tif (count0 != null || vnode3.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode3.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode3.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode3) {\n\t\tvar children3 = vnode3.children\n\t\tif (children3 != null && children3.length === 1 && children3[0].tag === \"<\") {\n\t\t\tvar content = children3[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode3.text != null || children3 != null && children3.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(vnode3)\n\t\t}\n\t}\n\tfunction removeNode(vnode3) {\n\t\tvar expected = 1, called = 0\n\t\tvar original = vnode3.state\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tcheckState(vnode3, original)\n\t\t\t\tonremove(vnode3)\n\t\t\t\tif (vnode3.dom) {\n\t\t\t\t\tvar parent = vnode3.dom.parentNode\n\t\t\t\t\tvar count0 = vnode3.domSize || 1\n\t\t\t\t\twhile (--count0) parent.removeChild(vnode3.dom.nextSibling)\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children3 = vnode3.children\n\t\t\tif (Array.isArray(children3)) {\n\t\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\t\tvar child = children3[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode3, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && vnode3.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error1 will occur.\n\t\t\tif (vnode3.tag === \"input\" && key === \"type\") vnode3.dom.setAttribute(key, value)\n\t\t\telse vnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif(attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag === \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method0.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (ev.redraw === false) ev.redraw = undefined\n\t\telse if (typeof redraw0 === \"function\") redraw0()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\treturn true\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering0 into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setRedraw: setRedraw}\n}\nfunction throttle(callback) {\n\tvar pending = null\n\treturn function() {\n\t\tif (pending === null) {\n\t\t\tpending = requestAnimationFrame(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n}\nvar _15 = function($window, throttleMock) {\n\tvar renderService = coreRenderer($window)\n\tvar callbacks = []\n\tvar rendering = false\n\tfunction subscribe(key, callback) {\n\t\tunsubscribe(key)\n\t\tcallbacks.push(key, callback)\n\t}\n\tfunction unsubscribe(key) {\n\t\tvar index = callbacks.indexOf(key)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 1; i < callbacks.length; i+=2) try {callbacks[i]()} catch (e) {if (typeof console !== \"undefined\") console.error(e)}\n\t\trendering = false\n\t}\n\tvar redraw = (throttleMock || throttle)(sync)\n\tredraw.sync = sync\n\trenderService.setRedraw(redraw)\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _15(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _20 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\trun0()\n\t}\n}\nm.mount = _20(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data2 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key2 = decodeURIComponent(entry[0])\n\t\tvar value0 = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value0 === \"true\") value0 = true\n\t\telse if (value0 === \"false\") value0 = false\n\t\tvar levels = key2.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data2\n\t\tif (key2.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j0 === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key2 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key2] == null) counters[key2] = 0\n\t\t\t\tlevel = counters[key2]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value0 : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data2\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize(fragment0) {\n\t\tvar data1 = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data1[0] !== \"/\") data1 = \"/\" + data1\n\t\treturn data1\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key1 in queryParams) queryData[key1] = queryParams[key1]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key1 in hashParams) hashData[key1] = hashParams[key1]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize(\"search\").slice(router.prefix.length) + normalize(\"hash\")\n\t\t\tdefault: return normalize(\"pathname\").slice(router.prefix.length) + normalize(\"search\") + normalize(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data1, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data1 != null) {\n\t\t\tfor (var key1 in data1) queryData[key1] = data1[key1]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match1, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data1[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _24 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v0) {return v0}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tfunction run1() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar redraw3 = function() {\n\t\t\trun1()\n\t\t\tredraw3 = redrawService0.redraw\n\t\t}\n\t\tredrawService0.subscribe(root, run1)\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\tredraw3()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t}\n\troute.set = function(path, data0, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data0, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix) {routeService.prefix = prefix}\n\tvar link = function(options, vnode5) {\n\t\tvnode5.dom.setAttribute(\"href\", routeService.prefix + vnode5.attrs.href)\n\t\tvnode5.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, options)\n\t\t}\n\t}\n\troute.link = function(args0) {\n\t\tif (args0.tag == null) return link.bind(link, args0)\n\t\treturn link({}, args0)\n\t}\n\troute.param = function(key0) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key0 !== \"undefined\") return attrs3[key0]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _24(window, redrawService)\nvar _31 = coreRenderer(window)\nm.render = _31.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"2.0.0-rc.4\"\nm.vnode = Vnode\nm.PromisePolyfill = PromisePolyfill\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (m);\nvar _m = m.m,_trust = m.trust,_fragment = m.fragment,_mount = m.mount,_route = m.route,_render = m.render,_redraw = m.redraw,_request = m.request,_jsonp = m.jsonp,_parseQueryString = m.parseQueryString,_buildQueryString = m.buildQueryString,_version = m.version,_vnode = m.vnode,_PromisePolyfill = m.PromisePolyfill\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWl0aHJpbC9taXRocmlsLm1qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9taXRocmlsL21pdGhyaWwubWpzPzAxNmUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gVm5vZGUodGFnLCBrZXksIGF0dHJzMCwgY2hpbGRyZW4wLCB0ZXh0LCBkb20pIHtcblx0cmV0dXJuIHt0YWc6IHRhZywga2V5OiBrZXksIGF0dHJzOiBhdHRyczAsIGNoaWxkcmVuOiBjaGlsZHJlbjAsIHRleHQ6IHRleHQsIGRvbTogZG9tLCBkb21TaXplOiB1bmRlZmluZWQsIHN0YXRlOiB1bmRlZmluZWQsIGV2ZW50czogdW5kZWZpbmVkLCBpbnN0YW5jZTogdW5kZWZpbmVkfVxufVxuVm5vZGUubm9ybWFsaXplID0gZnVuY3Rpb24obm9kZSkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShub2RlKSkgcmV0dXJuIFZub2RlKFwiW1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgVm5vZGUubm9ybWFsaXplQ2hpbGRyZW4obm9kZSksIHVuZGVmaW5lZCwgdW5kZWZpbmVkKVxuXHRpZiAobm9kZSAhPSBudWxsICYmIHR5cGVvZiBub2RlICE9PSBcIm9iamVjdFwiKSByZXR1cm4gVm5vZGUoXCIjXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBub2RlID09PSBmYWxzZSA/IFwiXCIgOiBub2RlLCB1bmRlZmluZWQsIHVuZGVmaW5lZClcblx0cmV0dXJuIG5vZGVcbn1cblZub2RlLm5vcm1hbGl6ZUNoaWxkcmVuID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0dmFyIGNoaWxkcmVuMCA9IFtdXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcblx0XHRjaGlsZHJlbjBbaV0gPSBWbm9kZS5ub3JtYWxpemUoaW5wdXRbaV0pXG5cdH1cblx0cmV0dXJuIGNoaWxkcmVuMFxufVxuLy8gQ2FsbCB2aWEgYGh5cGVyc2NyaXB0Vm5vZGUwLmFwcGx5KHN0YXJ0T2Zmc2V0LCBhcmd1bWVudHMpYFxuLy9cbi8vIFRoZSByZWFzb24gSSBkbyBpdCB0aGlzIHdheSwgZm9yd2FyZGluZyB0aGUgYXJndW1lbnRzIGFuZCBwYXNzaW5nIHRoZSBzdGFydFxuLy8gb2Zmc2V0IGluIGB0aGlzYCwgaXMgc28gSSBkb24ndCBoYXZlIHRvIGNyZWF0ZSBhIHRlbXBvcmFyeSBhcnJheSBpbiBhXG4vLyBwZXJmb3JtYW5jZS1jcml0aWNhbCBwYXRoLlxuLy9cbi8vIEluIG5hdGl2ZSBFUzYsIEknZCBpbnN0ZWFkIGFkZCBhIGZpbmFsIGAuLi5hcmdzYCBwYXJhbWV0ZXIgdG8gdGhlXG4vLyBgaHlwZXJzY3JpcHQwYCBhbmQgYGZyYWdtZW50YCBmYWN0b3JpZXMgYW5kIGRlZmluZSB0aGlzIGFzXG4vLyBgaHlwZXJzY3JpcHRWbm9kZTAoLi4uYXJncylgLCBzaW5jZSBtb2Rlcm4gZW5naW5lcyBkbyBvcHRpbWl6ZSB0aGF0IGF3YXkuIEJ1dFxuLy8gRVM1ICh3aGF0IE1pdGhyaWwgcmVxdWlyZXMgdGhhbmtzIHRvIElFIHN1cHBvcnQpIGRvZXNuJ3QgZ2l2ZSBtZSB0aGF0IGx1eHVyeSxcbi8vIGFuZCBlbmdpbmVzIGFyZW4ndCBuZWFybHkgaW50ZWxsaWdlbnQgZW5vdWdoIHRvIGRvIGVpdGhlciBvZiB0aGVzZTpcbi8vXG4vLyAxLiBFbGlkZSB0aGUgYWxsb2NhdGlvbiBmb3IgYFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKWAgd2hlbiBpdCdzIHBhc3NlZCB0b1xuLy8gICAgYW5vdGhlciBmdW5jdGlvbiBvbmx5IHRvIGJlIGluZGV4ZWQuXG4vLyAyLiBFbGlkZSBhbiBgYXJndW1lbnRzYCBhbGxvY2F0aW9uIHdoZW4gaXQncyBwYXNzZWQgdG8gYW55IGZ1bmN0aW9uIG90aGVyXG4vLyAgICB0aGFuIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgIG9yIGBSZWZsZWN0LmFwcGx5YC5cbi8vXG4vLyBJbiBFUzYsIGl0J2QgcHJvYmFibHkgbG9vayBjbG9zZXIgdG8gdGhpcyAoSSdkIG5lZWQgdG8gcHJvZmlsZSBpdCwgdGhvdWdoKTpcbi8vIHZhciBoeXBlcnNjcmlwdFZub2RlID0gZnVuY3Rpb24oYXR0cnMxLCAuLi5jaGlsZHJlbjEpIHtcbi8vICAgICBpZiAoYXR0cnMxID09IG51bGwgfHwgdHlwZW9mIGF0dHJzMSA9PT0gXCJvYmplY3RcIiAmJiBhdHRyczEudGFnID09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoYXR0cnMxKSkge1xuLy8gICAgICAgICBpZiAoY2hpbGRyZW4xLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGNoaWxkcmVuMVswXSkpIGNoaWxkcmVuMSA9IGNoaWxkcmVuMVswXVxuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIGNoaWxkcmVuMSA9IGNoaWxkcmVuMS5sZW5ndGggPT09IDAgJiYgQXJyYXkuaXNBcnJheShhdHRyczEpID8gYXR0cnMxIDogW2F0dHJzMSwgLi4uY2hpbGRyZW4xXVxuLy8gICAgICAgICBhdHRyczEgPSB1bmRlZmluZWRcbi8vICAgICB9XG4vL1xuLy8gICAgIGlmIChhdHRyczEgPT0gbnVsbCkgYXR0cnMxID0ge31cbi8vICAgICByZXR1cm4gVm5vZGUoXCJcIiwgYXR0cnMxLmtleSwgYXR0cnMxLCBjaGlsZHJlbjEpXG4vLyB9XG52YXIgaHlwZXJzY3JpcHRWbm9kZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYXR0cnMxID0gYXJndW1lbnRzW3RoaXNdLCBzdGFydCA9IHRoaXMgKyAxLCBjaGlsZHJlbjFcblx0aWYgKGF0dHJzMSA9PSBudWxsKSB7XG5cdFx0YXR0cnMxID0ge31cblx0fSBlbHNlIGlmICh0eXBlb2YgYXR0cnMxICE9PSBcIm9iamVjdFwiIHx8IGF0dHJzMS50YWcgIT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGF0dHJzMSkpIHtcblx0XHRhdHRyczEgPSB7fVxuXHRcdHN0YXJ0ID0gdGhpc1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBzdGFydCArIDEpIHtcblx0XHRjaGlsZHJlbjEgPSBhcmd1bWVudHNbc3RhcnRdXG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KGNoaWxkcmVuMSkpIGNoaWxkcmVuMSA9IFtjaGlsZHJlbjFdXG5cdH0gZWxzZSB7XG5cdFx0Y2hpbGRyZW4xID0gW11cblx0XHR3aGlsZSAoc3RhcnQgPCBhcmd1bWVudHMubGVuZ3RoKSBjaGlsZHJlbjEucHVzaChhcmd1bWVudHNbc3RhcnQrK10pXG5cdH1cblx0cmV0dXJuIFZub2RlKFwiXCIsIGF0dHJzMS5rZXksIGF0dHJzMSwgY2hpbGRyZW4xKVxufVxudmFyIHNlbGVjdG9yUGFyc2VyID0gLyg/OihefCN8XFwuKShbXiNcXC5cXFtcXF1dKykpfChcXFsoLis/KSg/Olxccyo9XFxzKihcInwnfCkoKD86XFxcXFtcIidcXF1dfC4pKj8pXFw1KT9cXF0pL2dcbnZhciBzZWxlY3RvckNhY2hlID0ge31cbnZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eVxuZnVuY3Rpb24gaXNFbXB0eShvYmplY3QpIHtcblx0Zm9yICh2YXIga2V5IGluIG9iamVjdCkgaWYgKGhhc093bi5jYWxsKG9iamVjdCwga2V5KSkgcmV0dXJuIGZhbHNlXG5cdHJldHVybiB0cnVlXG59XG5mdW5jdGlvbiBjb21waWxlU2VsZWN0b3Ioc2VsZWN0b3IpIHtcblx0dmFyIG1hdGNoLCB0YWcgPSBcImRpdlwiLCBjbGFzc2VzID0gW10sIGF0dHJzID0ge31cblx0d2hpbGUgKG1hdGNoID0gc2VsZWN0b3JQYXJzZXIuZXhlYyhzZWxlY3RvcikpIHtcblx0XHR2YXIgdHlwZSA9IG1hdGNoWzFdLCB2YWx1ZSA9IG1hdGNoWzJdXG5cdFx0aWYgKHR5cGUgPT09IFwiXCIgJiYgdmFsdWUgIT09IFwiXCIpIHRhZyA9IHZhbHVlXG5cdFx0ZWxzZSBpZiAodHlwZSA9PT0gXCIjXCIpIGF0dHJzLmlkID0gdmFsdWVcblx0XHRlbHNlIGlmICh0eXBlID09PSBcIi5cIikgY2xhc3Nlcy5wdXNoKHZhbHVlKVxuXHRcdGVsc2UgaWYgKG1hdGNoWzNdWzBdID09PSBcIltcIikge1xuXHRcdFx0dmFyIGF0dHJWYWx1ZSA9IG1hdGNoWzZdXG5cdFx0XHRpZiAoYXR0clZhbHVlKSBhdHRyVmFsdWUgPSBhdHRyVmFsdWUucmVwbGFjZSgvXFxcXChbXCInXSkvZywgXCIkMVwiKS5yZXBsYWNlKC9cXFxcXFxcXC9nLCBcIlxcXFxcIilcblx0XHRcdGlmIChtYXRjaFs0XSA9PT0gXCJjbGFzc1wiKSBjbGFzc2VzLnB1c2goYXR0clZhbHVlKVxuXHRcdFx0ZWxzZSBhdHRyc1ttYXRjaFs0XV0gPSBhdHRyVmFsdWUgPT09IFwiXCIgPyBhdHRyVmFsdWUgOiBhdHRyVmFsdWUgfHwgdHJ1ZVxuXHRcdH1cblx0fVxuXHRpZiAoY2xhc3Nlcy5sZW5ndGggPiAwKSBhdHRycy5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oXCIgXCIpXG5cdHJldHVybiBzZWxlY3RvckNhY2hlW3NlbGVjdG9yXSA9IHt0YWc6IHRhZywgYXR0cnM6IGF0dHJzfVxufVxuZnVuY3Rpb24gZXhlY1NlbGVjdG9yKHN0YXRlLCB2bm9kZSkge1xuXHR2YXIgYXR0cnMgPSB2bm9kZS5hdHRyc1xuXHR2YXIgY2hpbGRyZW4gPSBWbm9kZS5ub3JtYWxpemVDaGlsZHJlbih2bm9kZS5jaGlsZHJlbilcblx0dmFyIGhhc0NsYXNzID0gaGFzT3duLmNhbGwoYXR0cnMsIFwiY2xhc3NcIilcblx0dmFyIGNsYXNzTmFtZSA9IGhhc0NsYXNzID8gYXR0cnMuY2xhc3MgOiBhdHRycy5jbGFzc05hbWVcblx0dm5vZGUudGFnID0gc3RhdGUudGFnXG5cdHZub2RlLmF0dHJzID0gbnVsbFxuXHR2bm9kZS5jaGlsZHJlbiA9IHVuZGVmaW5lZFxuXHRpZiAoIWlzRW1wdHkoc3RhdGUuYXR0cnMpICYmICFpc0VtcHR5KGF0dHJzKSkge1xuXHRcdHZhciBuZXdBdHRycyA9IHt9XG5cdFx0Zm9yICh2YXIga2V5IGluIGF0dHJzKSB7XG5cdFx0XHRpZiAoaGFzT3duLmNhbGwoYXR0cnMsIGtleSkpIG5ld0F0dHJzW2tleV0gPSBhdHRyc1trZXldXG5cdFx0fVxuXHRcdGF0dHJzID0gbmV3QXR0cnNcblx0fVxuXHRmb3IgKHZhciBrZXkgaW4gc3RhdGUuYXR0cnMpIHtcblx0XHRpZiAoaGFzT3duLmNhbGwoc3RhdGUuYXR0cnMsIGtleSkgJiYga2V5ICE9PSBcImNsYXNzTmFtZVwiICYmICFoYXNPd24uY2FsbChhdHRycywga2V5KSl7XG5cdFx0XHRhdHRyc1trZXldID0gc3RhdGUuYXR0cnNba2V5XVxuXHRcdH1cblx0fVxuXHRpZiAoY2xhc3NOYW1lICE9IG51bGwgfHwgc3RhdGUuYXR0cnMuY2xhc3NOYW1lICE9IG51bGwpIGF0dHJzLmNsYXNzTmFtZSA9XG5cdFx0Y2xhc3NOYW1lICE9IG51bGxcblx0XHRcdD8gc3RhdGUuYXR0cnMuY2xhc3NOYW1lICE9IG51bGxcblx0XHRcdFx0PyBTdHJpbmcoc3RhdGUuYXR0cnMuY2xhc3NOYW1lKSArIFwiIFwiICsgU3RyaW5nKGNsYXNzTmFtZSlcblx0XHRcdFx0OiBjbGFzc05hbWVcblx0XHRcdDogc3RhdGUuYXR0cnMuY2xhc3NOYW1lICE9IG51bGxcblx0XHRcdFx0PyBzdGF0ZS5hdHRycy5jbGFzc05hbWVcblx0XHRcdFx0OiBudWxsXG5cdGlmIChoYXNDbGFzcykgYXR0cnMuY2xhc3MgPSBudWxsXG5cdGZvciAodmFyIGtleSBpbiBhdHRycykge1xuXHRcdGlmIChoYXNPd24uY2FsbChhdHRycywga2V5KSAmJiBrZXkgIT09IFwia2V5XCIpIHtcblx0XHRcdHZub2RlLmF0dHJzID0gYXR0cnNcblx0XHRcdGJyZWFrXG5cdFx0fVxuXHR9XG5cdGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW5bMF0gIT0gbnVsbCAmJiBjaGlsZHJlblswXS50YWcgPT09IFwiI1wiKSB7XG5cdFx0dm5vZGUudGV4dCA9IGNoaWxkcmVuWzBdLmNoaWxkcmVuXG5cdH0gZWxzZSB7XG5cdFx0dm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlblxuXHR9XG5cdHJldHVybiB2bm9kZVxufVxuZnVuY3Rpb24gaHlwZXJzY3JpcHQoc2VsZWN0b3IpIHtcblx0aWYgKHNlbGVjdG9yID09IG51bGwgfHwgdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBzZWxlY3Rvci52aWV3ICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHR0aHJvdyBFcnJvcihcIlRoZSBzZWxlY3RvciBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyBvciBhIGNvbXBvbmVudC5cIik7XG5cdH1cblx0dmFyIHZub2RlID0gaHlwZXJzY3JpcHRWbm9kZS5hcHBseSgxLCBhcmd1bWVudHMpXG5cdGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcblx0XHR2bm9kZS5jaGlsZHJlbiA9IFZub2RlLm5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLmNoaWxkcmVuKVxuXHRcdGlmIChzZWxlY3RvciAhPT0gXCJbXCIpIHJldHVybiBleGVjU2VsZWN0b3Ioc2VsZWN0b3JDYWNoZVtzZWxlY3Rvcl0gfHwgY29tcGlsZVNlbGVjdG9yKHNlbGVjdG9yKSwgdm5vZGUpXG5cdH1cblx0XG5cdHZub2RlLnRhZyA9IHNlbGVjdG9yXG5cdHJldHVybiB2bm9kZVxufVxuaHlwZXJzY3JpcHQudHJ1c3QgPSBmdW5jdGlvbihodG1sKSB7XG5cdGlmIChodG1sID09IG51bGwpIGh0bWwgPSBcIlwiXG5cdHJldHVybiBWbm9kZShcIjxcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGh0bWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKVxufVxuaHlwZXJzY3JpcHQuZnJhZ21lbnQgPSBmdW5jdGlvbigpIHtcblx0dmFyIHZub2RlMiA9IGh5cGVyc2NyaXB0Vm5vZGUuYXBwbHkoMCwgYXJndW1lbnRzKVxuXHR2bm9kZTIudGFnID0gXCJbXCJcblx0dm5vZGUyLmNoaWxkcmVuID0gVm5vZGUubm9ybWFsaXplQ2hpbGRyZW4odm5vZGUyLmNoaWxkcmVuKVxuXHRyZXR1cm4gdm5vZGUyXG59XG52YXIgbSA9IGZ1bmN0aW9uIG0oKSB7IHJldHVybiBoeXBlcnNjcmlwdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIH1cbm0ubSA9IGh5cGVyc2NyaXB0XG5tLnRydXN0ID0gaHlwZXJzY3JpcHQudHJ1c3Rcbm0uZnJhZ21lbnQgPSBoeXBlcnNjcmlwdC5mcmFnbWVudFxuLyoqIEBjb25zdHJ1Y3RvciAqL1xudmFyIFByb21pc2VQb2x5ZmlsbCA9IGZ1bmN0aW9uKGV4ZWN1dG9yKSB7XG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlUG9seWZpbGwpKSB0aHJvdyBuZXcgRXJyb3IoXCJQcm9taXNlIG11c3QgYmUgY2FsbGVkIHdpdGggYG5ld2BcIilcblx0aWYgKHR5cGVvZiBleGVjdXRvciAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpXG5cdHZhciBzZWxmID0gdGhpcywgcmVzb2x2ZXJzID0gW10sIHJlamVjdG9ycyA9IFtdLCByZXNvbHZlQ3VycmVudCA9IGhhbmRsZXIocmVzb2x2ZXJzLCB0cnVlKSwgcmVqZWN0Q3VycmVudCA9IGhhbmRsZXIocmVqZWN0b3JzLCBmYWxzZSlcblx0dmFyIGluc3RhbmNlID0gc2VsZi5faW5zdGFuY2UgPSB7cmVzb2x2ZXJzOiByZXNvbHZlcnMsIHJlamVjdG9yczogcmVqZWN0b3JzfVxuXHR2YXIgY2FsbEFzeW5jID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dFxuXHRmdW5jdGlvbiBoYW5kbGVyKGxpc3QsIHNob3VsZEFic29yYikge1xuXHRcdHJldHVybiBmdW5jdGlvbiBleGVjdXRlKHZhbHVlKSB7XG5cdFx0XHR2YXIgdGhlblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKHNob3VsZEFic29yYiAmJiB2YWx1ZSAhPSBudWxsICYmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpICYmIHR5cGVvZiAodGhlbiA9IHZhbHVlLnRoZW4pID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09IHNlbGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIHcvIGl0c2VsZlwiKVxuXHRcdFx0XHRcdGV4ZWN1dGVPbmNlKHRoZW4uYmluZCh2YWx1ZSkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Y2FsbEFzeW5jKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCFzaG91bGRBYnNvcmIgJiYgbGlzdC5sZW5ndGggPT09IDApIGNvbnNvbGUuZXJyb3IoXCJQb3NzaWJsZSB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb246XCIsIHZhbHVlKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSBsaXN0W2ldKHZhbHVlKVxuXHRcdFx0XHRcdFx0cmVzb2x2ZXJzLmxlbmd0aCA9IDAsIHJlamVjdG9ycy5sZW5ndGggPSAwXG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5zdGF0ZSA9IHNob3VsZEFic29yYlxuXHRcdFx0XHRcdFx0aW5zdGFuY2UucmV0cnkgPSBmdW5jdGlvbigpIHtleGVjdXRlKHZhbHVlKX1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjYXRjaCAoZSkge1xuXHRcdFx0XHRyZWplY3RDdXJyZW50KGUpXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIGV4ZWN1dGVPbmNlKHRoZW4pIHtcblx0XHR2YXIgcnVucyA9IDBcblx0XHRmdW5jdGlvbiBydW4oZm4pIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0XHRpZiAocnVucysrID4gMCkgcmV0dXJuXG5cdFx0XHRcdGZuKHZhbHVlKVxuXHRcdFx0fVxuXHRcdH1cblx0XHR2YXIgb25lcnJvciA9IHJ1bihyZWplY3RDdXJyZW50KVxuXHRcdHRyeSB7dGhlbihydW4ocmVzb2x2ZUN1cnJlbnQpLCBvbmVycm9yKX0gY2F0Y2ggKGUpIHtvbmVycm9yKGUpfVxuXHR9XG5cdGV4ZWN1dGVPbmNlKGV4ZWN1dG9yKVxufVxuUHJvbWlzZVBvbHlmaWxsLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0aW9uKSB7XG5cdHZhciBzZWxmID0gdGhpcywgaW5zdGFuY2UgPSBzZWxmLl9pbnN0YW5jZVxuXHRmdW5jdGlvbiBoYW5kbGUoY2FsbGJhY2ssIGxpc3QsIG5leHQsIHN0YXRlKSB7XG5cdFx0bGlzdC5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIG5leHQodmFsdWUpXG5cdFx0XHRlbHNlIHRyeSB7cmVzb2x2ZU5leHQoY2FsbGJhY2sodmFsdWUpKX0gY2F0Y2ggKGUpIHtpZiAocmVqZWN0TmV4dCkgcmVqZWN0TmV4dChlKX1cblx0XHR9KVxuXHRcdGlmICh0eXBlb2YgaW5zdGFuY2UucmV0cnkgPT09IFwiZnVuY3Rpb25cIiAmJiBzdGF0ZSA9PT0gaW5zdGFuY2Uuc3RhdGUpIGluc3RhbmNlLnJldHJ5KClcblx0fVxuXHR2YXIgcmVzb2x2ZU5leHQsIHJlamVjdE5leHRcblx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZVBvbHlmaWxsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge3Jlc29sdmVOZXh0ID0gcmVzb2x2ZSwgcmVqZWN0TmV4dCA9IHJlamVjdH0pXG5cdGhhbmRsZShvbkZ1bGZpbGxlZCwgaW5zdGFuY2UucmVzb2x2ZXJzLCByZXNvbHZlTmV4dCwgdHJ1ZSksIGhhbmRsZShvblJlamVjdGlvbiwgaW5zdGFuY2UucmVqZWN0b3JzLCByZWplY3ROZXh0LCBmYWxzZSlcblx0cmV0dXJuIHByb21pc2Vcbn1cblByb21pc2VQb2x5ZmlsbC5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihvblJlamVjdGlvbikge1xuXHRyZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKVxufVxuUHJvbWlzZVBvbHlmaWxsLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0cmV0dXJuIHRoaXMudGhlbihcblx0XHRmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIFByb21pc2VQb2x5ZmlsbC5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZVxuXHRcdFx0fSlcblx0XHR9LFxuXHRcdGZ1bmN0aW9uKHJlYXNvbikge1xuXHRcdFx0cmV0dXJuIFByb21pc2VQb2x5ZmlsbC5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBQcm9taXNlUG9seWZpbGwucmVqZWN0KHJlYXNvbik7XG5cdFx0XHR9KVxuXHRcdH1cblx0KVxufVxuUHJvbWlzZVBvbHlmaWxsLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlUG9seWZpbGwpIHJldHVybiB2YWx1ZVxuXHRyZXR1cm4gbmV3IFByb21pc2VQb2x5ZmlsbChmdW5jdGlvbihyZXNvbHZlKSB7cmVzb2x2ZSh2YWx1ZSl9KVxufVxuUHJvbWlzZVBvbHlmaWxsLnJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZVBvbHlmaWxsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge3JlamVjdCh2YWx1ZSl9KVxufVxuUHJvbWlzZVBvbHlmaWxsLmFsbCA9IGZ1bmN0aW9uKGxpc3QpIHtcblx0cmV0dXJuIG5ldyBQcm9taXNlUG9seWZpbGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0dmFyIHRvdGFsID0gbGlzdC5sZW5ndGgsIGNvdW50ID0gMCwgdmFsdWVzID0gW11cblx0XHRpZiAobGlzdC5sZW5ndGggPT09IDApIHJlc29sdmUoW10pXG5cdFx0ZWxzZSBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdChmdW5jdGlvbihpKSB7XG5cdFx0XHRcdGZ1bmN0aW9uIGNvbnN1bWUodmFsdWUpIHtcblx0XHRcdFx0XHRjb3VudCsrXG5cdFx0XHRcdFx0dmFsdWVzW2ldID0gdmFsdWVcblx0XHRcdFx0XHRpZiAoY291bnQgPT09IHRvdGFsKSByZXNvbHZlKHZhbHVlcylcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobGlzdFtpXSAhPSBudWxsICYmICh0eXBlb2YgbGlzdFtpXSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgbGlzdFtpXSA9PT0gXCJmdW5jdGlvblwiKSAmJiB0eXBlb2YgbGlzdFtpXS50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRsaXN0W2ldLnRoZW4oY29uc3VtZSwgcmVqZWN0KVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgY29uc3VtZShsaXN0W2ldKVxuXHRcdFx0fSkoaSlcblx0XHR9XG5cdH0pXG59XG5Qcm9taXNlUG9seWZpbGwucmFjZSA9IGZ1bmN0aW9uKGxpc3QpIHtcblx0cmV0dXJuIG5ldyBQcm9taXNlUG9seWZpbGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsaXN0W2ldLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KVxuXHRcdH1cblx0fSlcbn1cbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdGlmICh0eXBlb2Ygd2luZG93LlByb21pc2UgPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHR3aW5kb3cuUHJvbWlzZSA9IFByb21pc2VQb2x5ZmlsbFxuXHR9IGVsc2UgaWYgKCF3aW5kb3cuUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSkge1xuXHRcdHdpbmRvdy5Qcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gUHJvbWlzZVBvbHlmaWxsLnByb3RvdHlwZS5maW5hbGx5XG5cdH1cblx0dmFyIFByb21pc2VQb2x5ZmlsbCA9IHdpbmRvdy5Qcm9taXNlXG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWwuUHJvbWlzZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdGdsb2JhbC5Qcm9taXNlID0gUHJvbWlzZVBvbHlmaWxsXG5cdH0gZWxzZSBpZiAoIWdsb2JhbC5Qcm9taXNlLnByb3RvdHlwZS5maW5hbGx5KSB7XG5cdFx0Z2xvYmFsLlByb21pc2UucHJvdG90eXBlLmZpbmFsbHkgPSBQcm9taXNlUG9seWZpbGwucHJvdG90eXBlLmZpbmFsbHlcblx0fVxuXHR2YXIgUHJvbWlzZVBvbHlmaWxsID0gZ2xvYmFsLlByb21pc2Vcbn0gZWxzZSB7XG59XG52YXIgYnVpbGRRdWVyeVN0cmluZyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHJldHVybiBcIlwiXG5cdHZhciBhcmdzID0gW11cblx0Zm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuXHRcdGRlc3RydWN0dXJlKGtleSwgb2JqZWN0W2tleV0pXG5cdH1cblx0cmV0dXJuIGFyZ3Muam9pbihcIiZcIilcblx0ZnVuY3Rpb24gZGVzdHJ1Y3R1cmUoa2V5LCB2YWx1ZSkge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkZXN0cnVjdHVyZShrZXkgKyBcIltcIiArIGkgKyBcIl1cIiwgdmFsdWVbaV0pXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcblx0XHRcdGZvciAodmFyIGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0ZGVzdHJ1Y3R1cmUoa2V5ICsgXCJbXCIgKyBpICsgXCJdXCIsIHZhbHVlW2ldKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIGFyZ3MucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBcIlwiID8gXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpIDogXCJcIikpXG5cdH1cbn1cbnZhciBfMTIgPSBmdW5jdGlvbigkd2luZG93LCBQcm9taXNlKSB7XG5cdHZhciBjYWxsYmFja0NvdW50ID0gMFxuXHR2YXIgb25jb21wbGV0aW9uXG5cdGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KGZhY3RvcnkpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24odXJsLCBhcmdzKSB7XG5cdFx0XHRpZiAodHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikgeyBhcmdzID0gdXJsOyB1cmwgPSB1cmwudXJsIH1cblx0XHRcdGVsc2UgaWYgKGFyZ3MgPT0gbnVsbCkgYXJncyA9IHt9XG5cdFx0XHR2YXIgcHJvbWlzZTAgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFx0ZmFjdG9yeSh1cmwsIGFyZ3MsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzLnR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YVtpXSA9IG5ldyBhcmdzLnR5cGUoZGF0YVtpXSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBkYXRhID0gbmV3IGFyZ3MudHlwZShkYXRhKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXNvbHZlKGRhdGEpXG5cdFx0XHRcdH0sIHJlamVjdClcblx0XHRcdH0pXG5cdFx0XHRpZiAoYXJncy5iYWNrZ3JvdW5kID09PSB0cnVlKSByZXR1cm4gcHJvbWlzZTBcblx0XHRcdHZhciBjb3VudCA9IDBcblx0XHRcdGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuXHRcdFx0XHRpZiAoLS1jb3VudCA9PT0gMCAmJiB0eXBlb2Ygb25jb21wbGV0aW9uID09PSBcImZ1bmN0aW9uXCIpIG9uY29tcGxldGlvbigpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gd3JhcChwcm9taXNlMClcblx0XHRcdGZ1bmN0aW9uIHdyYXAocHJvbWlzZTApIHtcblx0XHRcdFx0dmFyIHRoZW4wID0gcHJvbWlzZTAudGhlblxuXHRcdFx0XHRwcm9taXNlMC50aGVuID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Y291bnQrK1xuXHRcdFx0XHRcdHZhciBuZXh0ID0gdGhlbjAuYXBwbHkocHJvbWlzZTAsIGFyZ3VtZW50cylcblx0XHRcdFx0XHRuZXh0LnRoZW4oY29tcGxldGUsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdGNvbXBsZXRlKClcblx0XHRcdFx0XHRcdGlmIChjb3VudCA9PT0gMCkgdGhyb3cgZVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0cmV0dXJuIHdyYXAobmV4dClcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcHJvbWlzZTBcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gaGFzSGVhZGVyKGFyZ3MsIG5hbWUpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gYXJncy5oZWFkZXJzKSB7XG5cdFx0XHRpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChhcmdzLmhlYWRlcnMsIGtleSkgJiYgbmFtZS50ZXN0KGtleSkpIHJldHVybiB0cnVlXG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZVxuXHR9XG5cdGZ1bmN0aW9uIGludGVycG9sYXRlKHVybCwgZGF0YSwgYXNzZW1ibGUpIHtcblx0XHRpZiAoZGF0YSA9PSBudWxsKSByZXR1cm4gdXJsXG5cdFx0dXJsID0gdXJsLnJlcGxhY2UoLzooW15cXC9dKykvZ2ksIGZ1bmN0aW9uIChtMCwga2V5KSB7XG5cdFx0XHRyZXR1cm4gZGF0YVtrZXldICE9IG51bGwgPyBkYXRhW2tleV0gOiBtMFxuXHRcdH0pXG5cdFx0aWYgKGFzc2VtYmxlICYmIGRhdGEgIT0gbnVsbCkge1xuXHRcdFx0dmFyIHF1ZXJ5c3RyaW5nID0gYnVpbGRRdWVyeVN0cmluZyhkYXRhKVxuXHRcdFx0aWYgKHF1ZXJ5c3RyaW5nKSB1cmwgKz0gKHVybC5pbmRleE9mKFwiP1wiKSA8IDAgPyBcIj9cIiA6IFwiJlwiKSArIHF1ZXJ5c3RyaW5nXG5cdFx0fVxuXHRcdHJldHVybiB1cmxcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IG1ha2VSZXF1ZXN0KGZ1bmN0aW9uKHVybCwgYXJncywgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHR2YXIgbWV0aG9kID0gYXJncy5tZXRob2QgIT0gbnVsbCA/IGFyZ3MubWV0aG9kLnRvVXBwZXJDYXNlKCkgOiBcIkdFVFwiXG5cdFx0XHR2YXIgdXNlQm9keSA9IG1ldGhvZCAhPT0gXCJHRVRcIiAmJiBtZXRob2QgIT09IFwiVFJBQ0VcIiAmJlxuXHRcdFx0XHQodHlwZW9mIGFyZ3MudXNlQm9keSAhPT0gXCJib29sZWFuXCIgfHwgYXJncy51c2VCb2R5KVxuXHRcdFx0dmFyIGRhdGEgPSBhcmdzLmRhdGFcblx0XHRcdHZhciBhc3N1bWVKU09OID0gKGFyZ3Muc2VyaWFsaXplID09IG51bGwgfHwgYXJncy5zZXJpYWxpemUgPT09IEpTT04uc2VyaWFsaXplKSAmJiAhKGRhdGEgaW5zdGFuY2VvZiAkd2luZG93LkZvcm1EYXRhKVxuXHRcdFx0aWYgKHVzZUJvZHkpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzLnNlcmlhbGl6ZSA9PT0gXCJmdW5jdGlvblwiKSBkYXRhID0gYXJncy5zZXJpYWxpemUoZGF0YSlcblx0XHRcdFx0ZWxzZSBpZiAoIShkYXRhIGluc3RhbmNlb2YgJHdpbmRvdy5Gb3JtRGF0YSkpIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKVxuXHRcdFx0fVxuXHRcdFx0dmFyIHhociA9IG5ldyAkd2luZG93LlhNTEh0dHBSZXF1ZXN0KCksXG5cdFx0XHRcdGFib3J0ZWQgPSBmYWxzZSxcblx0XHRcdFx0X2Fib3J0ID0geGhyLmFib3J0XG5cdFx0XHR4aHIuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcblx0XHRcdFx0YWJvcnRlZCA9IHRydWVcblx0XHRcdFx0X2Fib3J0LmNhbGwoeGhyKVxuXHRcdFx0fVxuXHRcdFx0eGhyLm9wZW4obWV0aG9kLCBpbnRlcnBvbGF0ZSh1cmwsIGFyZ3MuZGF0YSwgIXVzZUJvZHkpLCB0eXBlb2YgYXJncy5hc3luYyAhPT0gXCJib29sZWFuXCIgfHwgYXJncy5hc3luYywgdHlwZW9mIGFyZ3MudXNlciA9PT0gXCJzdHJpbmdcIiA/IGFyZ3MudXNlciA6IHVuZGVmaW5lZCwgdHlwZW9mIGFyZ3MucGFzc3dvcmQgPT09IFwic3RyaW5nXCIgPyBhcmdzLnBhc3N3b3JkIDogdW5kZWZpbmVkKVxuXHRcdFx0aWYgKGFzc3VtZUpTT04gJiYgdXNlQm9keSAmJiAhaGFzSGVhZGVyKGFyZ3MsIC9eY29udGVudC10eXBlMCQvaSkpIHtcblx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpXG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIGFyZ3MuZGVzZXJpYWxpemUgIT09IFwiZnVuY3Rpb25cIiAmJiAhaGFzSGVhZGVyKGFyZ3MsIC9eYWNjZXB0JC9pKSkge1xuXHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvKlwiKVxuXHRcdFx0fVxuXHRcdFx0aWYgKGFyZ3Mud2l0aENyZWRlbnRpYWxzKSB4aHIud2l0aENyZWRlbnRpYWxzID0gYXJncy53aXRoQ3JlZGVudGlhbHNcblx0XHRcdGlmIChhcmdzLnRpbWVvdXQpIHhoci50aW1lb3V0ID0gYXJncy50aW1lb3V0XG5cdFx0XHRpZiAoYXJncy5yZXNwb25zZVR5cGUpIHhoci5yZXNwb25zZVR5cGUgPSBhcmdzLnJlc3BvbnNlVHlwZVxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZ3MuaGVhZGVycykge1xuXHRcdFx0XHRpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChhcmdzLmhlYWRlcnMsIGtleSkpIHtcblx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGFyZ3MuaGVhZGVyc1trZXldKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIGFyZ3MuY29uZmlnID09PSBcImZ1bmN0aW9uXCIpIHhociA9IGFyZ3MuY29uZmlnKHhociwgYXJncykgfHwgeGhyXG5cdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIERvbid0IHRocm93IGVycm9ycyBvbiB4aHIuYWJvcnQoKS5cblx0XHRcdFx0aWYoYWJvcnRlZCkgcmV0dXJuXG5cdFx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHR2YXIgc3VjY2VzcyA9ICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB8fCB4aHIuc3RhdHVzID09PSAzMDQgfHwgKC9eZmlsZTpcXC9cXC8vaSkudGVzdCh1cmwpXG5cdFx0XHRcdFx0XHR2YXIgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2VUZXh0XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGFyZ3MuZXh0cmFjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gYXJncy5leHRyYWN0KHhociwgYXJncylcblx0XHRcdFx0XHRcdFx0c3VjY2VzcyA9IHRydWVcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGFyZ3MuZGVzZXJpYWxpemUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGFyZ3MuZGVzZXJpYWxpemUocmVzcG9uc2UpXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0cnkge3Jlc3BvbnNlID0gcmVzcG9uc2UgPyBKU09OLnBhcnNlKHJlc3BvbnNlKSA6IG51bGx9XG5cdFx0XHRcdFx0XHRcdGNhdGNoIChlKSB7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKU09OOiBcIiArIHJlc3BvbnNlKX1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChzdWNjZXNzKSByZXNvbHZlKHJlc3BvbnNlKVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcih4aHIucmVzcG9uc2VUZXh0KVxuXHRcdFx0XHRcdFx0XHRlcnJvci5jb2RlID0geGhyLnN0YXR1c1xuXHRcdFx0XHRcdFx0XHRlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlXG5cdFx0XHRcdFx0XHRcdHJlamVjdChlcnJvcilcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdHJlamVjdChlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHVzZUJvZHkgJiYgZGF0YSAhPSBudWxsKSB4aHIuc2VuZChkYXRhKVxuXHRcdFx0ZWxzZSB4aHIuc2VuZCgpXG5cdFx0fSksXG5cdFx0anNvbnA6IG1ha2VSZXF1ZXN0KGZ1bmN0aW9uKHVybCwgYXJncywgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tOYW1lID0gYXJncy5jYWxsYmFja05hbWUgfHwgXCJfbWl0aHJpbF9cIiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlMTYpICsgXCJfXCIgKyBjYWxsYmFja0NvdW50Kytcblx0XHRcdHZhciBzY3JpcHQgPSAkd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIilcblx0XHRcdCR3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0c2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KVxuXHRcdFx0XHRyZXNvbHZlKGRhdGEpXG5cdFx0XHRcdGRlbGV0ZSAkd2luZG93W2NhbGxiYWNrTmFtZV1cblx0XHRcdH1cblx0XHRcdHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdClcblx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIkpTT05QIHJlcXVlc3QgZmFpbGVkXCIpKVxuXHRcdFx0XHRkZWxldGUgJHdpbmRvd1tjYWxsYmFja05hbWVdXG5cdFx0XHR9XG5cdFx0XHR1cmwgPSBpbnRlcnBvbGF0ZSh1cmwsIGFyZ3MuZGF0YSwgdHJ1ZSlcblx0XHRcdHNjcmlwdC5zcmMgPSB1cmwgKyAodXJsLmluZGV4T2YoXCI/XCIpIDwgMCA/IFwiP1wiIDogXCImXCIpICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3MuY2FsbGJhY2tLZXkgfHwgXCJjYWxsYmFja1wiKSArIFwiPVwiICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KGNhbGxiYWNrTmFtZSlcblx0XHRcdCR3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdClcblx0XHR9KSxcblx0XHRzZXRDb21wbGV0aW9uQ2FsbGJhY2s6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0XHRvbmNvbXBsZXRpb24gPSBjYWxsYmFja1xuXHRcdH0sXG5cdH1cbn1cbnZhciByZXF1ZXN0U2VydmljZSA9IF8xMih3aW5kb3csIFByb21pc2VQb2x5ZmlsbClcbnZhciBjb3JlUmVuZGVyZXIgPSBmdW5jdGlvbigkd2luZG93KSB7XG5cdHZhciAkZG9jID0gJHdpbmRvdy5kb2N1bWVudFxuXHR2YXIgbmFtZVNwYWNlID0ge1xuXHRcdHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuXHRcdG1hdGg6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiXG5cdH1cblx0dmFyIHJlZHJhdzBcblx0ZnVuY3Rpb24gc2V0UmVkcmF3KGNhbGxiYWNrKSB7cmV0dXJuIHJlZHJhdzAgPSBjYWxsYmFja31cblx0ZnVuY3Rpb24gZ2V0TmFtZVNwYWNlKHZub2RlMykge1xuXHRcdHJldHVybiB2bm9kZTMuYXR0cnMgJiYgdm5vZGUzLmF0dHJzLnhtbG5zIHx8IG5hbWVTcGFjZVt2bm9kZTMudGFnXVxuXHR9XG5cdC8vc2FuaXR5IGNoZWNrIHRvIGRpc2NvdXJhZ2UgcGVvcGxlIGZyb20gZG9pbmcgYHZub2RlMy5zdGF0ZSA9IC4uLmBcblx0ZnVuY3Rpb24gY2hlY2tTdGF0ZSh2bm9kZTMsIG9yaWdpbmFsKSB7XG5cdFx0aWYgKHZub2RlMy5zdGF0ZSAhPT0gb3JpZ2luYWwpIHRocm93IG5ldyBFcnJvcihcImB2bm9kZS5zdGF0ZWAgbXVzdCBub3QgYmUgbW9kaWZpZWRcIilcblx0fVxuXHQvL05vdGU6IHRoZSBob29rIGlzIHBhc3NlZCBhcyB0aGUgYHRoaXNgIGFyZ3VtZW50IHRvIGFsbG93IHByb3h5aW5nIHRoZVxuXHQvL2FyZ3VtZW50cyB3aXRob3V0IHJlcXVpcmluZyBhIGZ1bGwgYXJyYXkgYWxsb2NhdGlvbiB0byBkbyBzby4gSXQgYWxzb1xuXHQvL3Rha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGUgY3VycmVudCBgdm5vZGUzYCBpcyB0aGUgZmlyc3QgYXJndW1lbnQgaW5cblx0Ly9hbGwgbGlmZWN5Y2xlIG1ldGhvZHMuXG5cdGZ1bmN0aW9uIGNhbGxIb29rKHZub2RlMykge1xuXHRcdHZhciBvcmlnaW5hbCA9IHZub2RlMy5zdGF0ZVxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hcHBseShvcmlnaW5hbCwgYXJndW1lbnRzKVxuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRjaGVja1N0YXRlKHZub2RlMywgb3JpZ2luYWwpXG5cdFx0fVxuXHR9XG5cdC8vIElFMTEgKGF0IGxlYXN0KSB0aHJvd3MgYW4gVW5zcGVjaWZpZWRFcnJvciB3aGVuIGFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IHdoZW5cblx0Ly8gaW5zaWRlIGFuIGlmcmFtZS4gQ2F0Y2ggYW5kIHN3YWxsb3cgdGhpcyBlcnJvcjEsIGFuZCBoZWF2eS1oYW5kaWRseSByZXR1cm4gbnVsbC5cblx0ZnVuY3Rpb24gYWN0aXZlRWxlbWVudCgpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuICRkb2MuYWN0aXZlRWxlbWVudFxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBudWxsXG5cdFx0fVxuXHR9XG5cdC8vY3JlYXRlXG5cdGZ1bmN0aW9uIGNyZWF0ZU5vZGVzKHBhcmVudCwgdm5vZGVzLCBzdGFydCwgZW5kLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKSB7XG5cdFx0Zm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcblx0XHRcdHZhciB2bm9kZTMgPSB2bm9kZXNbaV1cblx0XHRcdGlmICh2bm9kZTMgIT0gbnVsbCkge1xuXHRcdFx0XHRjcmVhdGVOb2RlKHBhcmVudCwgdm5vZGUzLCBob29rcywgbnMsIG5leHRTaWJsaW5nKVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBjcmVhdGVOb2RlKHBhcmVudCwgdm5vZGUzLCBob29rcywgbnMsIG5leHRTaWJsaW5nKSB7XG5cdFx0dmFyIHRhZyA9IHZub2RlMy50YWdcblx0XHRpZiAodHlwZW9mIHRhZyA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dm5vZGUzLnN0YXRlID0ge31cblx0XHRcdGlmICh2bm9kZTMuYXR0cnMgIT0gbnVsbCkgaW5pdExpZmVjeWNsZSh2bm9kZTMuYXR0cnMsIHZub2RlMywgaG9va3MpXG5cdFx0XHRzd2l0Y2ggKHRhZykge1xuXHRcdFx0XHRjYXNlIFwiI1wiOiBjcmVhdGVUZXh0KHBhcmVudCwgdm5vZGUzLCBuZXh0U2libGluZyk7IGJyZWFrXG5cdFx0XHRcdGNhc2UgXCI8XCI6IGNyZWF0ZUhUTUwocGFyZW50LCB2bm9kZTMsIG5zLCBuZXh0U2libGluZyk7IGJyZWFrXG5cdFx0XHRcdGNhc2UgXCJbXCI6IGNyZWF0ZUZyYWdtZW50KHBhcmVudCwgdm5vZGUzLCBob29rcywgbnMsIG5leHRTaWJsaW5nKTsgYnJlYWtcblx0XHRcdFx0ZGVmYXVsdDogY3JlYXRlRWxlbWVudChwYXJlbnQsIHZub2RlMywgaG9va3MsIG5zLCBuZXh0U2libGluZylcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSBjcmVhdGVDb21wb25lbnQocGFyZW50LCB2bm9kZTMsIGhvb2tzLCBucywgbmV4dFNpYmxpbmcpXG5cdH1cblx0ZnVuY3Rpb24gY3JlYXRlVGV4dChwYXJlbnQsIHZub2RlMywgbmV4dFNpYmxpbmcpIHtcblx0XHR2bm9kZTMuZG9tID0gJGRvYy5jcmVhdGVUZXh0Tm9kZSh2bm9kZTMuY2hpbGRyZW4pXG5cdFx0aW5zZXJ0Tm9kZShwYXJlbnQsIHZub2RlMy5kb20sIG5leHRTaWJsaW5nKVxuXHR9XG5cdHZhciBwb3NzaWJsZVBhcmVudHMgPSB7Y2FwdGlvbjogXCJ0YWJsZVwiLCB0aGVhZDogXCJ0YWJsZVwiLCB0Ym9keTogXCJ0YWJsZVwiLCB0Zm9vdDogXCJ0YWJsZVwiLCB0cjogXCJ0Ym9keVwiLCB0aDogXCJ0clwiLCB0ZDogXCJ0clwiLCBjb2xncm91cDogXCJ0YWJsZVwiLCBjb2w6IFwiY29sZ3JvdXBcIn1cblx0ZnVuY3Rpb24gY3JlYXRlSFRNTChwYXJlbnQsIHZub2RlMywgbnMsIG5leHRTaWJsaW5nKSB7XG5cdFx0dmFyIG1hdGNoMCA9IHZub2RlMy5jaGlsZHJlbi5tYXRjaCgvXlxccyo/PChcXHcrKS9pbSkgfHwgW11cblx0XHQvLyBub3QgdXNpbmcgdGhlIHByb3BlciBwYXJlbnQgbWFrZXMgdGhlIGNoaWxkIGVsZW1lbnQocykgdmFuaXNoLlxuXHRcdC8vICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRcdC8vICAgICBkaXYuaW5uZXJIVE1MID0gXCI8dGQ+aTwvdGQ+PHRkPmo8L3RkPlwiXG5cdFx0Ly8gICAgIGNvbnNvbGUubG9nKGRpdi5pbm5lckhUTUwpXG5cdFx0Ly8gLS0+IFwiaWpcIiwgbm8gPHRkPiBpbiBzaWdodC5cblx0XHR2YXIgdGVtcCA9ICRkb2MuY3JlYXRlRWxlbWVudChwb3NzaWJsZVBhcmVudHNbbWF0Y2gwWzFdXSB8fCBcImRpdlwiKVxuXHRcdGlmIChucyA9PT0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKSB7XG5cdFx0XHR0ZW1wLmlubmVySFRNTCA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlwiICsgdm5vZGUzLmNoaWxkcmVuICsgXCI8L3N2Zz5cIlxuXHRcdFx0dGVtcCA9IHRlbXAuZmlyc3RDaGlsZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0ZW1wLmlubmVySFRNTCA9IHZub2RlMy5jaGlsZHJlblxuXHRcdH1cblx0XHR2bm9kZTMuZG9tID0gdGVtcC5maXJzdENoaWxkXG5cdFx0dm5vZGUzLmRvbVNpemUgPSB0ZW1wLmNoaWxkTm9kZXMubGVuZ3RoXG5cdFx0dmFyIGZyYWdtZW50ID0gJGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcblx0XHR2YXIgY2hpbGRcblx0XHR3aGlsZSAoY2hpbGQgPSB0ZW1wLmZpcnN0Q2hpbGQpIHtcblx0XHRcdGZyYWdtZW50LmFwcGVuZENoaWxkKGNoaWxkKVxuXHRcdH1cblx0XHRpbnNlcnROb2RlKHBhcmVudCwgZnJhZ21lbnQsIG5leHRTaWJsaW5nKVxuXHR9XG5cdGZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50KHBhcmVudCwgdm5vZGUzLCBob29rcywgbnMsIG5leHRTaWJsaW5nKSB7XG5cdFx0dmFyIGZyYWdtZW50ID0gJGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcblx0XHRpZiAodm5vZGUzLmNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdHZhciBjaGlsZHJlbjMgPSB2bm9kZTMuY2hpbGRyZW5cblx0XHRcdGNyZWF0ZU5vZGVzKGZyYWdtZW50LCBjaGlsZHJlbjMsIDAsIGNoaWxkcmVuMy5sZW5ndGgsIGhvb2tzLCBudWxsLCBucylcblx0XHR9XG5cdFx0dm5vZGUzLmRvbSA9IGZyYWdtZW50LmZpcnN0Q2hpbGRcblx0XHR2bm9kZTMuZG9tU2l6ZSA9IGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoXG5cdFx0aW5zZXJ0Tm9kZShwYXJlbnQsIGZyYWdtZW50LCBuZXh0U2libGluZylcblx0fVxuXHRmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHBhcmVudCwgdm5vZGUzLCBob29rcywgbnMsIG5leHRTaWJsaW5nKSB7XG5cdFx0dmFyIHRhZyA9IHZub2RlMy50YWdcblx0XHR2YXIgYXR0cnMyID0gdm5vZGUzLmF0dHJzXG5cdFx0dmFyIGlzID0gYXR0cnMyICYmIGF0dHJzMi5pc1xuXHRcdG5zID0gZ2V0TmFtZVNwYWNlKHZub2RlMykgfHwgbnNcblx0XHR2YXIgZWxlbWVudCA9IG5zID9cblx0XHRcdGlzID8gJGRvYy5jcmVhdGVFbGVtZW50TlMobnMsIHRhZywge2lzOiBpc30pIDogJGRvYy5jcmVhdGVFbGVtZW50TlMobnMsIHRhZykgOlxuXHRcdFx0aXMgPyAkZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCB7aXM6IGlzfSkgOiAkZG9jLmNyZWF0ZUVsZW1lbnQodGFnKVxuXHRcdHZub2RlMy5kb20gPSBlbGVtZW50XG5cdFx0aWYgKGF0dHJzMiAhPSBudWxsKSB7XG5cdFx0XHRzZXRBdHRycyh2bm9kZTMsIGF0dHJzMiwgbnMpXG5cdFx0fVxuXHRcdGluc2VydE5vZGUocGFyZW50LCBlbGVtZW50LCBuZXh0U2libGluZylcblx0XHRpZiAoYXR0cnMyICE9IG51bGwgJiYgYXR0cnMyLmNvbnRlbnRlZGl0YWJsZSAhPSBudWxsKSB7XG5cdFx0XHRzZXRDb250ZW50RWRpdGFibGUodm5vZGUzKVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGlmICh2bm9kZTMudGV4dCAhPSBudWxsKSB7XG5cdFx0XHRcdGlmICh2bm9kZTMudGV4dCAhPT0gXCJcIikgZWxlbWVudC50ZXh0Q29udGVudCA9IHZub2RlMy50ZXh0XG5cdFx0XHRcdGVsc2Ugdm5vZGUzLmNoaWxkcmVuID0gW1Zub2RlKFwiI1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdm5vZGUzLnRleHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKV1cblx0XHRcdH1cblx0XHRcdGlmICh2bm9kZTMuY2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0XHR2YXIgY2hpbGRyZW4zID0gdm5vZGUzLmNoaWxkcmVuXG5cdFx0XHRcdGNyZWF0ZU5vZGVzKGVsZW1lbnQsIGNoaWxkcmVuMywgMCwgY2hpbGRyZW4zLmxlbmd0aCwgaG9va3MsIG51bGwsIG5zKVxuXHRcdFx0XHRpZiAodm5vZGUzLnRhZyA9PT0gXCJzZWxlY3RcIiAmJiBhdHRyczIgIT0gbnVsbCkgc2V0TGF0ZVNlbGVjdEF0dHJzKHZub2RlMywgYXR0cnMyKVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBpbml0Q29tcG9uZW50KHZub2RlMywgaG9va3MpIHtcblx0XHR2YXIgc2VudGluZWxcblx0XHRpZiAodHlwZW9mIHZub2RlMy50YWcudmlldyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHR2bm9kZTMuc3RhdGUgPSBPYmplY3QuY3JlYXRlKHZub2RlMy50YWcpXG5cdFx0XHRzZW50aW5lbCA9IHZub2RlMy5zdGF0ZS52aWV3XG5cdFx0XHRpZiAoc2VudGluZWwuJCRyZWVudHJhbnRMb2NrJCQgIT0gbnVsbCkgcmV0dXJuXG5cdFx0XHRzZW50aW5lbC4kJHJlZW50cmFudExvY2skJCA9IHRydWVcblx0XHR9IGVsc2Uge1xuXHRcdFx0dm5vZGUzLnN0YXRlID0gdm9pZCAwXG5cdFx0XHRzZW50aW5lbCA9IHZub2RlMy50YWdcblx0XHRcdGlmIChzZW50aW5lbC4kJHJlZW50cmFudExvY2skJCAhPSBudWxsKSByZXR1cm5cblx0XHRcdHNlbnRpbmVsLiQkcmVlbnRyYW50TG9jayQkID0gdHJ1ZVxuXHRcdFx0dm5vZGUzLnN0YXRlID0gKHZub2RlMy50YWcucHJvdG90eXBlICE9IG51bGwgJiYgdHlwZW9mIHZub2RlMy50YWcucHJvdG90eXBlLnZpZXcgPT09IFwiZnVuY3Rpb25cIikgPyBuZXcgdm5vZGUzLnRhZyh2bm9kZTMpIDogdm5vZGUzLnRhZyh2bm9kZTMpXG5cdFx0fVxuXHRcdGluaXRMaWZlY3ljbGUodm5vZGUzLnN0YXRlLCB2bm9kZTMsIGhvb2tzKVxuXHRcdGlmICh2bm9kZTMuYXR0cnMgIT0gbnVsbCkgaW5pdExpZmVjeWNsZSh2bm9kZTMuYXR0cnMsIHZub2RlMywgaG9va3MpXG5cdFx0dm5vZGUzLmluc3RhbmNlID0gVm5vZGUubm9ybWFsaXplKGNhbGxIb29rLmNhbGwodm5vZGUzLnN0YXRlLnZpZXcsIHZub2RlMykpXG5cdFx0aWYgKHZub2RlMy5pbnN0YW5jZSA9PT0gdm5vZGUzKSB0aHJvdyBFcnJvcihcIkEgdmlldyBjYW5ub3QgcmV0dXJuIHRoZSB2bm9kZSBpdCByZWNlaXZlZCBhcyBhcmd1bWVudFwiKVxuXHRcdHNlbnRpbmVsLiQkcmVlbnRyYW50TG9jayQkID0gbnVsbFxuXHR9XG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChwYXJlbnQsIHZub2RlMywgaG9va3MsIG5zLCBuZXh0U2libGluZykge1xuXHRcdGluaXRDb21wb25lbnQodm5vZGUzLCBob29rcylcblx0XHRpZiAodm5vZGUzLmluc3RhbmNlICE9IG51bGwpIHtcblx0XHRcdGNyZWF0ZU5vZGUocGFyZW50LCB2bm9kZTMuaW5zdGFuY2UsIGhvb2tzLCBucywgbmV4dFNpYmxpbmcpXG5cdFx0XHR2bm9kZTMuZG9tID0gdm5vZGUzLmluc3RhbmNlLmRvbVxuXHRcdFx0dm5vZGUzLmRvbVNpemUgPSB2bm9kZTMuZG9tICE9IG51bGwgPyB2bm9kZTMuaW5zdGFuY2UuZG9tU2l6ZSA6IDBcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR2bm9kZTMuZG9tU2l6ZSA9IDBcblx0XHR9XG5cdH1cblx0Ly91cGRhdGVcblx0LyoqXG5cdCAqIEBwYXJhbSB7RWxlbWVudHxGcmFnbWVudH0gcGFyZW50IC0gdGhlIHBhcmVudCBlbGVtZW50XG5cdCAqIEBwYXJhbSB7Vm5vZGVbXSB8IG51bGx9IG9sZCAtIHRoZSBsaXN0IG9mIHZub2RlcyBvZiB0aGUgbGFzdCBgcmVuZGVyKClgIGNhbGwgZm9yXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgcGFydCBvZiB0aGUgdHJlZVxuXHQgKiBAcGFyYW0ge1Zub2RlW10gfCBudWxsfSB2bm9kZXMgLSBhcyBhYm92ZSwgYnV0IGZvciB0aGUgY3VycmVudCBgcmVuZGVyKClgIGNhbGwuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gaG9va3MgLSBhbiBhY2N1bXVsYXRvciBvZiBwb3N0LXJlbmRlciBob29rcyAob25jcmVhdGUvb251cGRhdGUpXG5cdCAqIEBwYXJhbSB7RWxlbWVudCB8IG51bGx9IG5leHRTaWJsaW5nIC0gdGhlIG5leHQwIERPTSBub2RlIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQgdGhhdCBpcyBub3QgdGhlIGxhc3QgaXRlbSBpbiBpdHNcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRcblx0ICogQHBhcmFtIHsnc3ZnJyB8ICdtYXRoJyB8IFN0cmluZyB8IG51bGx9IG5zKSAtIHRoZSBjdXJyZW50IFhNTCBuYW1lc3BhY2UsIGlmIGFueVxuXHQgKiBAcmV0dXJucyB2b2lkXG5cdCAqL1xuXHQvLyBUaGlzIGZ1bmN0aW9uIGRpZmZzIGFuZCBwYXRjaGVzIGxpc3RzIG9mIHZub2RlcywgYm90aCBrZXllZCBhbmQgdW5rZXllZC5cblx0Ly9cblx0Ly8gV2Ugd2lsbDpcblx0Ly9cblx0Ly8gMS4gZGVzY3JpYmUgaXRzIGdlbmVyYWwgc3RydWN0dXJlXG5cdC8vIDIuIGZvY3VzIG9uIHRoZSBkaWZmIGFsZ29yaXRobSBvcHRpbWl6YXRpb25zXG5cdC8vIDMuIGRpc2N1c3MgRE9NIG5vZGUgb3BlcmF0aW9ucy5cblx0Ly8gIyMgT3ZlcnZpZXc6XG5cdC8vXG5cdC8vIFRoZSB1cGRhdGVOb2RlcygpIGZ1bmN0aW9uOlxuXHQvLyAtIGRlYWxzIHdpdGggdHJpdmlhbCBjYXNlc1xuXHQvLyAtIGRldGVybWluZXMgd2hldGhlciB0aGUgbGlzdHMgYXJlIGtleWVkIG9yIHVua2V5ZWQgYmFzZWQgb24gdGhlIGZpcnN0IG5vbi1udWxsIG5vZGVcblx0Ly8gICBvZiBlYWNoIGxpc3QuXG5cdC8vIC0gZGlmZnMgdGhlbSBhbmQgcGF0Y2hlcyB0aGUgRE9NIGlmIG5lZWRlZCAodGhhdCdzIHRoZSBicnVudCBvZiB0aGUgY29kZSlcblx0Ly8gLSBtYW5hZ2VzIHRoZSBsZWZ0b3ZlcnM6IGFmdGVyIGRpZmZpbmcsIGFyZSB0aGVyZTpcblx0Ly8gICAtIG9sZCBub2RlcyBsZWZ0IHRvIHJlbW92ZT9cblx0Ly8gXHQgLSBuZXcgbm9kZXMgdG8gaW5zZXJ0P1xuXHQvLyBcdCBkZWFsIHdpdGggdGhlbSFcblx0Ly9cblx0Ly8gVGhlIGxpc3RzIGFyZSBvbmx5IGl0ZXJhdGVkIG92ZXIgb25jZSwgd2l0aCBhbiBleGNlcHRpb24gZm9yIHRoZSBub2RlcyBpbiBgb2xkYCB0aGF0XG5cdC8vIGFyZSB2aXNpdGVkIGluIHRoZSBmb3VydGggcGFydCBvZiB0aGUgZGlmZiBhbmQgaW4gdGhlIGByZW1vdmVOb2Rlc2AgbG9vcC5cblx0Ly8gIyMgRGlmZmluZ1xuXHQvL1xuXHQvLyBSZWFkaW5nIGh0dHBzOi8vZ2l0aHViLmNvbS9sb2NhbHZvaWQvaXZpL2Jsb2IvZGRjMDlkMDZhYmFlZjQ1MjQ4ZTYxMzNmNzA0MGQwMGQzYzZiZTg1My9wYWNrYWdlcy9pdmkvc3JjL3Zkb20vaW1wbGVtZW50YXRpb24udHMjTDYxNy1MODM3XG5cdC8vIG1heSBiZSBnb29kIGZvciBjb250ZXh0IG9uIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS1iYXNlZCBsb2dpYyBmb3IgbW92aW5nIG5vZGVzLlxuXHQvL1xuXHQvLyBJbiBvcmRlciB0byBkaWZmIGtleWVkIGxpc3RzLCBvbmUgaGFzIHRvXG5cdC8vXG5cdC8vIDEpIG1hdGNoMCBub2RlcyBpbiBib3RoIGxpc3RzLCBwZXIga2V5LCBhbmQgdXBkYXRlIHRoZW0gYWNjb3JkaW5nbHlcblx0Ly8gMikgY3JlYXRlIHRoZSBub2RlcyBwcmVzZW50IGluIHRoZSBuZXcgbGlzdCwgYnV0IGFic2VudCBpbiB0aGUgb2xkIG9uZVxuXHQvLyAzKSByZW1vdmUgdGhlIG5vZGVzIHByZXNlbnQgaW4gdGhlIG9sZCBsaXN0LCBidXQgYWJzZW50IGluIHRoZSBuZXcgb25lXG5cdC8vIDQpIGZpZ3VyZSBvdXQgd2hhdCBub2RlcyBpbiAxKSB0byBtb3ZlIGluIG9yZGVyIHRvIG1pbmltaXplIHRoZSBET00gb3BlcmF0aW9ucy5cblx0Ly9cblx0Ly8gVG8gYWNoaWV2ZSAxKSBvbmUgY2FuIGNyZWF0ZSBhIGRpY3Rpb25hcnkgb2Yga2V5cyA9PiBpbmRleDAgKGZvciB0aGUgb2xkIGxpc3QpLCB0aGVuMSBpdGVyYXRlXG5cdC8vIG92ZXIgdGhlIG5ldyBsaXN0IGFuZCBmb3IgZWFjaCBuZXcgdm5vZGUzLCBmaW5kIHRoZSBjb3JyZXNwb25kaW5nIHZub2RlMyBpbiB0aGUgb2xkIGxpc3QgdXNpbmdcblx0Ly8gdGhlIG1hcC5cblx0Ly8gMikgaXMgYWNoaWV2ZWQgaW4gdGhlIHNhbWUgc3RlcDogaWYgYSBuZXcgbm9kZSBoYXMgbm8gY29ycmVzcG9uZGluZyBlbnRyeSBpbiB0aGUgbWFwLCBpdCBpcyBuZXdcblx0Ly8gYW5kIG11c3QgYmUgY3JlYXRlZC5cblx0Ly8gRm9yIHRoZSByZW1vdmFscywgd2UgYWN0dWFsbHkgcmVtb3ZlIHRoZSBub2RlcyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkIGZyb20gdGhlIG9sZCBsaXN0LlxuXHQvLyBUaGUgbm9kZXMgdGhhdCByZW1haW4gaW4gdGhhdCBsaXN0IGFmdGVyIDEpIGFuZCAyKSBoYXZlIGJlZW4gcGVyZm9ybWVkIGNhbiBiZSBzYWZlbHkgcmVtb3ZlZC5cblx0Ly8gVGhlIGZvdXJ0aCBzdGVwIGlzIGEgYml0IG1vcmUgY29tcGxleCBhbmQgcmVsaWVzIG9uIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UgKExJUylcblx0Ly8gYWxnb3JpdGhtLlxuXHQvL1xuXHQvLyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIGlzIHRoZSBsaXN0IG9mIG5vZGVzIHRoYXQgY2FuIHJlbWFpbiBpbiBwbGFjZS4gSW1hZ2luZSBnb2luZ1xuXHQvLyBmcm9tIGAxLDIsMyw0LDVgIHRvIGA0LDUsMSwyLDNgIHdoZXJlIHRoZSBudW1iZXJzIGFyZSBub3QgbmVjZXNzYXJpbHkgdGhlIGtleXMsIGJ1dCB0aGUgaW5kaWNlc1xuXHQvLyBjb3JyZXNwb25kaW5nIHRvIHRoZSBrZXllZCBub2RlcyBpbiB0aGUgb2xkIGxpc3QgKGtleWVkIG5vZGVzIGBlLGQsYyxiLGFgID0+IGBiLGEsZSxkLGNgIHdvdWxkXG5cdC8vICBtYXRjaDAgdGhlIGFib3ZlIGxpc3RzLCBmb3IgZXhhbXBsZSkuXG5cdC8vXG5cdC8vIEluIHRoZXJlIGFyZSB0d28gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZXM6IGA0LDVgIGFuZCBgMSwyLDNgLCB0aGUgbGF0dGVyIGJlaW5nIHRoZSBsb25nZXN0LiBXZVxuXHQvLyBjYW4gdXBkYXRlIHRob3NlIG5vZGVzIHdpdGhvdXQgbW92aW5nIHRoZW0sIGFuZCBvbmx5IGNhbGwgYGluc2VydE5vZGVgIG9uIGA0YCBhbmQgYDVgLlxuXHQvL1xuXHQvLyBAbG9jYWx2b2lkIGFkYXB0ZWQgdGhlIGFsZ28gdG8gYWxzbyBzdXBwb3J0IG5vZGUgZGVsZXRpb25zIGFuZCBpbnNlcnRpb25zICh0aGUgYGxpc2AgaXMgYWN0dWFsbHlcblx0Ly8gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSAqb2Ygb2xkIG5vZGVzIHN0aWxsIHByZXNlbnQgaW4gdGhlIG5ldyBsaXN0KikuXG5cdC8vXG5cdC8vIEl0IGlzIGEgZ2VuZXJhbCBhbGdvcml0aG0gdGhhdCBpcyBmaXJlcHJvb2YgaW4gYWxsIGNpcmN1bXN0YW5jZXMsIGJ1dCBpdCByZXF1aXJlcyB0aGUgYWxsb2NhdGlvblxuXHQvLyBhbmQgdGhlIGNvbnN0cnVjdGlvbiBvZiBhIGBrZXkgPT4gb2xkSW5kZXhgIG1hcCwgYW5kIHRocmVlIGFycmF5cyAob25lIHdpdGggYG5ld0luZGV4ID0+IG9sZEluZGV4YCxcblx0Ly8gdGhlIGBMSVNgIGFuZCBhIHRlbXBvcmFyeSBvbmUgdG8gY3JlYXRlIHRoZSBMSVMpLlxuXHQvL1xuXHQvLyBTbyB3ZSBjaGVhdCB3aGVyZSB3ZSBjYW46IGlmIHRoZSB0YWlscyBvZiB0aGUgbGlzdHMgYXJlIGlkZW50aWNhbCwgdGhleSBhcmUgZ3VhcmFudGVlZCB0byBiZSBwYXJ0IG9mXG5cdC8vIHRoZSBMSVMgYW5kIGNhbiBiZSB1cGRhdGVkIHdpdGhvdXQgbW92aW5nIHRoZW0uXG5cdC8vXG5cdC8vIElmIHR3byBub2RlcyBhcmUgc3dhcHBlZCwgdGhleSBhcmUgZ3VhcmFudGVlZCBub3QgdG8gYmUgcGFydCBvZiB0aGUgTElTLCBhbmQgbXVzdCBiZSBtb3ZlZCAod2l0aFxuXHQvLyB0aGUgZXhjZXB0aW9uIG9mIHRoZSBsYXN0IG5vZGUgaWYgdGhlIGxpc3QgaXMgZnVsbHkgcmV2ZXJzZWQpLlxuXHQvL1xuXHQvLyAjIyBGaW5kaW5nIHRoZSBuZXh0MCBzaWJsaW5nLlxuXHQvL1xuXHQvLyBgdXBkYXRlTm9kZSgpYCBhbmQgYGNyZWF0ZU5vZGUoKWAgZXhwZWN0IGEgbmV4dFNpYmxpbmcgcGFyYW1ldGVyIHRvIHBlcmZvcm0gRE9NIG9wZXJhdGlvbnMuXG5cdC8vIFdoZW4gdGhlIGxpc3QgaXMgYmVpbmcgdHJhdmVyc2VkIHRvcC1kb3duLCBhdCBhbnkgaW5kZXgwLCB0aGUgRE9NIG5vZGVzIHVwIHRvIHRoZSBwcmV2aW91c1xuXHQvLyB2bm9kZTMgcmVmbGVjdCB0aGUgY29udGVudCBvZiB0aGUgbmV3IGxpc3QsIHdoZXJlYXMgdGhlIHJlc3Qgb2YgdGhlIERPTSBub2RlcyByZWZsZWN0IHRoZSBvbGRcblx0Ly8gbGlzdC4gVGhlIG5leHQwIHNpYmxpbmcgbXVzdCBiZSBsb29rZWQgZm9yIGluIHRoZSBvbGQgbGlzdCB1c2luZyBgZ2V0TmV4dFNpYmxpbmcoLi4uIG9sZFN0YXJ0ICsgMSAuLi4pYC5cblx0Ly9cblx0Ly8gSW4gdGhlIG90aGVyIHNjZW5hcmlvcyAoc3dhcHMsIHVwd2FyZHMgdHJhdmVyc2FsLCBtYXAtYmFzZWQgZGlmZiksXG5cdC8vIHRoZSBuZXcgdm5vZGVzIGxpc3QgaXMgdHJhdmVyc2VkIHVwd2FyZHMuIFRoZSBET00gbm9kZXMgYXQgdGhlIGJvdHRvbSBvZiB0aGUgbGlzdCByZWZsZWN0IHRoZVxuXHQvLyBib3R0b20gcGFydCBvZiB0aGUgbmV3IHZub2RlcyBsaXN0LCBhbmQgd2UgY2FuIHVzZSB0aGUgYHYuZG9tYCAgdmFsdWUgb2YgdGhlIHByZXZpb3VzIG5vZGVcblx0Ly8gYXMgdGhlIG5leHQwIHNpYmxpbmcgKGNhY2hlZCBpbiB0aGUgYG5leHRTaWJsaW5nYCB2YXJpYWJsZSkuXG5cdC8vICMjIERPTSBub2RlIG1vdmVzXG5cdC8vXG5cdC8vIEluIG1vc3Qgc2NlbmFyaW9zIGB1cGRhdGVOb2RlKClgIGFuZCBgY3JlYXRlTm9kZSgpYCBwZXJmb3JtIHRoZSBET00gb3BlcmF0aW9ucy4gSG93ZXZlcixcblx0Ly8gdGhpcyBpcyBub3QgdGhlIGNhc2UgaWYgdGhlIG5vZGUgbW92ZWQgKHNlY29uZCBhbmQgZm91cnRoIHBhcnQgb2YgdGhlIGRpZmYgYWxnbykuIFdlIG1vdmVcblx0Ly8gdGhlIG9sZCBET00gbm9kZXMgYmVmb3JlIHVwZGF0ZU5vZGUgcnVuczAgYmVjYXVzZSBpdCBlbmFibGVzIHVzIHRvIHVzZSB0aGUgY2FjaGVkIGBuZXh0U2libGluZ2Bcblx0Ly8gdmFyaWFibGUgcmF0aGVyIHRoYW4gZmV0Y2hpbmcgaXQgdXNpbmcgYGdldE5leHRTaWJsaW5nKClgLlxuXHQvL1xuXHQvLyBUaGUgZm91cnRoIHBhcnQgb2YgdGhlIGRpZmYgY3VycmVudGx5IGluc2VydHMgbm9kZXMgdW5jb25kaXRpb25hbGx5LCBsZWFkaW5nIHRvIGlzc3Vlc1xuXHQvLyBsaWtlICMxNzkxIGFuZCAjMTk5OS4gV2UgbmVlZCB0byBiZSBzbWFydGVyIGFib3V0IHRob3NlIHNpdHVhdGlvbnMgd2hlcmUgYWRqYXNjZW50IG9sZFxuXHQvLyBub2RlcyByZW1haW4gdG9nZXRoZXIgaW4gdGhlIG5ldyBsaXN0IGluIGEgd2F5IHRoYXQgaXNuJ3QgY292ZXJlZCBieSBwYXJ0cyBvbmUgYW5kXG5cdC8vIHRocmVlIG9mIHRoZSBkaWZmIGFsZ28uXG5cdGZ1bmN0aW9uIHVwZGF0ZU5vZGVzKHBhcmVudCwgb2xkLCB2bm9kZXMsIGhvb2tzLCBuZXh0U2libGluZywgbnMpIHtcblx0XHRpZiAob2xkID09PSB2bm9kZXMgfHwgb2xkID09IG51bGwgJiYgdm5vZGVzID09IG51bGwpIHJldHVyblxuXHRcdGVsc2UgaWYgKG9sZCA9PSBudWxsIHx8IG9sZC5sZW5ndGggPT09IDApIGNyZWF0ZU5vZGVzKHBhcmVudCwgdm5vZGVzLCAwLCB2bm9kZXMubGVuZ3RoLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKVxuXHRcdGVsc2UgaWYgKHZub2RlcyA9PSBudWxsIHx8IHZub2Rlcy5sZW5ndGggPT09IDApIHJlbW92ZU5vZGVzKG9sZCwgMCwgb2xkLmxlbmd0aClcblx0XHRlbHNlIHtcblx0XHRcdHZhciBzdGFydCA9IDAsIG9sZFN0YXJ0ID0gMCwgaXNPbGRLZXllZCA9IG51bGwsIGlzS2V5ZWQgPSBudWxsXG5cdFx0XHRmb3IgKDsgb2xkU3RhcnQgPCBvbGQubGVuZ3RoOyBvbGRTdGFydCsrKSB7XG5cdFx0XHRcdGlmIChvbGRbb2xkU3RhcnRdICE9IG51bGwpIHtcblx0XHRcdFx0XHRpc09sZEtleWVkID0gb2xkW29sZFN0YXJ0XS5rZXkgIT0gbnVsbFxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoOyBzdGFydCA8IHZub2Rlcy5sZW5ndGg7IHN0YXJ0KyspIHtcblx0XHRcdFx0aWYgKHZub2Rlc1tzdGFydF0gIT0gbnVsbCkge1xuXHRcdFx0XHRcdGlzS2V5ZWQgPSB2bm9kZXNbc3RhcnRdLmtleSAhPSBudWxsXG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGlzS2V5ZWQgPT09IG51bGwgJiYgaXNPbGRLZXllZCA9PSBudWxsKSByZXR1cm4gLy8gYm90aCBsaXN0cyBhcmUgZnVsbCBvZiBudWxsc1xuXHRcdFx0aWYgKGlzT2xkS2V5ZWQgIT09IGlzS2V5ZWQpIHtcblx0XHRcdFx0cmVtb3ZlTm9kZXMob2xkLCBvbGRTdGFydCwgb2xkLmxlbmd0aClcblx0XHRcdFx0Y3JlYXRlTm9kZXMocGFyZW50LCB2bm9kZXMsIHN0YXJ0LCB2bm9kZXMubGVuZ3RoLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKVxuXHRcdFx0fSBlbHNlIGlmICghaXNLZXllZCkge1xuXHRcdFx0XHQvLyBEb24ndCBpbmRleDAgcGFzdCB0aGUgZW5kIG9mIGVpdGhlciBsaXN0IChjYXVzZXMgZGVvcHRzKS5cblx0XHRcdFx0dmFyIGNvbW1vbkxlbmd0aCA9IG9sZC5sZW5ndGggPCB2bm9kZXMubGVuZ3RoID8gb2xkLmxlbmd0aCA6IHZub2Rlcy5sZW5ndGhcblx0XHRcdFx0Ly8gUmV3aW5kIGlmIG5lY2Vzc2FyeSB0byB0aGUgZmlyc3Qgbm9uLW51bGwgaW5kZXgwIG9uIGVpdGhlciBzaWRlLlxuXHRcdFx0XHQvLyBXZSBjb3VsZCBhbHRlcm5hdGl2ZWx5IGVpdGhlciBleHBsaWNpdGx5IGNyZWF0ZSBvciByZW1vdmUgbm9kZXMgd2hlbiBgc3RhcnQgIT09IG9sZFN0YXJ0YFxuXHRcdFx0XHQvLyBidXQgdGhhdCB3b3VsZCBiZSBvcHRpbWl6aW5nIGZvciBzcGFyc2UgbGlzdHMgd2hpY2ggYXJlIG1vcmUgcmFyZSB0aGFuIGRlbnNlIG9uZXMuXG5cdFx0XHRcdHN0YXJ0ID0gc3RhcnQgPCBvbGRTdGFydCA/IHN0YXJ0IDogb2xkU3RhcnRcblx0XHRcdFx0Zm9yICg7IHN0YXJ0IDwgY29tbW9uTGVuZ3RoOyBzdGFydCsrKSB7XG5cdFx0XHRcdFx0byA9IG9sZFtzdGFydF1cblx0XHRcdFx0XHR2ID0gdm5vZGVzW3N0YXJ0XVxuXHRcdFx0XHRcdGlmIChvID09PSB2IHx8IG8gPT0gbnVsbCAmJiB2ID09IG51bGwpIGNvbnRpbnVlXG5cdFx0XHRcdFx0ZWxzZSBpZiAobyA9PSBudWxsKSBjcmVhdGVOb2RlKHBhcmVudCwgdiwgaG9va3MsIG5zLCBnZXROZXh0U2libGluZyhvbGQsIHN0YXJ0ICsgMSwgbmV4dFNpYmxpbmcpKVxuXHRcdFx0XHRcdGVsc2UgaWYgKHYgPT0gbnVsbCkgcmVtb3ZlTm9kZShvKVxuXHRcdFx0XHRcdGVsc2UgdXBkYXRlTm9kZShwYXJlbnQsIG8sIHYsIGhvb2tzLCBnZXROZXh0U2libGluZyhvbGQsIHN0YXJ0ICsgMSwgbmV4dFNpYmxpbmcpLCBucylcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob2xkLmxlbmd0aCA+IGNvbW1vbkxlbmd0aCkgcmVtb3ZlTm9kZXMob2xkLCBzdGFydCwgb2xkLmxlbmd0aClcblx0XHRcdFx0aWYgKHZub2Rlcy5sZW5ndGggPiBjb21tb25MZW5ndGgpIGNyZWF0ZU5vZGVzKHBhcmVudCwgdm5vZGVzLCBzdGFydCwgdm5vZGVzLmxlbmd0aCwgaG9va3MsIG5leHRTaWJsaW5nLCBucylcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGtleWVkIGRpZmZcblx0XHRcdFx0dmFyIG9sZEVuZCA9IG9sZC5sZW5ndGggLSAxLCBlbmQgPSB2bm9kZXMubGVuZ3RoIC0gMSwgbWFwLCBvLCB2LCBvZSwgdmUsIHRvcFNpYmxpbmdcblx0XHRcdFx0Ly8gYm90dG9tLXVwXG5cdFx0XHRcdHdoaWxlIChvbGRFbmQgPj0gb2xkU3RhcnQgJiYgZW5kID49IHN0YXJ0KSB7XG5cdFx0XHRcdFx0b2UgPSBvbGRbb2xkRW5kXVxuXHRcdFx0XHRcdHZlID0gdm5vZGVzW2VuZF1cblx0XHRcdFx0XHRpZiAob2UgPT0gbnVsbCkgb2xkRW5kLS1cblx0XHRcdFx0XHRlbHNlIGlmICh2ZSA9PSBudWxsKSBlbmQtLVxuXHRcdFx0XHRcdGVsc2UgaWYgKG9lLmtleSA9PT0gdmUua2V5KSB7XG5cdFx0XHRcdFx0XHRpZiAob2UgIT09IHZlKSB1cGRhdGVOb2RlKHBhcmVudCwgb2UsIHZlLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKVxuXHRcdFx0XHRcdFx0aWYgKHZlLmRvbSAhPSBudWxsKSBuZXh0U2libGluZyA9IHZlLmRvbVxuXHRcdFx0XHRcdFx0b2xkRW5kLS0sIGVuZC0tXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHRvcC1kb3duXG5cdFx0XHRcdHdoaWxlIChvbGRFbmQgPj0gb2xkU3RhcnQgJiYgZW5kID49IHN0YXJ0KSB7XG5cdFx0XHRcdFx0byA9IG9sZFtvbGRTdGFydF1cblx0XHRcdFx0XHR2ID0gdm5vZGVzW3N0YXJ0XVxuXHRcdFx0XHRcdGlmIChvID09IG51bGwpIG9sZFN0YXJ0Kytcblx0XHRcdFx0XHRlbHNlIGlmICh2ID09IG51bGwpIHN0YXJ0Kytcblx0XHRcdFx0XHRlbHNlIGlmIChvLmtleSA9PT0gdi5rZXkpIHtcblx0XHRcdFx0XHRcdG9sZFN0YXJ0KyssIHN0YXJ0Kytcblx0XHRcdFx0XHRcdGlmIChvICE9PSB2KSB1cGRhdGVOb2RlKHBhcmVudCwgbywgdiwgaG9va3MsIGdldE5leHRTaWJsaW5nKG9sZCwgb2xkU3RhcnQsIG5leHRTaWJsaW5nKSwgbnMpXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHN3YXBzIGFuZCBsaXN0IHJldmVyc2Fsc1xuXHRcdFx0XHR3aGlsZSAob2xkRW5kID49IG9sZFN0YXJ0ICYmIGVuZCA+PSBzdGFydCkge1xuXHRcdFx0XHRcdGlmIChvID09IG51bGwpIG9sZFN0YXJ0Kytcblx0XHRcdFx0XHRlbHNlIGlmICh2ID09IG51bGwpIHN0YXJ0Kytcblx0XHRcdFx0XHRlbHNlIGlmIChvZSA9PSBudWxsKSBvbGRFbmQtLVxuXHRcdFx0XHRcdGVsc2UgaWYgKHZlID09IG51bGwpIGVuZC0tXG5cdFx0XHRcdFx0ZWxzZSBpZiAoc3RhcnQgPT09IGVuZCkgYnJlYWtcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChvLmtleSAhPT0gdmUua2V5IHx8IG9lLmtleSAhPT0gdi5rZXkpIGJyZWFrXG5cdFx0XHRcdFx0XHR0b3BTaWJsaW5nID0gZ2V0TmV4dFNpYmxpbmcob2xkLCBvbGRTdGFydCwgbmV4dFNpYmxpbmcpXG5cdFx0XHRcdFx0XHRpbnNlcnROb2RlKHBhcmVudCwgdG9GcmFnbWVudChvZSksIHRvcFNpYmxpbmcpXG5cdFx0XHRcdFx0XHRpZiAob2UgIT09IHYpIHVwZGF0ZU5vZGUocGFyZW50LCBvZSwgdiwgaG9va3MsIHRvcFNpYmxpbmcsIG5zKVxuXHRcdFx0XHRcdFx0aWYgKCsrc3RhcnQgPD0gLS1lbmQpIGluc2VydE5vZGUocGFyZW50LCB0b0ZyYWdtZW50KG8pLCBuZXh0U2libGluZylcblx0XHRcdFx0XHRcdGlmIChvICE9PSB2ZSkgdXBkYXRlTm9kZShwYXJlbnQsIG8sIHZlLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKVxuXHRcdFx0XHRcdFx0aWYgKHZlLmRvbSAhPSBudWxsKSBuZXh0U2libGluZyA9IHZlLmRvbVxuXHRcdFx0XHRcdFx0b2xkU3RhcnQrKzsgb2xkRW5kLS1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0b2UgPSBvbGRbb2xkRW5kXVxuXHRcdFx0XHRcdHZlID0gdm5vZGVzW2VuZF1cblx0XHRcdFx0XHRvID0gb2xkW29sZFN0YXJ0XVxuXHRcdFx0XHRcdHYgPSB2bm9kZXNbc3RhcnRdXG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gYm90dG9tIHVwIG9uY2UgYWdhaW5cblx0XHRcdFx0d2hpbGUgKG9sZEVuZCA+PSBvbGRTdGFydCAmJiBlbmQgPj0gc3RhcnQpIHtcblx0XHRcdFx0XHRpZiAob2UgPT0gbnVsbCkgb2xkRW5kLS1cblx0XHRcdFx0XHRlbHNlIGlmICh2ZSA9PSBudWxsKSBlbmQtLVxuXHRcdFx0XHRcdGVsc2UgaWYgKG9lLmtleSA9PT0gdmUua2V5KSB7XG5cdFx0XHRcdFx0XHRpZiAob2UgIT09IHZlKSB1cGRhdGVOb2RlKHBhcmVudCwgb2UsIHZlLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKVxuXHRcdFx0XHRcdFx0aWYgKHZlLmRvbSAhPSBudWxsKSBuZXh0U2libGluZyA9IHZlLmRvbVxuXHRcdFx0XHRcdFx0b2xkRW5kLS0sIGVuZC0tXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG9lID0gb2xkW29sZEVuZF1cblx0XHRcdFx0XHR2ZSA9IHZub2Rlc1tlbmRdXG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHN0YXJ0ID4gZW5kKSByZW1vdmVOb2RlcyhvbGQsIG9sZFN0YXJ0LCBvbGRFbmQgKyAxKVxuXHRcdFx0XHRlbHNlIGlmIChvbGRTdGFydCA+IG9sZEVuZCkgY3JlYXRlTm9kZXMocGFyZW50LCB2bm9kZXMsIHN0YXJ0LCBlbmQgKyAxLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHQvLyBpbnNwaXJlZCBieSBpdmkgaHR0cHM6Ly9naXRodWIuY29tL2l2aWpzL2l2aS8gYnkgQm9yaXMgS2F1bFxuXHRcdFx0XHRcdHZhciBvcmlnaW5hbE5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcsIHZub2Rlc0xlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMSwgb2xkSW5kaWNlcyA9IG5ldyBBcnJheSh2bm9kZXNMZW5ndGgpLCBsaT0wLCBpPTAsIHBvcyA9IDIxNDc0ODM2NDcsIG1hdGNoZWQgPSAwLCBtYXAsIGxpc0luZGljZXNcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgdm5vZGVzTGVuZ3RoOyBpKyspIG9sZEluZGljZXNbaV0gPSAtMVxuXHRcdFx0XHRcdGZvciAoaSA9IGVuZDsgaSA+PSBzdGFydDsgaS0tKSB7XG5cdFx0XHRcdFx0XHRpZiAobWFwID09IG51bGwpIG1hcCA9IGdldEtleU1hcChvbGQsIG9sZFN0YXJ0LCBvbGRFbmQgKyAxKVxuXHRcdFx0XHRcdFx0dmUgPSB2bm9kZXNbaV1cblx0XHRcdFx0XHRcdGlmICh2ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBvbGRJbmRleCA9IG1hcFt2ZS5rZXldXG5cdFx0XHRcdFx0XHRcdGlmIChvbGRJbmRleCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0cG9zID0gKG9sZEluZGV4IDwgcG9zKSA/IG9sZEluZGV4IDogLTEgLy8gYmVjb21lcyAtMSBpZiBub2RlcyB3ZXJlIHJlLW9yZGVyZWRcblx0XHRcdFx0XHRcdFx0XHRvbGRJbmRpY2VzW2ktc3RhcnRdID0gb2xkSW5kZXhcblx0XHRcdFx0XHRcdFx0XHRvZSA9IG9sZFtvbGRJbmRleF1cblx0XHRcdFx0XHRcdFx0XHRvbGRbb2xkSW5kZXhdID0gbnVsbFxuXHRcdFx0XHRcdFx0XHRcdGlmIChvZSAhPT0gdmUpIHVwZGF0ZU5vZGUocGFyZW50LCBvZSwgdmUsIGhvb2tzLCBuZXh0U2libGluZywgbnMpXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHZlLmRvbSAhPSBudWxsKSBuZXh0U2libGluZyA9IHZlLmRvbVxuXHRcdFx0XHRcdFx0XHRcdG1hdGNoZWQrK1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5leHRTaWJsaW5nID0gb3JpZ2luYWxOZXh0U2libGluZ1xuXHRcdFx0XHRcdGlmIChtYXRjaGVkICE9PSBvbGRFbmQgLSBvbGRTdGFydCArIDEpIHJlbW92ZU5vZGVzKG9sZCwgb2xkU3RhcnQsIG9sZEVuZCArIDEpXG5cdFx0XHRcdFx0aWYgKG1hdGNoZWQgPT09IDApIGNyZWF0ZU5vZGVzKHBhcmVudCwgdm5vZGVzLCBzdGFydCwgZW5kICsgMSwgaG9va3MsIG5leHRTaWJsaW5nLCBucylcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChwb3MgPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHRoZSBpbmRpY2VzIG9mIHRoZSBpbmRpY2VzIG9mIHRoZSBpdGVtcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZVxuXHRcdFx0XHRcdFx0XHQvLyBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2UgaW4gdGhlIG9sZEluZGljZXMgbGlzdFxuXHRcdFx0XHRcdFx0XHRsaXNJbmRpY2VzID0gbWFrZUxpc0luZGljZXMob2xkSW5kaWNlcylcblx0XHRcdFx0XHRcdFx0bGkgPSBsaXNJbmRpY2VzLmxlbmd0aCAtIDFcblx0XHRcdFx0XHRcdFx0Zm9yIChpID0gZW5kOyBpID49IHN0YXJ0OyBpLS0pIHtcblx0XHRcdFx0XHRcdFx0XHR2ID0gdm5vZGVzW2ldXG5cdFx0XHRcdFx0XHRcdFx0aWYgKG9sZEluZGljZXNbaS1zdGFydF0gPT09IC0xKSBjcmVhdGVOb2RlKHBhcmVudCwgdiwgaG9va3MsIG5zLCBuZXh0U2libGluZylcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChsaXNJbmRpY2VzW2xpXSA9PT0gaSAtIHN0YXJ0KSBsaS0tXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIGluc2VydE5vZGUocGFyZW50LCB0b0ZyYWdtZW50KHYpLCBuZXh0U2libGluZylcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHYuZG9tICE9IG51bGwpIG5leHRTaWJsaW5nID0gdm5vZGVzW2ldLmRvbVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRmb3IgKGkgPSBlbmQ7IGkgPj0gc3RhcnQ7IGktLSkge1xuXHRcdFx0XHRcdFx0XHRcdHYgPSB2bm9kZXNbaV1cblx0XHRcdFx0XHRcdFx0XHRpZiAob2xkSW5kaWNlc1tpLXN0YXJ0XSA9PT0gLTEpIGNyZWF0ZU5vZGUocGFyZW50LCB2LCBob29rcywgbnMsIG5leHRTaWJsaW5nKVxuXHRcdFx0XHRcdFx0XHRcdGlmICh2LmRvbSAhPSBudWxsKSBuZXh0U2libGluZyA9IHZub2Rlc1tpXS5kb21cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiB1cGRhdGVOb2RlKHBhcmVudCwgb2xkLCB2bm9kZTMsIGhvb2tzLCBuZXh0U2libGluZywgbnMpIHtcblx0XHR2YXIgb2xkVGFnID0gb2xkLnRhZywgdGFnID0gdm5vZGUzLnRhZ1xuXHRcdGlmIChvbGRUYWcgPT09IHRhZykge1xuXHRcdFx0dm5vZGUzLnN0YXRlID0gb2xkLnN0YXRlXG5cdFx0XHR2bm9kZTMuZXZlbnRzID0gb2xkLmV2ZW50c1xuXHRcdFx0aWYgKHNob3VsZE5vdFVwZGF0ZSh2bm9kZTMsIG9sZCkpIHJldHVyblxuXHRcdFx0aWYgKHR5cGVvZiBvbGRUYWcgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0aWYgKHZub2RlMy5hdHRycyAhPSBudWxsKSB7XG5cdFx0XHRcdFx0dXBkYXRlTGlmZWN5Y2xlKHZub2RlMy5hdHRycywgdm5vZGUzLCBob29rcylcblx0XHRcdFx0fVxuXHRcdFx0XHRzd2l0Y2ggKG9sZFRhZykge1xuXHRcdFx0XHRcdGNhc2UgXCIjXCI6IHVwZGF0ZVRleHQob2xkLCB2bm9kZTMpOyBicmVha1xuXHRcdFx0XHRcdGNhc2UgXCI8XCI6IHVwZGF0ZUhUTUwocGFyZW50LCBvbGQsIHZub2RlMywgbnMsIG5leHRTaWJsaW5nKTsgYnJlYWtcblx0XHRcdFx0XHRjYXNlIFwiW1wiOiB1cGRhdGVGcmFnbWVudChwYXJlbnQsIG9sZCwgdm5vZGUzLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKTsgYnJlYWtcblx0XHRcdFx0XHRkZWZhdWx0OiB1cGRhdGVFbGVtZW50KG9sZCwgdm5vZGUzLCBob29rcywgbnMpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgdXBkYXRlQ29tcG9uZW50KHBhcmVudCwgb2xkLCB2bm9kZTMsIGhvb2tzLCBuZXh0U2libGluZywgbnMpXG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0cmVtb3ZlTm9kZShvbGQpXG5cdFx0XHRjcmVhdGVOb2RlKHBhcmVudCwgdm5vZGUzLCBob29rcywgbnMsIG5leHRTaWJsaW5nKVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiB1cGRhdGVUZXh0KG9sZCwgdm5vZGUzKSB7XG5cdFx0aWYgKG9sZC5jaGlsZHJlbi50b1N0cmluZygpICE9PSB2bm9kZTMuY2hpbGRyZW4udG9TdHJpbmcoKSkge1xuXHRcdFx0b2xkLmRvbS5ub2RlVmFsdWUgPSB2bm9kZTMuY2hpbGRyZW5cblx0XHR9XG5cdFx0dm5vZGUzLmRvbSA9IG9sZC5kb21cblx0fVxuXHRmdW5jdGlvbiB1cGRhdGVIVE1MKHBhcmVudCwgb2xkLCB2bm9kZTMsIG5zLCBuZXh0U2libGluZykge1xuXHRcdGlmIChvbGQuY2hpbGRyZW4gIT09IHZub2RlMy5jaGlsZHJlbikge1xuXHRcdFx0dG9GcmFnbWVudChvbGQpXG5cdFx0XHRjcmVhdGVIVE1MKHBhcmVudCwgdm5vZGUzLCBucywgbmV4dFNpYmxpbmcpXG5cdFx0fVxuXHRcdGVsc2Ugdm5vZGUzLmRvbSA9IG9sZC5kb20sIHZub2RlMy5kb21TaXplID0gb2xkLmRvbVNpemVcblx0fVxuXHRmdW5jdGlvbiB1cGRhdGVGcmFnbWVudChwYXJlbnQsIG9sZCwgdm5vZGUzLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKSB7XG5cdFx0dXBkYXRlTm9kZXMocGFyZW50LCBvbGQuY2hpbGRyZW4sIHZub2RlMy5jaGlsZHJlbiwgaG9va3MsIG5leHRTaWJsaW5nLCBucylcblx0XHR2YXIgZG9tU2l6ZSA9IDAsIGNoaWxkcmVuMyA9IHZub2RlMy5jaGlsZHJlblxuXHRcdHZub2RlMy5kb20gPSBudWxsXG5cdFx0aWYgKGNoaWxkcmVuMyAhPSBudWxsKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuMy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hpbGQgPSBjaGlsZHJlbjNbaV1cblx0XHRcdFx0aWYgKGNoaWxkICE9IG51bGwgJiYgY2hpbGQuZG9tICE9IG51bGwpIHtcblx0XHRcdFx0XHRpZiAodm5vZGUzLmRvbSA9PSBudWxsKSB2bm9kZTMuZG9tID0gY2hpbGQuZG9tXG5cdFx0XHRcdFx0ZG9tU2l6ZSArPSBjaGlsZC5kb21TaXplIHx8IDFcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRvbVNpemUgIT09IDEpIHZub2RlMy5kb21TaXplID0gZG9tU2l6ZVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiB1cGRhdGVFbGVtZW50KG9sZCwgdm5vZGUzLCBob29rcywgbnMpIHtcblx0XHR2YXIgZWxlbWVudCA9IHZub2RlMy5kb20gPSBvbGQuZG9tXG5cdFx0bnMgPSBnZXROYW1lU3BhY2Uodm5vZGUzKSB8fCBuc1xuXHRcdGlmICh2bm9kZTMudGFnID09PSBcInRleHRhcmVhXCIpIHtcblx0XHRcdGlmICh2bm9kZTMuYXR0cnMgPT0gbnVsbCkgdm5vZGUzLmF0dHJzID0ge31cblx0XHRcdGlmICh2bm9kZTMudGV4dCAhPSBudWxsKSB7XG5cdFx0XHRcdHZub2RlMy5hdHRycy52YWx1ZSA9IHZub2RlMy50ZXh0IC8vRklYTUUgaGFuZGxlMCBtdWx0aXBsZSBjaGlsZHJlbjNcblx0XHRcdFx0dm5vZGUzLnRleHQgPSB1bmRlZmluZWRcblx0XHRcdH1cblx0XHR9XG5cdFx0dXBkYXRlQXR0cnModm5vZGUzLCBvbGQuYXR0cnMsIHZub2RlMy5hdHRycywgbnMpXG5cdFx0aWYgKHZub2RlMy5hdHRycyAhPSBudWxsICYmIHZub2RlMy5hdHRycy5jb250ZW50ZWRpdGFibGUgIT0gbnVsbCkge1xuXHRcdFx0c2V0Q29udGVudEVkaXRhYmxlKHZub2RlMylcblx0XHR9XG5cdFx0ZWxzZSBpZiAob2xkLnRleHQgIT0gbnVsbCAmJiB2bm9kZTMudGV4dCAhPSBudWxsICYmIHZub2RlMy50ZXh0ICE9PSBcIlwiKSB7XG5cdFx0XHRpZiAob2xkLnRleHQudG9TdHJpbmcoKSAhPT0gdm5vZGUzLnRleHQudG9TdHJpbmcoKSkgb2xkLmRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlMy50ZXh0XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0aWYgKG9sZC50ZXh0ICE9IG51bGwpIG9sZC5jaGlsZHJlbiA9IFtWbm9kZShcIiNcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZC50ZXh0LCB1bmRlZmluZWQsIG9sZC5kb20uZmlyc3RDaGlsZCldXG5cdFx0XHRpZiAodm5vZGUzLnRleHQgIT0gbnVsbCkgdm5vZGUzLmNoaWxkcmVuID0gW1Zub2RlKFwiI1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdm5vZGUzLnRleHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKV1cblx0XHRcdHVwZGF0ZU5vZGVzKGVsZW1lbnQsIG9sZC5jaGlsZHJlbiwgdm5vZGUzLmNoaWxkcmVuLCBob29rcywgbnVsbCwgbnMpXG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudChwYXJlbnQsIG9sZCwgdm5vZGUzLCBob29rcywgbmV4dFNpYmxpbmcsIG5zKSB7XG5cdFx0dm5vZGUzLmluc3RhbmNlID0gVm5vZGUubm9ybWFsaXplKGNhbGxIb29rLmNhbGwodm5vZGUzLnN0YXRlLnZpZXcsIHZub2RlMykpXG5cdFx0aWYgKHZub2RlMy5pbnN0YW5jZSA9PT0gdm5vZGUzKSB0aHJvdyBFcnJvcihcIkEgdmlldyBjYW5ub3QgcmV0dXJuIHRoZSB2bm9kZSBpdCByZWNlaXZlZCBhcyBhcmd1bWVudFwiKVxuXHRcdHVwZGF0ZUxpZmVjeWNsZSh2bm9kZTMuc3RhdGUsIHZub2RlMywgaG9va3MpXG5cdFx0aWYgKHZub2RlMy5hdHRycyAhPSBudWxsKSB1cGRhdGVMaWZlY3ljbGUodm5vZGUzLmF0dHJzLCB2bm9kZTMsIGhvb2tzKVxuXHRcdGlmICh2bm9kZTMuaW5zdGFuY2UgIT0gbnVsbCkge1xuXHRcdFx0aWYgKG9sZC5pbnN0YW5jZSA9PSBudWxsKSBjcmVhdGVOb2RlKHBhcmVudCwgdm5vZGUzLmluc3RhbmNlLCBob29rcywgbnMsIG5leHRTaWJsaW5nKVxuXHRcdFx0ZWxzZSB1cGRhdGVOb2RlKHBhcmVudCwgb2xkLmluc3RhbmNlLCB2bm9kZTMuaW5zdGFuY2UsIGhvb2tzLCBuZXh0U2libGluZywgbnMpXG5cdFx0XHR2bm9kZTMuZG9tID0gdm5vZGUzLmluc3RhbmNlLmRvbVxuXHRcdFx0dm5vZGUzLmRvbVNpemUgPSB2bm9kZTMuaW5zdGFuY2UuZG9tU2l6ZVxuXHRcdH1cblx0XHRlbHNlIGlmIChvbGQuaW5zdGFuY2UgIT0gbnVsbCkge1xuXHRcdFx0cmVtb3ZlTm9kZShvbGQuaW5zdGFuY2UpXG5cdFx0XHR2bm9kZTMuZG9tID0gdW5kZWZpbmVkXG5cdFx0XHR2bm9kZTMuZG9tU2l6ZSA9IDBcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR2bm9kZTMuZG9tID0gb2xkLmRvbVxuXHRcdFx0dm5vZGUzLmRvbVNpemUgPSBvbGQuZG9tU2l6ZVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBnZXRLZXlNYXAodm5vZGVzLCBzdGFydCwgZW5kKSB7XG5cdFx0dmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbClcblx0XHRmb3IgKDsgc3RhcnQgPCBlbmQ7IHN0YXJ0KyspIHtcblx0XHRcdHZhciB2bm9kZTMgPSB2bm9kZXNbc3RhcnRdXG5cdFx0XHRpZiAodm5vZGUzICE9IG51bGwpIHtcblx0XHRcdFx0dmFyIGtleSA9IHZub2RlMy5rZXlcblx0XHRcdFx0aWYgKGtleSAhPSBudWxsKSBtYXBba2V5XSA9IHN0YXJ0XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBtYXBcblx0fVxuXHQvLyBMaWZ0ZWQgZnJvbSBpdmkgaHR0cHM6Ly9naXRodWIuY29tL2l2aWpzL2l2aS9cblx0Ly8gdGFrZXMgYSBsaXN0IG9mIHVuaXF1ZSBudW1iZXJzICgtMSBpcyBzcGVjaWFsIGFuZCBjYW5cblx0Ly8gb2NjdXIgbXVsdGlwbGUgdGltZXMpIGFuZCByZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIGluZGljZXNcblx0Ly8gb2YgdGhlIGl0ZW1zIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGxvbmdlc3QgaW5jcmVhc2luZ1xuXHQvLyBzdWJzZXF1ZWNlXG5cdGZ1bmN0aW9uIG1ha2VMaXNJbmRpY2VzKGEpIHtcblx0XHR2YXIgcCA9IGEuc2xpY2UoKVxuXHRcdHZhciByZXN1bHQgPSBbXVxuXHRcdHJlc3VsdC5wdXNoKDApXG5cdFx0dmFyIHVcblx0XHR2YXIgdlxuXHRcdGZvciAodmFyIGkgPSAwLCBpbCA9IGEubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuXHRcdFx0aWYgKGFbaV0gPT09IC0xKSB7XG5cdFx0XHRcdGNvbnRpbnVlXG5cdFx0XHR9XG5cdFx0XHR2YXIgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV1cblx0XHRcdGlmIChhW2pdIDwgYVtpXSkge1xuXHRcdFx0XHRwW2ldID0galxuXHRcdFx0XHRyZXN1bHQucHVzaChpKVxuXHRcdFx0XHRjb250aW51ZVxuXHRcdFx0fVxuXHRcdFx0dSA9IDBcblx0XHRcdHYgPSByZXN1bHQubGVuZ3RoIC0gMVxuXHRcdFx0d2hpbGUgKHUgPCB2KSB7XG5cdFx0XHRcdHZhciBjID0gKCh1ICsgdikgLyAyKSB8IDAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG5cdFx0XHRcdGlmIChhW3Jlc3VsdFtjXV0gPCBhW2ldKSB7XG5cdFx0XHRcdFx0dSA9IGMgKyAxXG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0diA9IGNcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGFbaV0gPCBhW3Jlc3VsdFt1XV0pIHtcblx0XHRcdFx0aWYgKHUgPiAwKSB7XG5cdFx0XHRcdFx0cFtpXSA9IHJlc3VsdFt1IC0gMV1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXN1bHRbdV0gPSBpXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHUgPSByZXN1bHQubGVuZ3RoXG5cdFx0diA9IHJlc3VsdFt1IC0gMV1cblx0XHR3aGlsZSAodS0tID4gMCkge1xuXHRcdFx0cmVzdWx0W3VdID0gdlxuXHRcdFx0diA9IHBbdl1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdFxuXHR9XG5cdGZ1bmN0aW9uIHRvRnJhZ21lbnQodm5vZGUzKSB7XG5cdFx0dmFyIGNvdW50MCA9IHZub2RlMy5kb21TaXplXG5cdFx0aWYgKGNvdW50MCAhPSBudWxsIHx8IHZub2RlMy5kb20gPT0gbnVsbCkge1xuXHRcdFx0dmFyIGZyYWdtZW50ID0gJGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcblx0XHRcdGlmIChjb3VudDAgPiAwKSB7XG5cdFx0XHRcdHZhciBkb20gPSB2bm9kZTMuZG9tXG5cdFx0XHRcdHdoaWxlICgtLWNvdW50MCkgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9tLm5leHRTaWJsaW5nKVxuXHRcdFx0XHRmcmFnbWVudC5pbnNlcnRCZWZvcmUoZG9tLCBmcmFnbWVudC5maXJzdENoaWxkKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZyYWdtZW50XG5cdFx0fVxuXHRcdGVsc2UgcmV0dXJuIHZub2RlMy5kb21cblx0fVxuXHRmdW5jdGlvbiBnZXROZXh0U2libGluZyh2bm9kZXMsIGksIG5leHRTaWJsaW5nKSB7XG5cdFx0Zm9yICg7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh2bm9kZXNbaV0gIT0gbnVsbCAmJiB2bm9kZXNbaV0uZG9tICE9IG51bGwpIHJldHVybiB2bm9kZXNbaV0uZG9tXG5cdFx0fVxuXHRcdHJldHVybiBuZXh0U2libGluZ1xuXHR9XG5cdGZ1bmN0aW9uIGluc2VydE5vZGUocGFyZW50LCBkb20sIG5leHRTaWJsaW5nKSB7XG5cdFx0aWYgKG5leHRTaWJsaW5nICE9IG51bGwpIHBhcmVudC5pbnNlcnRCZWZvcmUoZG9tLCBuZXh0U2libGluZylcblx0XHRlbHNlIHBhcmVudC5hcHBlbmRDaGlsZChkb20pXG5cdH1cblx0ZnVuY3Rpb24gc2V0Q29udGVudEVkaXRhYmxlKHZub2RlMykge1xuXHRcdHZhciBjaGlsZHJlbjMgPSB2bm9kZTMuY2hpbGRyZW5cblx0XHRpZiAoY2hpbGRyZW4zICE9IG51bGwgJiYgY2hpbGRyZW4zLmxlbmd0aCA9PT0gMSAmJiBjaGlsZHJlbjNbMF0udGFnID09PSBcIjxcIikge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjaGlsZHJlbjNbMF0uY2hpbGRyZW5cblx0XHRcdGlmICh2bm9kZTMuZG9tLmlubmVySFRNTCAhPT0gY29udGVudCkgdm5vZGUzLmRvbS5pbm5lckhUTUwgPSBjb250ZW50XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHZub2RlMy50ZXh0ICE9IG51bGwgfHwgY2hpbGRyZW4zICE9IG51bGwgJiYgY2hpbGRyZW4zLmxlbmd0aCAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiQ2hpbGQgbm9kZSBvZiBhIGNvbnRlbnRlZGl0YWJsZSBtdXN0IGJlIHRydXN0ZWRcIilcblx0fVxuXHQvL3JlbW92ZVxuXHRmdW5jdGlvbiByZW1vdmVOb2Rlcyh2bm9kZXMsIHN0YXJ0LCBlbmQpIHtcblx0XHRmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuXHRcdFx0dmFyIHZub2RlMyA9IHZub2Rlc1tpXVxuXHRcdFx0aWYgKHZub2RlMyAhPSBudWxsKSByZW1vdmVOb2RlKHZub2RlMylcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlTm9kZSh2bm9kZTMpIHtcblx0XHR2YXIgZXhwZWN0ZWQgPSAxLCBjYWxsZWQgPSAwXG5cdFx0dmFyIG9yaWdpbmFsID0gdm5vZGUzLnN0YXRlXG5cdFx0aWYgKHR5cGVvZiB2bm9kZTMudGFnICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2bm9kZTMuc3RhdGUub25iZWZvcmVyZW1vdmUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IGNhbGxIb29rLmNhbGwodm5vZGUzLnN0YXRlLm9uYmVmb3JlcmVtb3ZlLCB2bm9kZTMpXG5cdFx0XHRpZiAocmVzdWx0ICE9IG51bGwgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0ZXhwZWN0ZWQrK1xuXHRcdFx0XHRyZXN1bHQudGhlbihjb250aW51YXRpb24sIGNvbnRpbnVhdGlvbilcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHZub2RlMy5hdHRycyAmJiB0eXBlb2Ygdm5vZGUzLmF0dHJzLm9uYmVmb3JlcmVtb3ZlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdHZhciByZXN1bHQgPSBjYWxsSG9vay5jYWxsKHZub2RlMy5hdHRycy5vbmJlZm9yZXJlbW92ZSwgdm5vZGUzKVxuXHRcdFx0aWYgKHJlc3VsdCAhPSBudWxsICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdGV4cGVjdGVkKytcblx0XHRcdFx0cmVzdWx0LnRoZW4oY29udGludWF0aW9uLCBjb250aW51YXRpb24pXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnRpbnVhdGlvbigpXG5cdFx0ZnVuY3Rpb24gY29udGludWF0aW9uKCkge1xuXHRcdFx0aWYgKCsrY2FsbGVkID09PSBleHBlY3RlZCkge1xuXHRcdFx0XHRjaGVja1N0YXRlKHZub2RlMywgb3JpZ2luYWwpXG5cdFx0XHRcdG9ucmVtb3ZlKHZub2RlMylcblx0XHRcdFx0aWYgKHZub2RlMy5kb20pIHtcblx0XHRcdFx0XHR2YXIgcGFyZW50ID0gdm5vZGUzLmRvbS5wYXJlbnROb2RlXG5cdFx0XHRcdFx0dmFyIGNvdW50MCA9IHZub2RlMy5kb21TaXplIHx8IDFcblx0XHRcdFx0XHR3aGlsZSAoLS1jb3VudDApIHBhcmVudC5yZW1vdmVDaGlsZCh2bm9kZTMuZG9tLm5leHRTaWJsaW5nKVxuXHRcdFx0XHRcdHBhcmVudC5yZW1vdmVDaGlsZCh2bm9kZTMuZG9tKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIG9ucmVtb3ZlKHZub2RlMykge1xuXHRcdGlmICh0eXBlb2Ygdm5vZGUzLnRhZyAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygdm5vZGUzLnN0YXRlLm9ucmVtb3ZlID09PSBcImZ1bmN0aW9uXCIpIGNhbGxIb29rLmNhbGwodm5vZGUzLnN0YXRlLm9ucmVtb3ZlLCB2bm9kZTMpXG5cdFx0aWYgKHZub2RlMy5hdHRycyAmJiB0eXBlb2Ygdm5vZGUzLmF0dHJzLm9ucmVtb3ZlID09PSBcImZ1bmN0aW9uXCIpIGNhbGxIb29rLmNhbGwodm5vZGUzLmF0dHJzLm9ucmVtb3ZlLCB2bm9kZTMpXG5cdFx0aWYgKHR5cGVvZiB2bm9kZTMudGFnICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRpZiAodm5vZGUzLmluc3RhbmNlICE9IG51bGwpIG9ucmVtb3ZlKHZub2RlMy5pbnN0YW5jZSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGNoaWxkcmVuMyA9IHZub2RlMy5jaGlsZHJlblxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4zKSkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuMy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciBjaGlsZCA9IGNoaWxkcmVuM1tpXVxuXHRcdFx0XHRcdGlmIChjaGlsZCAhPSBudWxsKSBvbnJlbW92ZShjaGlsZClcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvL2F0dHJzMlxuXHRmdW5jdGlvbiBzZXRBdHRycyh2bm9kZTMsIGF0dHJzMiwgbnMpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gYXR0cnMyKSB7XG5cdFx0XHRzZXRBdHRyKHZub2RlMywga2V5LCBudWxsLCBhdHRyczJba2V5XSwgbnMpXG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHNldEF0dHIodm5vZGUzLCBrZXksIG9sZCwgdmFsdWUsIG5zKSB7XG5cdFx0aWYgKGtleSA9PT0gXCJrZXlcIiB8fCBrZXkgPT09IFwiaXNcIiB8fCB2YWx1ZSA9PSBudWxsIHx8IGlzTGlmZWN5Y2xlTWV0aG9kKGtleSkgfHwgKG9sZCA9PT0gdmFsdWUgJiYgIWlzRm9ybUF0dHJpYnV0ZSh2bm9kZTMsIGtleSkpICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuXG5cdFx0aWYgKGtleVswXSA9PT0gXCJvXCIgJiYga2V5WzFdID09PSBcIm5cIikgcmV0dXJuIHVwZGF0ZUV2ZW50KHZub2RlMywga2V5LCB2YWx1ZSlcblx0XHRpZiAoa2V5LnNsaWNlKDAsIDYpID09PSBcInhsaW5rOlwiKSB2bm9kZTMuZG9tLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBrZXkuc2xpY2UoNiksIHZhbHVlKVxuXHRcdGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB1cGRhdGVTdHlsZSh2bm9kZTMuZG9tLCBvbGQsIHZhbHVlKVxuXHRcdGVsc2UgaWYgKGhhc1Byb3BlcnR5S2V5KHZub2RlMywga2V5LCBucykpIHtcblx0XHRcdGlmIChrZXkgPT09IFwidmFsdWVcIikge1xuXHRcdFx0XHQvLyBPbmx5IGRvIHRoZSBjb2VyY2lvbiBpZiB3ZSdyZSBhY3R1YWxseSBnb2luZyB0byBjaGVjayB0aGUgdmFsdWUuXG5cdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWltcGxpY2l0LWNvZXJjaW9uICovXG5cdFx0XHRcdC8vc2V0dGluZyBpbnB1dFt2YWx1ZV0gdG8gc2FtZSB2YWx1ZSBieSB0eXBpbmcgb24gZm9jdXNlZCBlbGVtZW50IG1vdmVzIGN1cnNvciB0byBlbmQgaW4gQ2hyb21lXG5cdFx0XHRcdGlmICgodm5vZGUzLnRhZyA9PT0gXCJpbnB1dFwiIHx8IHZub2RlMy50YWcgPT09IFwidGV4dGFyZWFcIikgJiYgdm5vZGUzLmRvbS52YWx1ZSA9PT0gXCJcIiArIHZhbHVlICYmIHZub2RlMy5kb20gPT09IGFjdGl2ZUVsZW1lbnQoKSkgcmV0dXJuXG5cdFx0XHRcdC8vc2V0dGluZyBzZWxlY3RbdmFsdWVdIHRvIHNhbWUgdmFsdWUgd2hpbGUgaGF2aW5nIHNlbGVjdCBvcGVuIGJsaW5rcyBzZWxlY3QgZHJvcGRvd24gaW4gQ2hyb21lXG5cdFx0XHRcdGlmICh2bm9kZTMudGFnID09PSBcInNlbGVjdFwiICYmIG9sZCAhPT0gbnVsbCAmJiB2bm9kZTMuZG9tLnZhbHVlID09PSBcIlwiICsgdmFsdWUpIHJldHVyblxuXHRcdFx0XHQvL3NldHRpbmcgb3B0aW9uW3ZhbHVlXSB0byBzYW1lIHZhbHVlIHdoaWxlIGhhdmluZyBzZWxlY3Qgb3BlbiBibGlua3Mgc2VsZWN0IGRyb3Bkb3duIGluIENocm9tZVxuXHRcdFx0XHRpZiAodm5vZGUzLnRhZyA9PT0gXCJvcHRpb25cIiAmJiBvbGQgIT09IG51bGwgJiYgdm5vZGUzLmRvbS52YWx1ZSA9PT0gXCJcIiArIHZhbHVlKSByZXR1cm5cblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1pbXBsaWNpdC1jb2VyY2lvbiAqL1xuXHRcdFx0fVxuXHRcdFx0Ly8gSWYgeW91IGFzc2lnbiBhbiBpbnB1dCB0eXBlMSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUUgMTEgd2l0aCBhbiBhc3NpZ25tZW50IGV4cHJlc3Npb24sIGFuIGVycm9yMSB3aWxsIG9jY3VyLlxuXHRcdFx0aWYgKHZub2RlMy50YWcgPT09IFwiaW5wdXRcIiAmJiBrZXkgPT09IFwidHlwZVwiKSB2bm9kZTMuZG9tLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKVxuXHRcdFx0ZWxzZSB2bm9kZTMuZG9tW2tleV0gPSB2YWx1ZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuXHRcdFx0XHRpZiAodmFsdWUpIHZub2RlMy5kb20uc2V0QXR0cmlidXRlKGtleSwgXCJcIilcblx0XHRcdFx0ZWxzZSB2bm9kZTMuZG9tLnJlbW92ZUF0dHJpYnV0ZShrZXkpXG5cdFx0XHR9XG5cdFx0XHRlbHNlIHZub2RlMy5kb20uc2V0QXR0cmlidXRlKGtleSA9PT0gXCJjbGFzc05hbWVcIiA/IFwiY2xhc3NcIiA6IGtleSwgdmFsdWUpXG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUF0dHIodm5vZGUzLCBrZXksIG9sZCwgbnMpIHtcblx0XHRpZiAoa2V5ID09PSBcImtleVwiIHx8IGtleSA9PT0gXCJpc1wiIHx8IG9sZCA9PSBudWxsIHx8IGlzTGlmZWN5Y2xlTWV0aG9kKGtleSkpIHJldHVyblxuXHRcdGlmIChrZXlbMF0gPT09IFwib1wiICYmIGtleVsxXSA9PT0gXCJuXCIgJiYgIWlzTGlmZWN5Y2xlTWV0aG9kKGtleSkpIHVwZGF0ZUV2ZW50KHZub2RlMywga2V5LCB1bmRlZmluZWQpXG5cdFx0ZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHVwZGF0ZVN0eWxlKHZub2RlMy5kb20sIG9sZCwgbnVsbClcblx0XHRlbHNlIGlmIChcblx0XHRcdGhhc1Byb3BlcnR5S2V5KHZub2RlMywga2V5LCBucylcblx0XHRcdCYmIGtleSAhPT0gXCJjbGFzc05hbWVcIlxuXHRcdFx0JiYgIShrZXkgPT09IFwidmFsdWVcIiAmJiAoXG5cdFx0XHRcdHZub2RlMy50YWcgPT09IFwib3B0aW9uXCJcblx0XHRcdFx0fHwgdm5vZGUzLnRhZyA9PT0gXCJzZWxlY3RcIiAmJiB2bm9kZTMuZG9tLnNlbGVjdGVkSW5kZXggPT09IC0xICYmIHZub2RlMy5kb20gPT09IGFjdGl2ZUVsZW1lbnQoKVxuXHRcdFx0KSlcblx0XHRcdCYmICEodm5vZGUzLnRhZyA9PT0gXCJpbnB1dFwiICYmIGtleSA9PT0gXCJ0eXBlXCIpXG5cdFx0KSB7XG5cdFx0XHR2bm9kZTMuZG9tW2tleV0gPSBudWxsXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBuc0xhc3RJbmRleCA9IGtleS5pbmRleE9mKFwiOlwiKVxuXHRcdFx0aWYgKG5zTGFzdEluZGV4ICE9PSAtMSkga2V5ID0ga2V5LnNsaWNlKG5zTGFzdEluZGV4ICsgMSlcblx0XHRcdGlmIChvbGQgIT09IGZhbHNlKSB2bm9kZTMuZG9tLnJlbW92ZUF0dHJpYnV0ZShrZXkgPT09IFwiY2xhc3NOYW1lXCIgPyBcImNsYXNzXCIgOiBrZXkpXG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHNldExhdGVTZWxlY3RBdHRycyh2bm9kZTMsIGF0dHJzMikge1xuXHRcdGlmIChcInZhbHVlXCIgaW4gYXR0cnMyKSB7XG5cdFx0XHRpZihhdHRyczIudmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHZub2RlMy5kb20uc2VsZWN0ZWRJbmRleCAhPT0gLTEpIHZub2RlMy5kb20udmFsdWUgPSBudWxsXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgbm9ybWFsaXplZCA9IFwiXCIgKyBhdHRyczIudmFsdWUgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvblxuXHRcdFx0XHRpZiAodm5vZGUzLmRvbS52YWx1ZSAhPT0gbm9ybWFsaXplZCB8fCB2bm9kZTMuZG9tLnNlbGVjdGVkSW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdFx0dm5vZGUzLmRvbS52YWx1ZSA9IG5vcm1hbGl6ZWRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoXCJzZWxlY3RlZEluZGV4XCIgaW4gYXR0cnMyKSBzZXRBdHRyKHZub2RlMywgXCJzZWxlY3RlZEluZGV4XCIsIG51bGwsIGF0dHJzMi5zZWxlY3RlZEluZGV4LCB1bmRlZmluZWQpXG5cdH1cblx0ZnVuY3Rpb24gdXBkYXRlQXR0cnModm5vZGUzLCBvbGQsIGF0dHJzMiwgbnMpIHtcblx0XHRpZiAoYXR0cnMyICE9IG51bGwpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBhdHRyczIpIHtcblx0XHRcdFx0c2V0QXR0cih2bm9kZTMsIGtleSwgb2xkICYmIG9sZFtrZXldLCBhdHRyczJba2V5XSwgbnMpXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciB2YWxcblx0XHRpZiAob2xkICE9IG51bGwpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBvbGQpIHtcblx0XHRcdFx0aWYgKCgodmFsID0gb2xkW2tleV0pICE9IG51bGwpICYmIChhdHRyczIgPT0gbnVsbCB8fCBhdHRyczJba2V5XSA9PSBudWxsKSkge1xuXHRcdFx0XHRcdHJlbW92ZUF0dHIodm5vZGUzLCBrZXksIHZhbCwgbnMpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gaXNGb3JtQXR0cmlidXRlKHZub2RlMywgYXR0cikge1xuXHRcdHJldHVybiBhdHRyID09PSBcInZhbHVlXCIgfHwgYXR0ciA9PT0gXCJjaGVja2VkXCIgfHwgYXR0ciA9PT0gXCJzZWxlY3RlZEluZGV4XCIgfHwgYXR0ciA9PT0gXCJzZWxlY3RlZFwiICYmIHZub2RlMy5kb20gPT09IGFjdGl2ZUVsZW1lbnQoKSB8fCB2bm9kZTMudGFnID09PSBcIm9wdGlvblwiICYmIHZub2RlMy5kb20ucGFyZW50Tm9kZSA9PT0gJGRvYy5hY3RpdmVFbGVtZW50XG5cdH1cblx0ZnVuY3Rpb24gaXNMaWZlY3ljbGVNZXRob2QoYXR0cikge1xuXHRcdHJldHVybiBhdHRyID09PSBcIm9uaW5pdFwiIHx8IGF0dHIgPT09IFwib25jcmVhdGVcIiB8fCBhdHRyID09PSBcIm9udXBkYXRlXCIgfHwgYXR0ciA9PT0gXCJvbnJlbW92ZVwiIHx8IGF0dHIgPT09IFwib25iZWZvcmVyZW1vdmVcIiB8fCBhdHRyID09PSBcIm9uYmVmb3JldXBkYXRlXCJcblx0fVxuXHRmdW5jdGlvbiBoYXNQcm9wZXJ0eUtleSh2bm9kZTMsIGtleSwgbnMpIHtcblx0XHQvLyBGaWx0ZXIgb3V0IG5hbWVzcGFjZWQga2V5c1xuXHRcdHJldHVybiBucyA9PT0gdW5kZWZpbmVkICYmIChcblx0XHRcdC8vIElmIGl0J3MgYSBjdXN0b20gZWxlbWVudCwganVzdCBrZWVwIGl0LlxuXHRcdFx0dm5vZGUzLnRhZy5pbmRleE9mKFwiLVwiKSA+IC0xIHx8IHZub2RlMy5hdHRycyAhPSBudWxsICYmIHZub2RlMy5hdHRycy5pcyB8fFxuXHRcdFx0Ly8gSWYgaXQncyBhIG5vcm1hbCBlbGVtZW50LCBsZXQncyB0cnkgdG8gYXZvaWQgYSBmZXcgYnJvd3NlciBidWdzLlxuXHRcdFx0a2V5ICE9PSBcImhyZWZcIiAmJiBrZXkgIT09IFwibGlzdFwiICYmIGtleSAhPT0gXCJmb3JtXCIgJiYga2V5ICE9PSBcIndpZHRoXCIgJiYga2V5ICE9PSBcImhlaWdodFwiLy8gJiYga2V5ICE9PSBcInR5cGVcIlxuXHRcdFx0Ly8gRGVmZXIgdGhlIHByb3BlcnR5IGNoZWNrIHVudGlsICphZnRlciogd2UgY2hlY2sgZXZlcnl0aGluZy5cblx0XHQpICYmIGtleSBpbiB2bm9kZTMuZG9tXG5cdH1cblx0Ly9zdHlsZVxuXHR2YXIgdXBwZXJjYXNlUmVnZXggPSAvW0EtWl0vZ1xuXHRmdW5jdGlvbiB0b0xvd2VyQ2FzZShjYXBpdGFsKSB7IHJldHVybiBcIi1cIiArIGNhcGl0YWwudG9Mb3dlckNhc2UoKSB9XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcblx0XHRyZXR1cm4ga2V5WzBdID09PSBcIi1cIiAmJiBrZXlbMV0gPT09IFwiLVwiID8ga2V5IDpcblx0XHRcdGtleSA9PT0gXCJjc3NGbG9hdFwiID8gXCJmbG9hdFwiIDpcblx0XHRcdFx0a2V5LnJlcGxhY2UodXBwZXJjYXNlUmVnZXgsIHRvTG93ZXJDYXNlKVxuXHR9XG5cdGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKGVsZW1lbnQsIG9sZCwgc3R5bGUpIHtcblx0XHRpZiAob2xkID09PSBzdHlsZSkge1xuXHRcdFx0Ly8gU3R5bGVzIGFyZSBlcXVpdmFsZW50LCBkbyBub3RoaW5nLlxuXHRcdH0gZWxzZSBpZiAoc3R5bGUgPT0gbnVsbCkge1xuXHRcdFx0Ly8gTmV3IHN0eWxlIGlzIG1pc3NpbmcsIGp1c3QgY2xlYXIgaXQuXG5cdFx0XHRlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBcIlwiXG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygc3R5bGUgIT09IFwib2JqZWN0XCIpIHtcblx0XHRcdC8vIE5ldyBzdHlsZSBpcyBhIHN0cmluZywgbGV0IGVuZ2luZSBkZWFsIHdpdGggcGF0Y2hpbmcuXG5cdFx0XHRlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZVxuXHRcdH0gZWxzZSBpZiAob2xkID09IG51bGwgfHwgdHlwZW9mIG9sZCAhPT0gXCJvYmplY3RcIikge1xuXHRcdFx0Ly8gYG9sZGAgaXMgbWlzc2luZyBvciBhIHN0cmluZywgYHN0eWxlYCBpcyBhbiBvYmplY3QuXG5cdFx0XHRlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBcIlwiXG5cdFx0XHQvLyBBZGQgbmV3IHN0eWxlIHByb3BlcnRpZXNcblx0XHRcdGZvciAodmFyIGtleSBpbiBzdHlsZSkge1xuXHRcdFx0XHR2YXIgdmFsdWUgPSBzdHlsZVtrZXldXG5cdFx0XHRcdGlmICh2YWx1ZSAhPSBudWxsKSBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KG5vcm1hbGl6ZUtleShrZXkpLCBTdHJpbmcodmFsdWUpKVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBCb3RoIG9sZCAmIG5ldyBhcmUgKGRpZmZlcmVudCkgb2JqZWN0cy5cblx0XHRcdC8vIFVwZGF0ZSBzdHlsZSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gc3R5bGUpIHtcblx0XHRcdFx0dmFyIHZhbHVlID0gc3R5bGVba2V5XVxuXHRcdFx0XHRpZiAodmFsdWUgIT0gbnVsbCAmJiAodmFsdWUgPSBTdHJpbmcodmFsdWUpKSAhPT0gU3RyaW5nKG9sZFtrZXldKSkge1xuXHRcdFx0XHRcdGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkobm9ybWFsaXplS2V5KGtleSksIHZhbHVlKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBSZW1vdmUgc3R5bGUgcHJvcGVydGllcyB0aGF0IG5vIGxvbmdlciBleGlzdFxuXHRcdFx0Zm9yICh2YXIga2V5IGluIG9sZCkge1xuXHRcdFx0XHRpZiAob2xkW2tleV0gIT0gbnVsbCAmJiBzdHlsZVtrZXldID09IG51bGwpIHtcblx0XHRcdFx0XHRlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KG5vcm1hbGl6ZUtleShrZXkpKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8vIEhlcmUncyBhbiBleHBsYW5hdGlvbiBvZiBob3cgdGhpcyB3b3Jrczpcblx0Ly8gMS4gVGhlIGV2ZW50IG5hbWVzIGFyZSBhbHdheXMgKGJ5IGRlc2lnbikgcHJlZml4ZWQgYnkgYG9uYC5cblx0Ly8gMi4gVGhlIEV2ZW50TGlzdGVuZXIgaW50ZXJmYWNlIGFjY2VwdHMgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0XG5cdC8vICAgIHdpdGggYSBgaGFuZGxlRXZlbnRgIG1ldGhvZDAuXG5cdC8vIDMuIFRoZSBvYmplY3QgZG9lcyBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYCwgdG8gYXZvaWRcblx0Ly8gICAgYW55IHBvdGVudGlhbCBpbnRlcmZlcmVuY2Ugd2l0aCB0aGF0IChlLmcuIHNldHRlcnMpLlxuXHQvLyA0LiBUaGUgZXZlbnQgbmFtZSBpcyByZW1hcHBlZCB0byB0aGUgaGFuZGxlcjAgYmVmb3JlIGNhbGxpbmcgaXQuXG5cdC8vIDUuIEluIGZ1bmN0aW9uLWJhc2VkIGV2ZW50IGhhbmRsZXJzLCBgZXYudGFyZ2V0ID09PSB0aGlzYC4gV2UgcmVwbGljYXRlXG5cdC8vICAgIHRoYXQgYmVsb3cuXG5cdC8vIDYuIEluIGZ1bmN0aW9uLWJhc2VkIGV2ZW50IGhhbmRsZXJzLCBgcmV0dXJuIGZhbHNlYCBwcmV2ZW50cyB0aGUgZGVmYXVsdFxuXHQvLyAgICBhY3Rpb24gYW5kIHN0b3BzIGV2ZW50IHByb3BhZ2F0aW9uLiBXZSByZXBsaWNhdGUgdGhhdCBiZWxvdy5cblx0ZnVuY3Rpb24gRXZlbnREaWN0KCkge31cblx0RXZlbnREaWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbClcblx0RXZlbnREaWN0LnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChldikge1xuXHRcdHZhciBoYW5kbGVyMCA9IHRoaXNbXCJvblwiICsgZXYudHlwZV1cblx0XHR2YXIgcmVzdWx0XG5cdFx0aWYgKHR5cGVvZiBoYW5kbGVyMCA9PT0gXCJmdW5jdGlvblwiKSByZXN1bHQgPSBoYW5kbGVyMC5jYWxsKGV2LmN1cnJlbnRUYXJnZXQsIGV2KVxuXHRcdGVsc2UgaWYgKHR5cGVvZiBoYW5kbGVyMC5oYW5kbGVFdmVudCA9PT0gXCJmdW5jdGlvblwiKSBoYW5kbGVyMC5oYW5kbGVFdmVudChldilcblx0XHRpZiAoZXYucmVkcmF3ID09PSBmYWxzZSkgZXYucmVkcmF3ID0gdW5kZWZpbmVkXG5cdFx0ZWxzZSBpZiAodHlwZW9mIHJlZHJhdzAgPT09IFwiZnVuY3Rpb25cIikgcmVkcmF3MCgpXG5cdFx0aWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcblx0XHRcdGV2LnByZXZlbnREZWZhdWx0KClcblx0XHRcdGV2LnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0fVxuXHR9XG5cdC8vZXZlbnRcblx0ZnVuY3Rpb24gdXBkYXRlRXZlbnQodm5vZGUzLCBrZXksIHZhbHVlKSB7XG5cdFx0aWYgKHZub2RlMy5ldmVudHMgIT0gbnVsbCkge1xuXHRcdFx0aWYgKHZub2RlMy5ldmVudHNba2V5XSA9PT0gdmFsdWUpIHJldHVyblxuXHRcdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikpIHtcblx0XHRcdFx0aWYgKHZub2RlMy5ldmVudHNba2V5XSA9PSBudWxsKSB2bm9kZTMuZG9tLmFkZEV2ZW50TGlzdGVuZXIoa2V5LnNsaWNlKDIpLCB2bm9kZTMuZXZlbnRzLCBmYWxzZSlcblx0XHRcdFx0dm5vZGUzLmV2ZW50c1trZXldID0gdmFsdWVcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh2bm9kZTMuZXZlbnRzW2tleV0gIT0gbnVsbCkgdm5vZGUzLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGtleS5zbGljZSgyKSwgdm5vZGUzLmV2ZW50cywgZmFsc2UpXG5cdFx0XHRcdHZub2RlMy5ldmVudHNba2V5XSA9IHVuZGVmaW5lZFxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCAmJiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSkge1xuXHRcdFx0dm5vZGUzLmV2ZW50cyA9IG5ldyBFdmVudERpY3QoKVxuXHRcdFx0dm5vZGUzLmRvbS5hZGRFdmVudExpc3RlbmVyKGtleS5zbGljZSgyKSwgdm5vZGUzLmV2ZW50cywgZmFsc2UpXG5cdFx0XHR2bm9kZTMuZXZlbnRzW2tleV0gPSB2YWx1ZVxuXHRcdH1cblx0fVxuXHQvL2xpZmVjeWNsZVxuXHRmdW5jdGlvbiBpbml0TGlmZWN5Y2xlKHNvdXJjZSwgdm5vZGUzLCBob29rcykge1xuXHRcdGlmICh0eXBlb2Ygc291cmNlLm9uaW5pdCA9PT0gXCJmdW5jdGlvblwiKSBjYWxsSG9vay5jYWxsKHNvdXJjZS5vbmluaXQsIHZub2RlMylcblx0XHRpZiAodHlwZW9mIHNvdXJjZS5vbmNyZWF0ZSA9PT0gXCJmdW5jdGlvblwiKSBob29rcy5wdXNoKGNhbGxIb29rLmJpbmQoc291cmNlLm9uY3JlYXRlLCB2bm9kZTMpKVxuXHR9XG5cdGZ1bmN0aW9uIHVwZGF0ZUxpZmVjeWNsZShzb3VyY2UsIHZub2RlMywgaG9va3MpIHtcblx0XHRpZiAodHlwZW9mIHNvdXJjZS5vbnVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSBob29rcy5wdXNoKGNhbGxIb29rLmJpbmQoc291cmNlLm9udXBkYXRlLCB2bm9kZTMpKVxuXHR9XG5cdGZ1bmN0aW9uIHNob3VsZE5vdFVwZGF0ZSh2bm9kZTMsIG9sZCkge1xuXHRcdGRvIHtcblx0XHRcdGlmICh2bm9kZTMuYXR0cnMgIT0gbnVsbCAmJiB0eXBlb2Ygdm5vZGUzLmF0dHJzLm9uYmVmb3JldXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0dmFyIGZvcmNlID0gY2FsbEhvb2suY2FsbCh2bm9kZTMuYXR0cnMub25iZWZvcmV1cGRhdGUsIHZub2RlMywgb2xkKVxuXHRcdFx0XHRpZiAoZm9yY2UgIT09IHVuZGVmaW5lZCAmJiAhZm9yY2UpIGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIHZub2RlMy50YWcgIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZub2RlMy5zdGF0ZS5vbmJlZm9yZXVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdHZhciBmb3JjZSA9IGNhbGxIb29rLmNhbGwodm5vZGUzLnN0YXRlLm9uYmVmb3JldXBkYXRlLCB2bm9kZTMsIG9sZClcblx0XHRcdFx0aWYgKGZvcmNlICE9PSB1bmRlZmluZWQgJiYgIWZvcmNlKSBicmVha1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fSB3aGlsZSAoZmFsc2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuXHRcdHZub2RlMy5kb20gPSBvbGQuZG9tXG5cdFx0dm5vZGUzLmRvbVNpemUgPSBvbGQuZG9tU2l6ZVxuXHRcdHZub2RlMy5pbnN0YW5jZSA9IG9sZC5pbnN0YW5jZVxuXHRcdHJldHVybiB0cnVlXG5cdH1cblx0ZnVuY3Rpb24gcmVuZGVyKGRvbSwgdm5vZGVzKSB7XG5cdFx0aWYgKCFkb20pIHRocm93IG5ldyBFcnJvcihcIkVuc3VyZSB0aGUgRE9NIGVsZW1lbnQgYmVpbmcgcGFzc2VkIHRvIG0ucm91dGUvbS5tb3VudC9tLnJlbmRlciBpcyBub3QgdW5kZWZpbmVkLlwiKVxuXHRcdHZhciBob29rcyA9IFtdXG5cdFx0dmFyIGFjdGl2ZSA9IGFjdGl2ZUVsZW1lbnQoKVxuXHRcdHZhciBuYW1lc3BhY2UgPSBkb20ubmFtZXNwYWNlVVJJXG5cdFx0Ly8gRmlyc3QgdGltZSByZW5kZXJpbmcwIGludG8gYSBub2RlIGNsZWFycyBpdCBvdXRcblx0XHRpZiAoZG9tLnZub2RlcyA9PSBudWxsKSBkb20udGV4dENvbnRlbnQgPSBcIlwiXG5cdFx0dm5vZGVzID0gVm5vZGUubm9ybWFsaXplQ2hpbGRyZW4oQXJyYXkuaXNBcnJheSh2bm9kZXMpID8gdm5vZGVzIDogW3Zub2Rlc10pXG5cdFx0dXBkYXRlTm9kZXMoZG9tLCBkb20udm5vZGVzLCB2bm9kZXMsIGhvb2tzLCBudWxsLCBuYW1lc3BhY2UgPT09IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiID8gdW5kZWZpbmVkIDogbmFtZXNwYWNlKVxuXHRcdGRvbS52bm9kZXMgPSB2bm9kZXNcblx0XHQvLyBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgY2FuIHJldHVybiBudWxsOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbnRlcmFjdGlvbi5odG1sI2RvbS1kb2N1bWVudC1hY3RpdmVlbGVtZW50XG5cdFx0aWYgKGFjdGl2ZSAhPSBudWxsICYmIGFjdGl2ZUVsZW1lbnQoKSAhPT0gYWN0aXZlICYmIHR5cGVvZiBhY3RpdmUuZm9jdXMgPT09IFwiZnVuY3Rpb25cIikgYWN0aXZlLmZvY3VzKClcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSBob29rc1tpXSgpXG5cdH1cblx0cmV0dXJuIHtyZW5kZXI6IHJlbmRlciwgc2V0UmVkcmF3OiBzZXRSZWRyYXd9XG59XG5mdW5jdGlvbiB0aHJvdHRsZShjYWxsYmFjaykge1xuXHR2YXIgcGVuZGluZyA9IG51bGxcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdGlmIChwZW5kaW5nID09PSBudWxsKSB7XG5cdFx0XHRwZW5kaW5nID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRwZW5kaW5nID0gbnVsbFxuXHRcdFx0XHRjYWxsYmFjaygpXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxufVxudmFyIF8xNSA9IGZ1bmN0aW9uKCR3aW5kb3csIHRocm90dGxlTW9jaykge1xuXHR2YXIgcmVuZGVyU2VydmljZSA9IGNvcmVSZW5kZXJlcigkd2luZG93KVxuXHR2YXIgY2FsbGJhY2tzID0gW11cblx0dmFyIHJlbmRlcmluZyA9IGZhbHNlXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShrZXksIGNhbGxiYWNrKSB7XG5cdFx0dW5zdWJzY3JpYmUoa2V5KVxuXHRcdGNhbGxiYWNrcy5wdXNoKGtleSwgY2FsbGJhY2spXG5cdH1cblx0ZnVuY3Rpb24gdW5zdWJzY3JpYmUoa2V5KSB7XG5cdFx0dmFyIGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2Yoa2V5KVxuXHRcdGlmIChpbmRleCA+IC0xKSBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAyKVxuXHR9XG5cdGZ1bmN0aW9uIHN5bmMoKSB7XG5cdFx0aWYgKHJlbmRlcmluZykgdGhyb3cgbmV3IEVycm9yKFwiTmVzdGVkIG0ucmVkcmF3LnN5bmMoKSBjYWxsXCIpXG5cdFx0cmVuZGVyaW5nID0gdHJ1ZVxuXHRcdGZvciAodmFyIGkgPSAxOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSs9MikgdHJ5IHtjYWxsYmFja3NbaV0oKX0gY2F0Y2ggKGUpIHtpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUuZXJyb3IoZSl9XG5cdFx0cmVuZGVyaW5nID0gZmFsc2Vcblx0fVxuXHR2YXIgcmVkcmF3ID0gKHRocm90dGxlTW9jayB8fCB0aHJvdHRsZSkoc3luYylcblx0cmVkcmF3LnN5bmMgPSBzeW5jXG5cdHJlbmRlclNlcnZpY2Uuc2V0UmVkcmF3KHJlZHJhdylcblx0cmV0dXJuIHtzdWJzY3JpYmU6IHN1YnNjcmliZSwgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlLCByZWRyYXc6IHJlZHJhdywgcmVuZGVyOiByZW5kZXJTZXJ2aWNlLnJlbmRlcn1cbn1cbnZhciByZWRyYXdTZXJ2aWNlID0gXzE1KHdpbmRvdylcbnJlcXVlc3RTZXJ2aWNlLnNldENvbXBsZXRpb25DYWxsYmFjayhyZWRyYXdTZXJ2aWNlLnJlZHJhdylcbnZhciBfMjAgPSBmdW5jdGlvbihyZWRyYXdTZXJ2aWNlMCkge1xuXHRyZXR1cm4gZnVuY3Rpb24ocm9vdCwgY29tcG9uZW50KSB7XG5cdFx0aWYgKGNvbXBvbmVudCA9PT0gbnVsbCkge1xuXHRcdFx0cmVkcmF3U2VydmljZTAucmVuZGVyKHJvb3QsIFtdKVxuXHRcdFx0cmVkcmF3U2VydmljZTAudW5zdWJzY3JpYmUocm9vdClcblx0XHRcdHJldHVyblxuXHRcdH1cblx0XHRcblx0XHRpZiAoY29tcG9uZW50LnZpZXcgPT0gbnVsbCAmJiB0eXBlb2YgY29tcG9uZW50ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcIm0ubW91bnQoZWxlbWVudCwgY29tcG9uZW50KSBleHBlY3RzIGEgY29tcG9uZW50LCBub3QgYSB2bm9kZVwiKVxuXHRcdFxuXHRcdHZhciBydW4wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZWRyYXdTZXJ2aWNlMC5yZW5kZXIocm9vdCwgVm5vZGUoY29tcG9uZW50KSlcblx0XHR9XG5cdFx0cmVkcmF3U2VydmljZTAuc3Vic2NyaWJlKHJvb3QsIHJ1bjApXG5cdFx0cnVuMCgpXG5cdH1cbn1cbm0ubW91bnQgPSBfMjAocmVkcmF3U2VydmljZSlcbnZhciBQcm9taXNlID0gUHJvbWlzZVBvbHlmaWxsXG52YXIgcGFyc2VRdWVyeVN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHRpZiAoc3RyaW5nID09PSBcIlwiIHx8IHN0cmluZyA9PSBudWxsKSByZXR1cm4ge31cblx0aWYgKHN0cmluZy5jaGFyQXQoMCkgPT09IFwiP1wiKSBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMSlcblx0dmFyIGVudHJpZXMgPSBzdHJpbmcuc3BsaXQoXCImXCIpLCBkYXRhMiA9IHt9LCBjb3VudGVycyA9IHt9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBlbnRyeSA9IGVudHJpZXNbaV0uc3BsaXQoXCI9XCIpXG5cdFx0dmFyIGtleTIgPSBkZWNvZGVVUklDb21wb25lbnQoZW50cnlbMF0pXG5cdFx0dmFyIHZhbHVlMCA9IGVudHJ5Lmxlbmd0aCA9PT0gMiA/IGRlY29kZVVSSUNvbXBvbmVudChlbnRyeVsxXSkgOiBcIlwiXG5cdFx0aWYgKHZhbHVlMCA9PT0gXCJ0cnVlXCIpIHZhbHVlMCA9IHRydWVcblx0XHRlbHNlIGlmICh2YWx1ZTAgPT09IFwiZmFsc2VcIikgdmFsdWUwID0gZmFsc2Vcblx0XHR2YXIgbGV2ZWxzID0ga2V5Mi5zcGxpdCgvXFxdXFxbP3xcXFsvKVxuXHRcdHZhciBjdXJzb3IgPSBkYXRhMlxuXHRcdGlmIChrZXkyLmluZGV4T2YoXCJbXCIpID4gLTEpIGxldmVscy5wb3AoKVxuXHRcdGZvciAodmFyIGowID0gMDsgajAgPCBsZXZlbHMubGVuZ3RoOyBqMCsrKSB7XG5cdFx0XHR2YXIgbGV2ZWwgPSBsZXZlbHNbajBdLCBuZXh0TGV2ZWwgPSBsZXZlbHNbajAgKyAxXVxuXHRcdFx0dmFyIGlzTnVtYmVyID0gbmV4dExldmVsID09IFwiXCIgfHwgIWlzTmFOKHBhcnNlSW50KG5leHRMZXZlbCwgMTApKVxuXHRcdFx0dmFyIGlzVmFsdWUgPSBqMCA9PT0gbGV2ZWxzLmxlbmd0aCAtIDFcblx0XHRcdGlmIChsZXZlbCA9PT0gXCJcIikge1xuXHRcdFx0XHR2YXIga2V5MiA9IGxldmVscy5zbGljZSgwLCBqMCkuam9pbigpXG5cdFx0XHRcdGlmIChjb3VudGVyc1trZXkyXSA9PSBudWxsKSBjb3VudGVyc1trZXkyXSA9IDBcblx0XHRcdFx0bGV2ZWwgPSBjb3VudGVyc1trZXkyXSsrXG5cdFx0XHR9XG5cdFx0XHRpZiAoY3Vyc29yW2xldmVsXSA9PSBudWxsKSB7XG5cdFx0XHRcdGN1cnNvcltsZXZlbF0gPSBpc1ZhbHVlID8gdmFsdWUwIDogaXNOdW1iZXIgPyBbXSA6IHt9XG5cdFx0XHR9XG5cdFx0XHRjdXJzb3IgPSBjdXJzb3JbbGV2ZWxdXG5cdFx0fVxuXHR9XG5cdHJldHVybiBkYXRhMlxufVxudmFyIGNvcmVSb3V0ZXIgPSBmdW5jdGlvbigkd2luZG93KSB7XG5cdHZhciBzdXBwb3J0c1B1c2hTdGF0ZSA9IHR5cGVvZiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlID09PSBcImZ1bmN0aW9uXCJcblx0dmFyIGNhbGxBc3luYzAgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZShmcmFnbWVudDApIHtcblx0XHR2YXIgZGF0YTEgPSAkd2luZG93LmxvY2F0aW9uW2ZyYWdtZW50MF0ucmVwbGFjZSgvKD86JVthLWY4OV1bYS1mMC05XSkrL2dpbSwgZGVjb2RlVVJJQ29tcG9uZW50KVxuXHRcdGlmIChmcmFnbWVudDAgPT09IFwicGF0aG5hbWVcIiAmJiBkYXRhMVswXSAhPT0gXCIvXCIpIGRhdGExID0gXCIvXCIgKyBkYXRhMVxuXHRcdHJldHVybiBkYXRhMVxuXHR9XG5cdHZhciBhc3luY0lkXG5cdGZ1bmN0aW9uIGRlYm91bmNlQXN5bmMoY2FsbGJhY2spIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoYXN5bmNJZCAhPSBudWxsKSByZXR1cm5cblx0XHRcdGFzeW5jSWQgPSBjYWxsQXN5bmMwKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRhc3luY0lkID0gbnVsbFxuXHRcdFx0XHRjYWxsYmFjaygpXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCwgcXVlcnlEYXRhLCBoYXNoRGF0YSkge1xuXHRcdHZhciBxdWVyeUluZGV4ID0gcGF0aC5pbmRleE9mKFwiP1wiKVxuXHRcdHZhciBoYXNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCIjXCIpXG5cdFx0dmFyIHBhdGhFbmQgPSBxdWVyeUluZGV4ID4gLTEgPyBxdWVyeUluZGV4IDogaGFzaEluZGV4ID4gLTEgPyBoYXNoSW5kZXggOiBwYXRoLmxlbmd0aFxuXHRcdGlmIChxdWVyeUluZGV4ID4gLTEpIHtcblx0XHRcdHZhciBxdWVyeUVuZCA9IGhhc2hJbmRleCA+IC0xID8gaGFzaEluZGV4IDogcGF0aC5sZW5ndGhcblx0XHRcdHZhciBxdWVyeVBhcmFtcyA9IHBhcnNlUXVlcnlTdHJpbmcocGF0aC5zbGljZShxdWVyeUluZGV4ICsgMSwgcXVlcnlFbmQpKVxuXHRcdFx0Zm9yICh2YXIga2V5MSBpbiBxdWVyeVBhcmFtcykgcXVlcnlEYXRhW2tleTFdID0gcXVlcnlQYXJhbXNba2V5MV1cblx0XHR9XG5cdFx0aWYgKGhhc2hJbmRleCA+IC0xKSB7XG5cdFx0XHR2YXIgaGFzaFBhcmFtcyA9IHBhcnNlUXVlcnlTdHJpbmcocGF0aC5zbGljZShoYXNoSW5kZXggKyAxKSlcblx0XHRcdGZvciAodmFyIGtleTEgaW4gaGFzaFBhcmFtcykgaGFzaERhdGFba2V5MV0gPSBoYXNoUGFyYW1zW2tleTFdXG5cdFx0fVxuXHRcdHJldHVybiBwYXRoLnNsaWNlKDAsIHBhdGhFbmQpXG5cdH1cblx0dmFyIHJvdXRlciA9IHtwcmVmaXg6IFwiIyFcIn1cblx0cm91dGVyLmdldFBhdGggPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgdHlwZTIgPSByb3V0ZXIucHJlZml4LmNoYXJBdCgwKVxuXHRcdHN3aXRjaCAodHlwZTIpIHtcblx0XHRcdGNhc2UgXCIjXCI6IHJldHVybiBub3JtYWxpemUoXCJoYXNoXCIpLnNsaWNlKHJvdXRlci5wcmVmaXgubGVuZ3RoKVxuXHRcdFx0Y2FzZSBcIj9cIjogcmV0dXJuIG5vcm1hbGl6ZShcInNlYXJjaFwiKS5zbGljZShyb3V0ZXIucHJlZml4Lmxlbmd0aCkgKyBub3JtYWxpemUoXCJoYXNoXCIpXG5cdFx0XHRkZWZhdWx0OiByZXR1cm4gbm9ybWFsaXplKFwicGF0aG5hbWVcIikuc2xpY2Uocm91dGVyLnByZWZpeC5sZW5ndGgpICsgbm9ybWFsaXplKFwic2VhcmNoXCIpICsgbm9ybWFsaXplKFwiaGFzaFwiKVxuXHRcdH1cblx0fVxuXHRyb3V0ZXIuc2V0UGF0aCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGExLCBvcHRpb25zKSB7XG5cdFx0dmFyIHF1ZXJ5RGF0YSA9IHt9LCBoYXNoRGF0YSA9IHt9XG5cdFx0cGF0aCA9IHBhcnNlUGF0aChwYXRoLCBxdWVyeURhdGEsIGhhc2hEYXRhKVxuXHRcdGlmIChkYXRhMSAhPSBudWxsKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkxIGluIGRhdGExKSBxdWVyeURhdGFba2V5MV0gPSBkYXRhMVtrZXkxXVxuXHRcdFx0cGF0aCA9IHBhdGgucmVwbGFjZSgvOihbXlxcL10rKS9nLCBmdW5jdGlvbihtYXRjaDEsIHRva2VuKSB7XG5cdFx0XHRcdGRlbGV0ZSBxdWVyeURhdGFbdG9rZW5dXG5cdFx0XHRcdHJldHVybiBkYXRhMVt0b2tlbl1cblx0XHRcdH0pXG5cdFx0fVxuXHRcdHZhciBxdWVyeSA9IGJ1aWxkUXVlcnlTdHJpbmcocXVlcnlEYXRhKVxuXHRcdGlmIChxdWVyeSkgcGF0aCArPSBcIj9cIiArIHF1ZXJ5XG5cdFx0dmFyIGhhc2ggPSBidWlsZFF1ZXJ5U3RyaW5nKGhhc2hEYXRhKVxuXHRcdGlmIChoYXNoKSBwYXRoICs9IFwiI1wiICsgaGFzaFxuXHRcdGlmIChzdXBwb3J0c1B1c2hTdGF0ZSkge1xuXHRcdFx0dmFyIHN0YXRlID0gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdGUgOiBudWxsXG5cdFx0XHR2YXIgdGl0bGUgPSBvcHRpb25zID8gb3B0aW9ucy50aXRsZSA6IG51bGxcblx0XHRcdCR3aW5kb3cub25wb3BzdGF0ZSgpXG5cdFx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlcGxhY2UpICR3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCByb3V0ZXIucHJlZml4ICsgcGF0aClcblx0XHRcdGVsc2UgJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHJvdXRlci5wcmVmaXggKyBwYXRoKVxuXHRcdH1cblx0XHRlbHNlICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJvdXRlci5wcmVmaXggKyBwYXRoXG5cdH1cblx0cm91dGVyLmRlZmluZVJvdXRlcyA9IGZ1bmN0aW9uKHJvdXRlcywgcmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0ZnVuY3Rpb24gcmVzb2x2ZVJvdXRlKCkge1xuXHRcdFx0dmFyIHBhdGggPSByb3V0ZXIuZ2V0UGF0aCgpXG5cdFx0XHR2YXIgcGFyYW1zID0ge31cblx0XHRcdHZhciBwYXRobmFtZSA9IHBhcnNlUGF0aChwYXRoLCBwYXJhbXMsIHBhcmFtcylcblx0XHRcdHZhciBzdGF0ZSA9ICR3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuXHRcdFx0aWYgKHN0YXRlICE9IG51bGwpIHtcblx0XHRcdFx0Zm9yICh2YXIgayBpbiBzdGF0ZSkgcGFyYW1zW2tdID0gc3RhdGVba11cblx0XHRcdH1cblx0XHRcdGZvciAodmFyIHJvdXRlMCBpbiByb3V0ZXMpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKFwiXlwiICsgcm91dGUwLnJlcGxhY2UoLzpbXlxcL10rP1xcLnszfS9nLCBcIiguKj8pXCIpLnJlcGxhY2UoLzpbXlxcL10rL2csIFwiKFteXFxcXC9dKylcIikgKyBcIlxcLz8kXCIpXG5cdFx0XHRcdGlmIChtYXRjaGVyLnRlc3QocGF0aG5hbWUpKSB7XG5cdFx0XHRcdFx0cGF0aG5hbWUucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBrZXlzID0gcm91dGUwLm1hdGNoKC86W15cXC9dKy9nKSB8fCBbXVxuXHRcdFx0XHRcdFx0dmFyIHZhbHVlcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxLCAtMilcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0XHRwYXJhbXNba2V5c1tpXS5yZXBsYWNlKC86fFxcLi9nLCBcIlwiKV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWVzW2ldKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVzb2x2ZShyb3V0ZXNbcm91dGUwXSwgcGFyYW1zLCBwYXRoLCByb3V0ZTApXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVqZWN0KHBhdGgsIHBhcmFtcylcblx0XHR9XG5cdFx0aWYgKHN1cHBvcnRzUHVzaFN0YXRlKSAkd2luZG93Lm9ucG9wc3RhdGUgPSBkZWJvdW5jZUFzeW5jKHJlc29sdmVSb3V0ZSlcblx0XHRlbHNlIGlmIChyb3V0ZXIucHJlZml4LmNoYXJBdCgwKSA9PT0gXCIjXCIpICR3aW5kb3cub25oYXNoY2hhbmdlID0gcmVzb2x2ZVJvdXRlXG5cdFx0cmVzb2x2ZVJvdXRlKClcblx0fVxuXHRyZXR1cm4gcm91dGVyXG59XG52YXIgXzI0ID0gZnVuY3Rpb24oJHdpbmRvdywgcmVkcmF3U2VydmljZTApIHtcblx0dmFyIHJvdXRlU2VydmljZSA9IGNvcmVSb3V0ZXIoJHdpbmRvdylcblx0dmFyIGlkZW50aXR5ID0gZnVuY3Rpb24odjApIHtyZXR1cm4gdjB9XG5cdHZhciByZW5kZXIxLCBjb21wb25lbnQsIGF0dHJzMywgY3VycmVudFBhdGgsIGxhc3RVcGRhdGVcblx0dmFyIHJvdXRlID0gZnVuY3Rpb24ocm9vdCwgZGVmYXVsdFJvdXRlLCByb3V0ZXMpIHtcblx0XHRpZiAocm9vdCA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJFbnN1cmUgdGhlIERPTSBlbGVtZW50IHRoYXQgd2FzIHBhc3NlZCB0byBgbS5yb3V0ZWAgaXMgbm90IHVuZGVmaW5lZFwiKVxuXHRcdGZ1bmN0aW9uIHJ1bjEoKSB7XG5cdFx0XHRpZiAocmVuZGVyMSAhPSBudWxsKSByZWRyYXdTZXJ2aWNlMC5yZW5kZXIocm9vdCwgcmVuZGVyMShWbm9kZShjb21wb25lbnQsIGF0dHJzMy5rZXksIGF0dHJzMykpKVxuXHRcdH1cblx0XHR2YXIgcmVkcmF3MyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cnVuMSgpXG5cdFx0XHRyZWRyYXczID0gcmVkcmF3U2VydmljZTAucmVkcmF3XG5cdFx0fVxuXHRcdHJlZHJhd1NlcnZpY2UwLnN1YnNjcmliZShyb290LCBydW4xKVxuXHRcdHZhciBiYWlsID0gZnVuY3Rpb24ocGF0aCkge1xuXHRcdFx0aWYgKHBhdGggIT09IGRlZmF1bHRSb3V0ZSkgcm91dGVTZXJ2aWNlLnNldFBhdGgoZGVmYXVsdFJvdXRlLCBudWxsLCB7cmVwbGFjZTogdHJ1ZX0pXG5cdFx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCByZXNvbHZlIGRlZmF1bHQgcm91dGUgXCIgKyBkZWZhdWx0Um91dGUpXG5cdFx0fVxuXHRcdHJvdXRlU2VydmljZS5kZWZpbmVSb3V0ZXMocm91dGVzLCBmdW5jdGlvbihwYXlsb2FkLCBwYXJhbXMsIHBhdGgpIHtcblx0XHRcdHZhciB1cGRhdGUgPSBsYXN0VXBkYXRlID0gZnVuY3Rpb24ocm91dGVSZXNvbHZlciwgY29tcCkge1xuXHRcdFx0XHRpZiAodXBkYXRlICE9PSBsYXN0VXBkYXRlKSByZXR1cm5cblx0XHRcdFx0Y29tcG9uZW50ID0gY29tcCAhPSBudWxsICYmICh0eXBlb2YgY29tcC52aWV3ID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIGNvbXAgPT09IFwiZnVuY3Rpb25cIik/IGNvbXAgOiBcImRpdlwiXG5cdFx0XHRcdGF0dHJzMyA9IHBhcmFtcywgY3VycmVudFBhdGggPSBwYXRoLCBsYXN0VXBkYXRlID0gbnVsbFxuXHRcdFx0XHRyZW5kZXIxID0gKHJvdXRlUmVzb2x2ZXIucmVuZGVyIHx8IGlkZW50aXR5KS5iaW5kKHJvdXRlUmVzb2x2ZXIpXG5cdFx0XHRcdHJlZHJhdzMoKVxuXHRcdFx0fVxuXHRcdFx0aWYgKHBheWxvYWQudmlldyB8fCB0eXBlb2YgcGF5bG9hZCA9PT0gXCJmdW5jdGlvblwiKSB1cGRhdGUoe30sIHBheWxvYWQpXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKHBheWxvYWQub25tYXRjaCkge1xuXHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZShwYXlsb2FkLm9ubWF0Y2gocGFyYW1zLCBwYXRoKSkudGhlbihmdW5jdGlvbihyZXNvbHZlZCkge1xuXHRcdFx0XHRcdFx0dXBkYXRlKHBheWxvYWQsIHJlc29sdmVkKVxuXHRcdFx0XHRcdH0sIGJhaWwpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB1cGRhdGUocGF5bG9hZCwgXCJkaXZcIilcblx0XHRcdH1cblx0XHR9LCBiYWlsKVxuXHR9XG5cdHJvdXRlLnNldCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEwLCBvcHRpb25zKSB7XG5cdFx0aWYgKGxhc3RVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblx0XHRcdG9wdGlvbnMucmVwbGFjZSA9IHRydWVcblx0XHR9XG5cdFx0bGFzdFVwZGF0ZSA9IG51bGxcblx0XHRyb3V0ZVNlcnZpY2Uuc2V0UGF0aChwYXRoLCBkYXRhMCwgb3B0aW9ucylcblx0fVxuXHRyb3V0ZS5nZXQgPSBmdW5jdGlvbigpIHtyZXR1cm4gY3VycmVudFBhdGh9XG5cdHJvdXRlLnByZWZpeCA9IGZ1bmN0aW9uKHByZWZpeCkge3JvdXRlU2VydmljZS5wcmVmaXggPSBwcmVmaXh9XG5cdHZhciBsaW5rID0gZnVuY3Rpb24ob3B0aW9ucywgdm5vZGU1KSB7XG5cdFx0dm5vZGU1LmRvbS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHJvdXRlU2VydmljZS5wcmVmaXggKyB2bm9kZTUuYXR0cnMuaHJlZilcblx0XHR2bm9kZTUuZG9tLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5IHx8IGUud2hpY2ggPT09IDIpIHJldHVyblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRlLnJlZHJhdyA9IGZhbHNlXG5cdFx0XHR2YXIgaHJlZiA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKVxuXHRcdFx0aWYgKGhyZWYuaW5kZXhPZihyb3V0ZVNlcnZpY2UucHJlZml4KSA9PT0gMCkgaHJlZiA9IGhyZWYuc2xpY2Uocm91dGVTZXJ2aWNlLnByZWZpeC5sZW5ndGgpXG5cdFx0XHRyb3V0ZS5zZXQoaHJlZiwgdW5kZWZpbmVkLCBvcHRpb25zKVxuXHRcdH1cblx0fVxuXHRyb3V0ZS5saW5rID0gZnVuY3Rpb24oYXJnczApIHtcblx0XHRpZiAoYXJnczAudGFnID09IG51bGwpIHJldHVybiBsaW5rLmJpbmQobGluaywgYXJnczApXG5cdFx0cmV0dXJuIGxpbmsoe30sIGFyZ3MwKVxuXHR9XG5cdHJvdXRlLnBhcmFtID0gZnVuY3Rpb24oa2V5MCkge1xuXHRcdGlmKHR5cGVvZiBhdHRyczMgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGtleTAgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBhdHRyczNba2V5MF1cblx0XHRyZXR1cm4gYXR0cnMzXG5cdH1cblx0cmV0dXJuIHJvdXRlXG59XG5tLnJvdXRlID0gXzI0KHdpbmRvdywgcmVkcmF3U2VydmljZSlcbnZhciBfMzEgPSBjb3JlUmVuZGVyZXIod2luZG93KVxubS5yZW5kZXIgPSBfMzEucmVuZGVyXG5tLnJlZHJhdyA9IHJlZHJhd1NlcnZpY2UucmVkcmF3XG5tLnJlcXVlc3QgPSByZXF1ZXN0U2VydmljZS5yZXF1ZXN0XG5tLmpzb25wID0gcmVxdWVzdFNlcnZpY2UuanNvbnBcbm0ucGFyc2VRdWVyeVN0cmluZyA9IHBhcnNlUXVlcnlTdHJpbmdcbm0uYnVpbGRRdWVyeVN0cmluZyA9IGJ1aWxkUXVlcnlTdHJpbmdcbm0udmVyc2lvbiA9IFwiMi4wLjAtcmMuNFwiXG5tLnZub2RlID0gVm5vZGVcbm0uUHJvbWlzZVBvbHlmaWxsID0gUHJvbWlzZVBvbHlmaWxsXG5cbmV4cG9ydCBkZWZhdWx0IG1cbnZhciBfbSA9IG0ubSxfdHJ1c3QgPSBtLnRydXN0LF9mcmFnbWVudCA9IG0uZnJhZ21lbnQsX21vdW50ID0gbS5tb3VudCxfcm91dGUgPSBtLnJvdXRlLF9yZW5kZXIgPSBtLnJlbmRlcixfcmVkcmF3ID0gbS5yZWRyYXcsX3JlcXVlc3QgPSBtLnJlcXVlc3QsX2pzb25wID0gbS5qc29ucCxfcGFyc2VRdWVyeVN0cmluZyA9IG0ucGFyc2VRdWVyeVN0cmluZyxfYnVpbGRRdWVyeVN0cmluZyA9IG0uYnVpbGRRdWVyeVN0cmluZyxfdmVyc2lvbiA9IG0udmVyc2lvbixfdm5vZGUgPSBtLnZub2RlLF9Qcm9taXNlUG9seWZpbGwgPSBtLlByb21pc2VQb2x5ZmlsbFxuZXhwb3J0IHtfbSBhcyBtLF90cnVzdCBhcyB0cnVzdCxfZnJhZ21lbnQgYXMgZnJhZ21lbnQsX21vdW50IGFzIG1vdW50LF9yb3V0ZSBhcyByb3V0ZSxfcmVuZGVyIGFzIHJlbmRlcixfcmVkcmF3IGFzIHJlZHJhdyxfcmVxdWVzdCBhcyByZXF1ZXN0LF9qc29ucCBhcyBqc29ucCxfcGFyc2VRdWVyeVN0cmluZyBhcyBwYXJzZVF1ZXJ5U3RyaW5nLF9idWlsZFF1ZXJ5U3RyaW5nIGFzIGJ1aWxkUXVlcnlTdHJpbmcsX3ZlcnNpb24gYXMgdmVyc2lvbixfdm5vZGUgYXMgdm5vZGUsX1Byb21pc2VQb2x5ZmlsbCBhcyBQcm9taXNlUG9seWZpbGx9Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mithril/mithril.mjs\n");

/***/ })

/******/ });